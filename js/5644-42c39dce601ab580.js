"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5644,4710],{49488:function(e,t,n){n.d(t,{Nk:function(){return f},QX:function(){return h}});var r=n(27195),a=n(97620),i=n(8857),s=n.n(i),o=n(93981),l=n(88825),c=n(5100),u=n(71957),d=n(3011),m=n(1242),f=new Array(32).fill(null),x=23e4,h=function(){var e=function(){var e=(0,u.p)().data,t=(0,d.KO)(m.dS),n=(0,a.Z)(t,1)[0],i=n.TARGET_MINT,o=n.useMerkleDistributorV2,f=(0,c.Os)().publicKey;return{claimTimes:(0,l.aM)(["enabled-time",null===f||void 0===f?void 0:f.toBase58(),i.toString(),o],(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===e||void 0===e?void 0:e.getClaimTimes(f));case 1:case"end":return t.stop()}}),t)}))),{enabled:!!f&&!!e,refetchIntervalInBackground:!1,refetchOnWindowFocus:!1,staleTime:1e4}).data}}().claimTimes,t=function(e){var t=(0,c.Rc)();return{currentSlot:(0,l.aM)(["currentSlot"],(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getSlot("processed"));case 1:case"end":return e.stop()}}),e)}))),{refetchInterval:function(t){return!(t&&e&&e.enableSlot<t)&&3e3},refetchIntervalInBackground:!1,staleTime:1e4}).data}}(e),n=t.currentSlot,i=(0,o.useMemo)((function(){return Boolean(n&&e&&n>e.enableSlot)}),[e,n]),h=(0,o.useMemo)((function(){if(!e||!n)return 0;var t=x/f.length,r=Math.floor((x-(e.enableSlot-n))/t);return Math.max(r,1)}),[e,n]);return{claimTimes:e,currentSlot:n,activeSlot:h,isReady:i}}},53636:function(e,t,n){var r=n(63956),a=n(54423),i=n(93981),s=n(87821),o=n(25546),l=n(29541),c=["currency"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.currency,n=void 0===t||t,r=(0,a.Z)(e,c),u=i.useMemo((function(){return","===o.A5?".":","}),[]);return(0,l.jsx)(s.Z,d(d({displayType:"text",prefix:n?"$":""},r),{},{decimalSeparator:o.A5,thousandSeparator:u}))}},45644:function(e,t,n){n.d(t,{Z:function(){return $e}});var r,a=n(27195),i=n(97620),s=n(8857),o=n.n(s),l=n(73360),c=n(7761),u=n(43165),d=n(14518),m=n(93981),f=n(71048),x=n(87821),h=n(39787),p=n(94107),v=n(5100),b=n(88825),g=n(76613),w=n(94728),k=n(13838),y=n(13170),j=n(69667),N=n(89388),S=n(25546),M=n(99438),C=n(26260),P=n(3561),A=n(74518),T=n(45462),O=n(33130),Z=n(66956),D=n(41118),V=n(71932),_=n(88381),I=86400,F=[{id:"second",name:c.ag._("second"),secondsInPeriod:1},{id:"minute",name:c.ag._("minute"),secondsInPeriod:60},{id:"hour",name:c.ag._("hour"),secondsInPeriod:3600},{id:"day",name:c.ag._("day"),secondsInPeriod:I},{id:"week",name:c.ag._("week"),secondsInPeriod:604800},{id:"month",name:c.ag._("month"),secondsInPeriod:2592e3}];!function(e){e.DCA="DCA",e.VA="VA"}(r||(r={}));var B=n(49488),E=n(9364),R={refetchId:(0,E.cn)(0),isLoading:(0,E.cn)(!1)},L=n(3011),K=n(49839),U=n(90342),H=n(29541),q=function(){return(0,H.jsx)("div",{className:"my-5 border-t-[1px] border-black-10 dark:border-white-10"})},W=function(e){var t,n,r=e.dcaClient,s=e.data,l=e.hideButtons,u=(0,b.NL)(),f=(0,v.Os)().publicKey,x=(0,L.KO)(R.refetchId),p=(0,i.Z)(x,1)[0],w=(0,v.Bn)().connection,y=m.useState(!1),j=(0,i.Z)(y,2),N=j[0],M=j[1],C=(0,v.C9)(),P=(0,O.R3)(),T=(0,L.KO)(K.yz),I=(0,i.Z)(T,1)[0],F=(0,U.gs)().priorityLevel,E=(0,B.QX)().isReady,W=m.useMemo((function(){return null===s||void 0===s?void 0:s.outRemaining.gt(0)}),[null===s||void 0===s?void 0:s.outRemaining]),G=m.useCallback((0,a.Z)(o().mark((function e(){var t,n,a,i,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,W&&s&&f){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.withdraw({user:f,dca:s.publicKey,outputMint:s.outputToken.address,withdrawOutAmount:null===s||void 0===s?void 0:s.outRemainingInBN});case 5:return t=e.sent,n=t.tx,e.next=9,w.getLatestBlockhash("confirmed");case 9:return a=e.sent,i=a.blockhash,l=a.lastValidBlockHeight,n.recentBlockhash=i,n.lastValidBlockHeight=l,n.feePayer=f,e.next=17,P(n,{blockhash:i,lastValidBlockHeight:l,idl:h.xO,idlProgramId:h.PN["mainnet-beta"]},{errorMessage:c.ag._("Failed to withdraw balances. Please try again."),submittingMessage:c.ag._("Withdrawing balances"),successMessage:c.ag._("Successfully withdrawed {0} {1}",{0:s.outRemaining.toString(),1:s.outputToken.symbol}),referenceFee:"MEDIUM"===F?I.loAndDCA:"HIGH"===F&&I.loAndDCA?1.5*I.loAndDCA:"VERY_HIGH"===F&&I.loAndDCA?3*I.loAndDCA:void 0});case 17:u.invalidateQueries({queryKey:["dca"]}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:if(e.prev=23,s){e.next=26;break}return e.abrupt("return");case 26:return C([s.inputToken.address,s.outputToken.address]),e.finish(23);case 28:case"end":return e.stop()}}),e,null,[[0,20,23,28]])}))),[W,s,f,r,w,P,u,I.loAndDCA,F,C]),z=m.useCallback((0,a.Z)(o().mark((function e(){var t,n,a,i,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s&&f){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.closeDCA({dca:s.publicKey,user:f});case 5:return t=e.sent,n=t.tx,e.next=9,w.getLatestBlockhash("confirmed");case 9:return a=e.sent,i=a.blockhash,l=a.lastValidBlockHeight,n.recentBlockhash=i,n.lastValidBlockHeight=l,n.feePayer=f,e.next=17,P(n,{blockhash:i,lastValidBlockHeight:l,idl:h.xO,idlProgramId:h.PN["mainnet-beta"]},{errorMessage:c.ag._("Failed to close order. Please try again."),submittingMessage:c.ag._("Closing DCA order"),successMessage:c.ag._("Successfully closed order"),referenceFee:"MEDIUM"===F?I.loAndDCA:"HIGH"===F&&I.loAndDCA?1.5*I.loAndDCA:"VERY_HIGH"===F&&I.loAndDCA?3*I.loAndDCA:void 0,minimumFee:K.uo,requestComputeBudgetLimit:3e5});case 17:d=e.sent,d.success&&u.setQueryData(["dca",null===f||void 0===f?void 0:f.toString(),p],(function(e){return e?e.filter((function(e){return!e.publicKey.equals(s.publicKey)})):e})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:if(e.prev=25,s){e.next=28;break}return e.abrupt("return");case 28:return C([s.inputToken.address,s.outputToken.address]),e.finish(25);case 30:case"end":return e.stop()}}),e,null,[[0,22,25,30]])}))),[w,s,r,P,F,f,u,I.loAndDCA,C,p]),Q=(0,Z.b)(null===s||void 0===s?void 0:s.inputToken,null===s||void 0===s?void 0:s.outputToken).baseTokenInfo,Y=m.useMemo((function(){var e;if(!D.d.find((function(e){var t,n;return e===(null===s||void 0===s||null===(t=s.inputToken)||void 0===t?void 0:t.address)||e===(null===s||void 0===s||null===(n=s.outputToken)||void 0===n?void 0:n.address)})))return null;var t=(null===s||void 0===s||null===(e=s.inputToken)||void 0===e?void 0:e.address)===(null===Q||void 0===Q?void 0:Q.address);return{isFromBase:Boolean(t)}}),[null===Q||void 0===Q?void 0:Q.address,null===s||void 0===s||null===(t=s.inputToken)||void 0===t?void 0:t.address,null===s||void 0===s||null===(n=s.outputToken)||void 0===n?void 0:n.address]);if(!s)return null;var J=s.inputToken,X=s.outputToken,$=s.warnings,ee=$.hasUnknownToken,te=$.tooFarFromExecution,ne=$.lessThanDCALimit,re=s.createdAt,ae=s.totalFilled,ie=s.cycleFrequency,se=s.inWithdrawn,oe=s.outWithdrawn,le=s.outRemaining,ce=s.initialDeposited,ue=s.avgPrice,de=s.inverseAvgPrice,me=s.balance,fe=s.cyclesLeft,xe=s.filledPercentage,he=s.nextCycleAt,pe=s.minOutAmount,ve=s.maxOutAmount,be=s.inRemaining,ge=s.isLaunchToken,we=s.inAmountPerCycle;return(0,H.jsxs)("div",{className:"bg-[#161B27] p-6 text-xs",children:[ee?(0,H.jsx)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5 mb-2",children:(0,H.jsxs)("div",{className:"text-warning text-xs flex space-x-1",children:[(0,H.jsx)("div",{className:"w-3 h-3 mt-0.5",children:(0,H.jsx)(V.Z,{width:12,height:12})}),(0,H.jsx)("span",{children:c.ag._("One or both tokens in your order can no longer be found on the token list.")})]})}):null,ne?(0,H.jsx)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5 mb-2",children:(0,H.jsxs)("div",{className:"text-warning text-xs flex space-x-1",children:[(0,H.jsx)("div",{className:"w-3 h-3 mt-0.5",children:(0,H.jsx)(V.Z,{width:12,height:12})}),(0,H.jsx)("div",{children:c.ag._("Jupiter is not filling this DCA because the value per order is less than {ACTIVE_DCA_MINIMUM_VALUE_PER_ORDER} USD",{ACTIVE_DCA_MINIMUM_VALUE_PER_ORDER:.5})})]})}):te&&!ge?(0,H.jsx)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5 mb-2",children:(0,H.jsxs)("div",{className:"text-warning text-xs flex space-x-1",children:[(0,H.jsx)("div",{className:"w-3 h-3 mt-0.5",children:(0,H.jsx)(V.Z,{width:12,height:12})}),(0,H.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,H.jsx)("span",{children:c.ag._("Jupiter tried to execute your order multiple times but could not do so. This can happen when:")}),(0,H.jsxs)("div",{className:"flex space-x-1",children:[(0,H.jsx)("span",{children:c.ag._("-")}),(0,H.jsx)("span",{children:c.ag._("The market no longer exists")})]}),(0,H.jsxs)("div",{className:"flex space-x-1",children:[(0,H.jsx)("span",{children:c.ag._("-")}),(0,H.jsx)("span",{children:c.ag._("The market price is out of the range of your advanced pricing strategy")})]}),(0,H.jsxs)("div",{className:"flex space-x-1",children:[(0,H.jsx)("span",{children:c.ag._("-")}),(0,H.jsx)("span",{children:c.ag._("The market is extremely volatile")})]}),(0,H.jsx)("div",{className:"pt-3",children:(0,H.jsx)("span",{className:"italic",children:c.ag._("Note that this DCA will continue to be attempted and your end date may be extended until your deposited tokens are fully utilized")})})]})]})}):null,(0,H.jsxs)("div",{className:"rounded-lg bg-v2-lily/5 p-5 space-y-2  border border-v2-lily/5",children:[(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/50",children:c.ag._("DCA {0} balance",{0:J.symbol})}),(0,H.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold",children:[me.toString()," ",J.symbol]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/50",children:c.ag._("DCA {0} balance",{0:X.symbol})}),(0,H.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold",children:[le.toString()," ",X.symbol]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/50",children:c.ag._("Amount Withdrawn")}),se?(0,H.jsxs)("div",{className:"flex flex-col",children:[(0,H.jsx)("span",{className:"text-v2-lily/[.75] font-semibold text-right",children:se?"".concat(se.toString()," ").concat(J.symbol):null}),(0,H.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold text-right",children:[oe.toString()," ",X.symbol]})]}):(0,H.jsxs)("span",{className:"text-v2-lily/[.75] font-semibold text-right",children:[oe.toString()," ",X.symbol]})]})]}),(0,H.jsxs)("div",{className:"mt-5 space-y-3 text-v2-lily/30",children:[(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Total Deposited")}),(0,H.jsxs)("span",{children:[g.uf.format(ce.toNumber())," ",J.symbol]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Total Spent")}),(0,H.jsxs)("span",{children:[g.uf.format(ae.toNumber())," ",J.symbol," (",new k.Z(xe).mul(100).round().toNumber(),"%)"]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Each order size")}),(0,H.jsxs)("span",{children:[we.toString()," ",J.symbol]})]}),ue.isNaN()?null:(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:be.eq(0)?c.ag._("Average Price"):c.ag._("Current Average Price")}),(0,H.jsx)("span",{className:"cursor-pointer hover:text-v2-primary",onClick:function(){return M(!N)},children:N?c.ag._("{0}  {1} per {2}",{0:(0,_.M)({value:+de.toSignificantDigits(6)}),1:X.symbol,2:J.symbol}):c.ag._("{0}  {1} per {2}",{0:(0,_.M)({value:+ue.toSignificantDigits(6)}),1:J.symbol,2:X.symbol})})]}),(0,H.jsx)(q,{}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Buying")}),(0,H.jsxs)("div",{className:"flex space-x-1",children:[(0,H.jsx)(A.Z,{info:X,width:16,height:16}),(0,H.jsx)("span",{children:X.symbol})]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Interval")}),(0,H.jsx)("span",{children:c.ag._("Every {0}(s)",{0:(0,S.FM)(ie)})})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("# of Orders Left")}),(0,H.jsx)("span",{children:fe.toNumber()})]}),he?(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Next Order")}),ge&&he.toString()===re.toString()&&!E?(0,H.jsx)("span",{children:"Start when trading is enabled"}):(0,H.jsx)("span",{children:(0,d.Z)(he,"dd MMM y HH:mm")})]}):null,(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Created")}),(0,H.jsx)("span",{children:(0,d.Z)(re,"dd MMM y HH:mm")})]}),ve?(0,H.jsxs)("div",{className:"flex items-center justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Minimum Price")}),(0,H.jsx)("div",{className:"flex items-center h-2",children:"".concat(ve.toFixed(null!==Y&&void 0!==Y&&Y.isFromBase?X.decimals:J.decimals)," ").concat(null!==Y&&void 0!==Y&&Y.isFromBase?X.symbol:J.symbol)})]}):null,pe?(0,H.jsxs)("div",{className:"flex items-center justify-between",children:[(0,H.jsx)("span",{children:c.ag._("Maximum Price")}),(0,H.jsx)("div",{className:"flex items-center h-2",children:"".concat(pe.toFixed(null!==Y&&void 0!==Y&&Y.isFromBase?X.decimals:J.decimals)," ").concat(null!==Y&&void 0!==Y&&Y.isFromBase?X.symbol:J.symbol)})]}):null]}),l?null:(0,H.jsxs)("div",{className:"mt-6 flex flex-col lg:flex-row w-full space-y-2 lg:space-y-0 lg:space-x-3",children:[W?(0,H.jsx)("button",{onClick:G,type:"button",className:"w-full px-4 py-1.5 rounded-lg text-sm text-white border border-v2-lily/10 bg-[#121D28] hover:bg-v2-primary/5 hover:bg-gradient-to-r from-[rgba(199,242,132,1))] to-[rgba(0,190,240,1)] dark:hover:border dark:hover:border-v2-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c.ag._("Withdraw balance")}):null,(0,H.jsx)("button",{onClick:z,type:"button",className:"w-full px-4 py-1.5 rounded-lg text-sm text-white border border-v2-lily/10 bg-[#121D28] hover:bg-v2-primary/5 hover:bg-gradient-to-r from-[rgba(199,242,132,1))] to-[rgba(0,190,240,1)] dark:hover:border dark:hover:border-v2-primary",children:s.balance.gt(0)?c.ag._("Close and Withdraw"):c.ag._("Close DCA")})]})]})},G=n(24628),z=function(e){var t=e.fillHistory,n=t.inputMint,r=t.outputMint,a=t.inAmount,i=t.outAmount,s=t.confirmedAt,o=t.txId,l=e.inverseRate,c=e.setInverseRate,u=(0,v.Bn)().getTokenInfo,f=(0,v.oP)().getExplorer,x=m.useMemo((function(){return{fromTokenInfo:u(n.toString()),toTokenInfo:u(r.toString())}}),[u,n,r]),h=x.fromTokenInfo,p=x.toTokenInfo,b=m.useMemo((function(){return h?new k.Z(a).div(Math.pow(10,h.decimals)).toString():""}),[h,a]),g=m.useMemo((function(){return p?new k.Z(i).div(Math.pow(10,p.decimals)).toString():""}),[p,i]),w=m.useMemo((function(){return(0,d.Z)(s,"y/MM/dd HH:mm")}),[s]),y=m.useMemo((function(){return f(o)}),[f,o]),j=(0,m.useMemo)((function(){return h&&p?new k.Z(new k.Z(i).div(Math.pow(10,p.decimals))).div(new k.Z(a).div(Math.pow(10,h.decimals))):new k.Z(0)}),[h,a,i,p]);return(0,H.jsxs)("div",{className:"text-xs flex space-x-4 justify-between",children:[(0,H.jsxs)("span",{className:"w-[80px] text-v2-lily/50 flex space-x-1 items-center",children:[(0,H.jsx)("span",{children:(0,S.Om)(b,5)}),(0,H.jsx)(A.Z,{info:h,width:16,height:16})]}),(0,H.jsx)("span",{className:"w-[80px] text-v2-lily/50 flex items-center cursor-pointer hover:text-v2-primary",onClick:function(){return c(!l)},children:j.gt(0)?l?(0,_.M)({value:+new k.Z(1).div(j).toSignificantDigits(6)}):(0,_.M)({value:+j.toSignificantDigits(6)}):"N/A"}),(0,H.jsxs)("span",{className:"w-[100px] flex space-x-1 items-center",children:[(0,H.jsx)("span",{children:(0,_.M)({value:+new k.Z(g).toSignificantDigits(6)})}),(0,H.jsx)(A.Z,{info:p,width:16,height:16})]}),(0,H.jsx)("span",{className:"w-[120px] text-v2-lily/50 flex items-center",children:w}),(0,H.jsx)("div",{className:"w-3 flex items-center",children:(0,H.jsx)("a",{href:y,target:"_blank",rel:"noreferrer",className:"w-3 h-5 text-xs text-v2-lily/50 hover:text-v2-primary",children:(0,H.jsx)(G.Z,{width:12,height:20})})})]})},Q=function(e){var t=e.fillHistory,n=m.useState(!0),r=(0,i.Z)(n,2),a=r[0],s=r[1];return(0,H.jsxs)("div",{className:"p-6 bg-[#161B27] min-h-[300px]",children:[(0,H.jsxs)("div",{className:"flex w-full justify-between space-x-4 text-xs text-v2-lily/50",children:[(0,H.jsx)("span",{className:"w-[80px]",children:c.ag._("From")}),(0,H.jsx)("span",{className:"w-[80px]",children:c.ag._("Rate")}),(0,H.jsx)("span",{className:"w-[100px]",children:c.ag._("To")}),(0,H.jsx)("span",{className:"w-[120px]",children:c.ag._("Date/Time")}),(0,H.jsx)("div",{className:"w-3"})]}),(0,H.jsx)("div",{className:"mt-3 space-y-3 max-h-[300px] overflow-y-auto hideScrollbar",children:t&&(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map((function(e){return(0,H.jsx)(z,{fillHistory:e,inverseRate:a,setInverseRate:s},e.txId)})):(0,H.jsx)("div",{className:"text-v2-lily/50 mt-4 text-xs flex items-center justify-center",children:c.ag._("No filled trades yet.")})})]})},Y=n(45009),J=n(64508),X=n.n(J),$=n(63956);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var te=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({address:e.address||w.PublicKey.default.toString(),decimals:0,name:"Unknown",chainId:101,symbol:"Unknown"},e)},ne=function(e){var t=e.data,n=e.dcaClient,r=e.hideButtons,s=m.useState(!1),l=(0,i.Z)(s,2),u=l[0],d=l[1],f=m.useState("Overview"),x=(0,i.Z)(f,2),h=x[0],p=x[1],b=t.inputToken,g=t.outputToken,w=t.netDeposited,y=t.filledPercentage,S=t.isLaunchToken,M=t.warnings,C=M.tooFarFromExecution,P=M.hasUnknownToken,O=(0,v.Os)().publicKey,Z=(0,v.oP)().getExplorer,D=(0,L.KO)(R.refetchId),_=(0,i.Z)(D,1)[0],I=(0,Y.a)(["dca-fill-history",null===O||void 0===O?void 0:O.toString(),t.publicKey.toString(),_],(function(){return O?t.fillHistory&&t.fillHistory.length>0?t.fillHistory:n.getFillHistory(t.publicKey.toString()):[]}),{keepPreviousData:!0}).data,F=(0,Y.a)(["missing-signatures",t.publicKey.toString()],(0,a.Z)(o().mark((function e(){var n,r,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://dca-api.jup.ag/missing-signatures/".concat(t.publicKey.toString()));case 3:if(!(n=e.sent).ok){e.next=13;break}return e.next=7,n.json();case 7:if(r=e.sent,a=r.data,!(i=a.missingSignatures).length){e.next=13;break}return e.next=13,fetch("https://dca-api.jup.ag/recover-signatures",{method:"POST",body:JSON.stringify({missingSignatures:i})});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])}))),{enabled:!1}).refetch,B=m.useMemo((function(){return Z(t.publicKey.toString(),"account")}),[Z,t.publicKey]);return(0,H.jsxs)("div",{className:"bg-dca-item rounded-lg mb-2",children:[(0,H.jsxs)("button",{className:"flex justify-between items-center h-[64px] w-full text-xs px-2 md:px-4",onClick:function(){u||F(),d((function(e){return!e}))},children:[(0,H.jsxs)("div",{className:"text-left basis-2/12 flex items-center space-x-2",children:[!P&&!C||S?(0,H.jsxs)("div",{className:"flex -space-x-2 cursor-pointer",children:[(0,H.jsx)("div",{className:"w-5 h-5",children:(0,H.jsx)(A.Z,{info:b,height:20,width:20})}),(0,H.jsx)("div",{className:"w-5 h-5",children:(0,H.jsx)(A.Z,{info:g,height:20,width:20})})]}):(0,H.jsx)("div",{className:"text-warning fill-current",children:(0,H.jsx)(V.Z,{height:20,width:20})}),(0,H.jsxs)("div",{className:"flex items-center justify-center space-x-1.5 text-white",children:[(0,H.jsx)("span",{children:b.symbol}),(0,H.jsx)("div",{className:"text-v2-lily/50 fill-current",children:(0,H.jsx)(T.Z,{width:10,height:10})}),(0,H.jsx)("span",{children:g.symbol})]}),(0,H.jsx)(X(),{href:B,target:"_blank",className:"text-v2-lily/50 hover:text-v2-primary",children:(0,H.jsx)(G.Z,{width:12,height:20})})]}),(0,H.jsxs)("div",{className:"text-white/[.75]",children:[w.toString()," ",b.symbol]}),(0,H.jsxs)("div",{className:"flex space-x-4",children:[(0,H.jsx)("div",{className:"bg-dca-fill-bg w-[60px] md:w-[106px] h-2 rounded-xl overflow-hidden",children:(0,H.jsx)("div",{className:"h-full rounded-xl bg-[#19C5E4]",style:{width:new k.Z(y).mul(100).toNumber()+"%"}})}),(0,H.jsx)("div",{className:(0,N.cn)(["text-v2-lily/[.35] fill-current",u?"":"-rotate-90"]),children:(0,H.jsx)(j.Z,{})})]})]}),(0,H.jsxs)("div",{className:(0,N.cn)("bg-dca-item rounded-b-lg overflow-hidden transition-max-height duration-200",u?"animate-fade-in":"animate-fade-out max-h-[0px]"),children:[(0,H.jsxs)("div",{className:"flex text-sm space-x-2 px-2 md:space-x-4 md:px-4",children:[(0,H.jsx)("button",{type:"button",onClick:function(){return p("Overview")},className:(0,N.cn)("text-v2-lily/50 p-3 border-b-2 border-transparent","Overview"===h?"font-semibold text-white border-b-v2-primary":""),children:c.ag._("Overview")}),(0,H.jsx)("button",{type:"button",onClick:function(){return p("Orders")},className:(0,N.cn)("text-v2-lily/50 p-3 border-b-2 border-transparent","Orders"===h?"font-semibold text-white border-b-v2-primary":""),children:c.ag._("Orders {0}",{0:null!==I&&void 0!==I&&I.length?"(".concat(null===I||void 0===I?void 0:I.length,")"):""})})]}),"Overview"===h?(0,H.jsx)(W,{dcaClient:n,data:t,hideButtons:r}):null,"Orders"===h?(0,H.jsx)(Q,{fillHistory:I}):null]})]})},re=function(e){var t=e.dca,n=e.dcaClient,r=(0,v.Bn)(),a=r.getTokenInfo,s=r.newTokenListMap,o=(0,v.y6)().tokenPriceMap,l=m.useMemo((function(){return[a(t.account.inputMint.toString()),a(t.account.outputMint.toString())]}),[t.account.inputMint,t.account.outputMint,a]),u=(0,i.Z)(l,2),d=u[0],f=u[1],x=m.useMemo((function(){var e;return o&&d?null===(e=o[null===d||void 0===d?void 0:d.address])||void 0===e?void 0:e.usd:null}),[o,d]),h=(0,Z.b)(d,f).baseTokenInfo,p=m.useMemo((function(){if(!D.d.find((function(e){return e===(null===d||void 0===d?void 0:d.address)||e===(null===f||void 0===f?void 0:f.address)})))return null;var e=(null===d||void 0===d?void 0:d.address)===(null===h||void 0===h?void 0:h.address);return{isFromBase:Boolean(e)}}),[null===h||void 0===h?void 0:h.address,null===d||void 0===d?void 0:d.address,null===f||void 0===f?void 0:f.address]),b=m.useMemo((function(){var e=t.account,n=e.inputMint,r=e.outputMint,i=e.createdAt,o=e.cycleFrequency,l=e.outReceived,u=e.outWithdrawn,d=e.inAmountPerCycle,m=e.inDeposited,f=e.inUsed,h=e.inWithdrawn,v=e.nextCycleAt,b=e.nextCycleAmountLeft,g=e.minOutAmount,w=e.maxOutAmount,y=m.sub(h).sub(f),j=a(n.toString()),N=a(r.toString()),S=j?new k.Z(f.toString()).div(Math.pow(10,j.decimals)).toFixed(j.decimals):new k.Z(0),M=N?new k.Z(l.toString()).div(Math.pow(10,N.decimals)).toFixed(N.decimals):new k.Z(0),C=new k.Z(S).div(new k.Z(M)),P=new k.Z(M).div(new k.Z(S)),A=new k.Z(y.toString()).div(d.toString()).floor(),T=a(n.toString()),O=null!==T&&void 0!==T?T:te({address:n.toString()}),Z=a(r.toString()),D=null!==Z&&void 0!==Z?Z:te({address:r.toString()}),V=new k.Z(v.toString()).add(3600).lte(Date.now()/1e3);k.Z.set({rounding:k.Z.ROUND_DOWN});var _=new k.Z(m.div(d).toString()).round(),I=x&&j?new k.Z(m.toString()).div(_).mul(x).div(new k.Z(10).pow(j.decimals)):void 0,F=!!I&&I.lessThan(new k.Z(3)),B=new k.Z(m.toString()).minus(new k.Z(h.toString())).div(new k.Z(10).pow(O.decimals)),E=new k.Z(f.toString()).div(new k.Z(10).pow(O.decimals)),R=s.has(D.address)||s.has(O.address);return{publicKey:t.publicKey,inputToken:O,outputToken:D,isLaunchToken:R,warnings:{hasUnknownToken:!T||!Z,tooFarFromExecution:V,lessThanDCALimit:F},inAmountPerCycle:new k.Z(d.toString()).div(Math.pow(10,O.decimals)),createdAt:new Date(1e3*i.toNumber()),cycleFrequency:o.toNumber(),balance:new k.Z(y.toString()).div(new k.Z(10).pow(O.decimals)),initialDeposited:new k.Z(m.toString()).div(Math.pow(10,O.decimals)),netDeposited:B,totalFilled:E,outReceived:new k.Z(l.toString()).div(new k.Z(10).pow(D.decimals)),outRemainingInBN:l.sub(u),outRemaining:new k.Z(l.sub(u).toString()).div(new k.Z(10).pow(D.decimals)),outWithdrawn:new k.Z(u.toString()).div(new k.Z(10).pow(D.decimals)),inRemaining:new k.Z(m.sub(f).sub(h).toString()).div(new k.Z(10).toPower(O.decimals)),avgPrice:C,inverseAvgPrice:P,filledPercentage:E.div(B),status:E.eq(B)?c.ag._("Completed"):c.ag._("Ongoing"),cyclesLeft:A,nextCycleAt:new Date(1e3*v.toNumber()),adjustedNextCycleAmountLeft:v?new k.Z(b.toString()).div(new k.Z(10).pow(O.decimals)):null,minOutAmount:function(){var e;if(null!==p&&void 0!==p&&p.isFromBase){if(!w||w.eqn(0))return null;var t=new k.Z(d.toString()).div(Math.pow(10,(null===j||void 0===j?void 0:j.decimals)||0));return new k.Z(w.toString()).div(Math.pow(10,(null===N||void 0===N?void 0:N.decimals)||0)).div(t)}if(!g||g.eqn(0))return null;var n=new k.Z(d.toString()).div(Math.pow(10,null!==(e=null===j||void 0===j?void 0:j.decimals)&&void 0!==e?e:0)),r=new k.Z(g.toString()).div(Math.pow(10,(null===N||void 0===N?void 0:N.decimals)||0));return n.div(r)}(),maxOutAmount:function(){if(null!==p&&void 0!==p&&p.isFromBase){if(!g||g.eqn(0))return null;var e=new k.Z(d.toString()).div(Math.pow(10,(null===j||void 0===j?void 0:j.decimals)||0));return new k.Z(g.toString()).div(Math.pow(10,(null===N||void 0===N?void 0:N.decimals)||0)).div(e)}if(!w||w.eqn(0))return null;var t=new k.Z(d.toString()).div(Math.pow(10,(null===j||void 0===j?void 0:j.decimals)||0)),n=new k.Z(w.toString()).div(Math.pow(10,(null===N||void 0===N?void 0:N.decimals)||0));return t.div(n)}()}}),[t.account,t.publicKey,a,null===p||void 0===p?void 0:p.isFromBase,x,s]);return b?(0,H.jsx)(ne,{data:b,dcaClient:n}):null},ae=function(e){return e instanceof w.PublicKey?e:e?new w.PublicKey(e):void 0},ie=n(56100),se=function(e){var t,n=e.dcaClient,r=e.inputMint,a=e.outputMint,s=(0,v.Os)(),o=(0,L.KO)(R.refetchId),l=(0,i.Z)(o,1)[0],u=(0,L.KO)(R.isLoading),d=(0,i.Z)(u,2),m=d[0],f=d[1],x=(0,b.aM)(["dca",null===(t=s.publicKey)||void 0===t?void 0:t.toString(),l],(function(){if(s.publicKey)return f(!0),n.getCurrentByUser(s.publicKey,ae(r),ae(a)).then((function(e){return e.sort((function(e,t){return t.account.createdAt.cmp(e.account.createdAt)}))})).finally((function(){f(!1)}))}),{enabled:Boolean(s.publicKey),keepPreviousData:!0}).data;return(0,H.jsxs)("div",{className:"mt-3 relative",children:[m&&!x&&(0,H.jsx)(ie.O,{className:"mt-2"}),x&&x.length>0?(0,H.jsx)("div",{className:"w-full border-white/5 overflow-x-auto hideScrollbar",children:x&&(null===x||void 0===x?void 0:x.map((function(e){return(0,H.jsx)(re,{dca:e,dcaClient:n},e.publicKey.toString())})))}):null,x&&x.length>0&&m?(0,H.jsx)("div",{className:"absolute top-0 left-0 bg-black/10 backdrop-blur-sm w-full min-h-[620px]"}):null,0===(null===x||void 0===x?void 0:x.length)?(0,H.jsx)("div",{className:"bg-v2-lily/5 border border-v2-lily/10 rounded-lg text-white/20 text-sm h-full w-full flex items-center justify-center min-h-[180px]",children:(0,H.jsx)("span",{children:c.ag._("You have no active orders")})}):null]})},oe=n(65558),le=n(32070),ce=function(e){var t,n=e.dcaClient,r=e.inputMint,s=e.outputMint,l=(0,v.Os)(),u=(0,v.Bn)().getTokenInfo,d=(0,L.KO)(R.refetchId),f=(0,i.Z)(d,1)[0],x=(0,L.KO)(R.isLoading),h=(0,i.Z)(x,2),p=h[0],b=h[1],g=(0,le.N)({queryKey:["dcaclosed",null===(t=l.publicKey)||void 0===t?void 0:t.toString(),f],queryFn:function(){var e=(0,a.Z)(o().mark((function e(t){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.pageParam,b(!0),l.publicKey){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,n.getClosedByUser(l.publicKey,a,5,ae(r),ae(s)).finally((function(){return b(!1)}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNextPageParam:function(e){if(e&&e.length>0)return new Date(1e3*e[e.length-1].account.createdAt.toNumber())}}),w=g.data,y=g.isFetching,j=g.hasNextPage,N=g.fetchNextPage,S=m.useMemo((function(){return null!==w&&void 0!==w&&w.pages?null===w||void 0===w?void 0:w.pages.flat().sort((function(e,t){return t.account.createdAt.cmp(e.account.createdAt)})).map((function(e){var t=e.account,n=t.inputMint,r=t.outputMint,a=t.createdAt,i=t.cycleFrequency,s=t.inAmountPerCycle,o=t.inDeposited,l=t.inFilled,c=t.outReceived,d=t.inWithdrawn,m=u(n.toString()),f=u(r.toString());if(!m||!f)return null;var x=new k.Z(o.toString()).div(Math.pow(10,m.decimals)),h=new k.Z(l.toString()).div(Math.pow(10,m.decimals)),p=new k.Z(c.toString()).div(Math.pow(10,f.decimals)),v=new k.Z(d.toString()).div(Math.pow(10,m.decimals)),b=new k.Z(o.toString()).div(new k.Z(10).pow(m.decimals));return{account:e.account,publicKey:e.publicKey,inputToken:m,outputToken:f,isLaunchToken:!1,warnings:{},createdAt:new Date(1e3*a.toNumber()),initialDeposited:x,inAmountPerCycle:new k.Z(s.toString()).div(Math.pow(10,m.decimals)),cycleFrequency:i.toNumber(),outReceived:p,totalFilled:h,inWithdrawn:v,outWithdrawn:p,avgPrice:h.div(p),inverseAvgPrice:p.div(h),filledPercentage:h.div(x),fills:e.fills,netDeposited:b,cyclesLeft:new k.Z(0),balance:new k.Z(0),outRemainingInBN:new oe.BN(0),outRemaining:new k.Z(0),inRemaining:new k.Z(0),status:"closed",nextCycleAt:null,adjustedNextCycleAmountLeft:new k.Z(0),closedFills:e.fills}})).filter(Boolean):[]}),[null===w||void 0===w?void 0:w.pages,u]);return p&&!w?(0,H.jsx)(ie.O,{className:"mt-2"}):(0,H.jsx)("div",{className:"mt-3 relative",children:S.length>0?(0,H.jsxs)("div",{className:"mt-3 w-full border-white/5 overflow-x-auto hideScrollbar",children:[S.map((function(e){return(0,H.jsx)(ne,{data:e,dcaClient:n,hideButtons:!0},e.publicKey.toString())})),y&&(0,H.jsx)(ie.O,{}),j&&!y&&(0,H.jsx)("div",{className:"w-full flex items-center justify-center",children:(0,H.jsx)("button",{className:"w-1/2 py-2 rounded-2xl mt-3 text-white/20 text-sm dark:hover:!text-v2-primary",onClick:function(){return N()},children:c.ag._("Load More")})})]}):(0,H.jsx)("div",{className:"mt-3 bg-v2-lily/5 border border-v2-lily/10 rounded-lg text-white/20 text-sm h-full w-full flex items-center justify-center min-h-[180px]",children:(0,H.jsx)("span",{children:c.ag._("You have no closed orders")})})})},ue=n(10361),de=n(20255),me=n(42082),fe=n(3958),xe=n(70006),he=n(1242),pe=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,r=e.disabled;return(0,H.jsx)("div",{className:"flex justify-between items-center group/select",children:(0,H.jsxs)("button",{disabled:r,type:"button",className:(0,N.cn)("py-2 px-3 h-10 rounded-xl flex space-x-3 items-center  border border-transparent",r?"cursor-default":"bg-white dark:bg-v2-background dark:group-hover/select:border-v2-primary/50 dark:group-hover/select:bg-[rgba(199,242,132,0.2)] dark:group-hover/select:shadow-swap-input-dark"),onClick:t,children:[(0,H.jsx)("div",{className:"w-6 h-6 text-xs flex items-center justify-center rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,H.jsx)(A.Z,{width:24,height:24,info:n})}),(0,H.jsx)("div",{className:"font-semibold text-sm",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!r&&(0,H.jsx)("div",{className:"text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-v2-primary fill-current",children:(0,H.jsx)(j.Z,{})})]})})},ve=function(e){var t=e.showAllPairs,n=e.currentTokenInfo,r=e.disabled;return(0,H.jsx)("div",{className:"flex justify-between items-center group/select w-full h-full",children:(0,H.jsxs)("button",{type:"button",className:(0,N.cn)("py-2 px-5 h-full rounded-xl flex space-x-3 items-center border border-transparent w-full",r?"cursor-default":"dark:group-hover/select:border-v2-primary/50 dark:group-hover/select:bg-[rgba(199,242,132,0.2)] dark:group-hover/select:shadow-swap-input-dark"),onClick:t,children:[(0,H.jsx)("div",{className:"w-6 h-6 text-xs flex items-center justify-center rounded-full",children:(null===n||void 0===n?void 0:n.logoURI)&&(0,H.jsx)(A.Z,{width:24,height:24,info:n})}),(0,H.jsx)("div",{className:"font-semibold text-base",translate:"no",children:null===n||void 0===n?void 0:n.symbol}),!r&&(0,H.jsx)("div",{className:"!ml-auto text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-v2-primary fill-current",children:(0,H.jsx)(j.Z,{})})]})})},be=function(e){var t=e.fromTokenAddress,n=e.toTokenAddress,r=e.onChange,a=e.name,i=e.modalId,s=e.mintsList,o=e.type,l=e.disabled,c=(0,v.Bn)(),u=c.unknownTokenMap,d=c.getTokenInfo,f=(0,de.B)(),x=f.add,h=f.get,p=(0,xe.JT)(),b=p.openModal,g=p.closeModal,w=p.openContextualModal,k=p.setContextValue,y=p.ModalContextConsumer,j=(0,me.T)(),N=(0,m.useMemo)((function(){return"fromTokenAddress"===a?t:n}),[t,n,a]),S=(0,m.useMemo)((function(){return d(N)}),[d,N]),M=function(e){if(e){var i,s,o,l,c=u.get(e.address),m=h(e.address);if("fromTokenAddress"===a)n===e.address?(i=e,s=d(t)):(i=e,s=d(n));else t===e.address?(i=d(n),s=e):(i=d(t),s=e);if(c&&!m)setTimeout((function(){b((0,H.jsx)(ue.Z,{tokensInfo:[e],onClickReject:C,onClickAccept:function(){var t,n;r("fromTokenAddress"===a?null===(t=i)||void 0===t?void 0:t.address:null===(n=s)||void 0===n?void 0:n.address),x(e.address),j(i,s),g()}}),{canDismiss:!1,containerStyle:{background:"none"}})}),0);else r("fromTokenAddress"===a?null===(o=i)||void 0===o?void 0:o.address:null===(l=s)||void 0===l?void 0:l.address),j(i,s),g()}},C=function(){y&&!l&&(k(i,s),w(i,s,(0,H.jsx)(y,{children:function(e){return(0,H.jsx)(fe.ZP,{filterToken2022:!0,onSubmit:M,mintsList:e,bestTokens:he.KG})}}),{position:"top",noCloseButton:!0}))};return"tokenAndInput"===o?(0,H.jsx)(pe,{disabled:l,showAllPairs:C,currentTokenInfo:S}):(0,H.jsx)(ve,{disabled:l,showAllPairs:C,currentTokenInfo:S})},ge=n(39268),we=n.n(ge),ke=n(23632),ye=n(89521),je=n(87148),Ne=n(3082),Se=function(e){var t,n=e.defaultDuration,r=(0,Ne.useRouter)(),a=(0,je.Z)(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.period);return{period:(0,m.useMemo)((function(){var e,t;if(null!==r&&void 0!==r&&null!==(e=r.query)&&void 0!==e&&e.period&&a!==(null===r||void 0===r||null===(t=r.query)||void 0===t?void 0:t.period))switch(r.query.period){case"minute":return"minute";case"hour":return"hour";case"day":return"day";case"week":return"week";case"month":return"month";default:return}}),[r.query]),duration:n}},Me=n(50269),Ce=n(54566),Pe=n(53636),Ae=n(6397),Te=n(85394),Oe=n(73413),Ze=n(69825),De=n(95523),Ve=n(40558),_e=n(82625),Ie=function(e){var t=e.onChange,n=e.onBlur,r=e.tokenAddress,a=e.loading,i=e.value,s=e.name,o=e.disabled,l=(0,v.Bn)().tokenMap,c=m.useRef(null),u=m.useMemo((function(){return l.get(r)}),[l,r]);return(0,H.jsxs)("div",{className:"flex flex-col text-right h-full",children:[a?(0,H.jsx)(ie.O,{className:"ml-2 w-24 h-6 self-end"}):(0,H.jsx)(Ze.Z,{name:s,className:"outline-none",decimals:null===u||void 0===u?void 0:u.decimals,onChange:t,value:i.floatValue,disabled:o,ref:c,onBlur:n}),a?(0,H.jsx)(ie.O,{className:"ml-2 mt-0.5 w-8 h-4 self-end"}):null!==i&&void 0!==i&&i.value?(0,H.jsx)("div",{className:(0,N.cn)("text-xs text-black-35 dark:text-white-35"),onClick:function(){var e;return null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.focus()},children:(0,H.jsx)(_e.Z,{tokenAddress:r,value:i})}):null]})},Fe=n(44710),Be=function(e){var t=e.value,n=e.onClick;return(0,H.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,H.jsxs)("div",{className:"flex items-center cursor-pointer text-xs md:text-sm",children:[(0,H.jsx)(l.cC,{id:"Enable Pricing Strategy"}),(0,H.jsx)(Ve.Z,{variant:"dark",content:(0,H.jsx)("span",{className:"flex rounded-lg text-xs text-white-75",children:(0,H.jsx)(l.cC,{id:"Advanced pricing strategy allows you to set a minimum and maximum price range."})}),children:(0,H.jsx)("div",{className:"flex items-center ml-1 text-white/30 fill-current",children:(0,H.jsx)(Me.Z,{height:16,width:16})})})]}),(0,H.jsx)("div",{className:"flex justify-center",children:(0,H.jsx)(Fe.default,{active:t,onClick:n})})]})},Ee=function(e){var t=e.disabled,n=e.tokenInfo,r=e.onChange,a=(0,v.Os)().connected,i=(0,v.jB)().useWSol,s=n.address,o=(0,b.FB)(s).balance,c=m.useCallback((function(e){return r(e)}),[r]);return a&&n?(0,H.jsxs)("div",{className:"flex justify-between items-center space-x-1",children:[(0,H.jsx)("button",{type:"button",onClick:function(){var e=new k.Z(o).div(2).toDP(n.decimals);c(e)},disabled:t,className:(0,N.cn)(t&&"cursor-not-allowed opacity-50","cursor-pointer text-[10px] text-black-35 border-black-10 dark:text-white-35 dark:bg-black-10 leading-4 py-[1px] px-2 rounded-full border dark:border-white-10 font-semibold","hover:border-v2-primary/50 hover:bg-[#2C3F54] hover:text-v2-primary/50","dark:hover:text-v2-primary dark:hover:bg-v2-primary/10 dark:hover:border-v2-primary"),children:(0,H.jsx)(l.cC,{id:"HALF"})}),(0,H.jsx)("button",{type:"button",onClick:function(){var e=new k.Z(o);s!==y.W4.toBase58()||i||(e=e.minus(y.WO)),e.lt(0)&&(e=new k.Z(o)),c(e)},disabled:t,className:(0,N.cn)(t&&"cursor-not-allowed opacity-50","cursor-pointer text-[10px] text-black-35 border-black-10 dark:text-white-35 dark:bg-black-10 leading-4 py-[1px] px-2 rounded-full border dark:border-white-10 font-semibold","hover:border-[#00D1DF] hover:bg-[#2C3F54] hover:text-v2-primary/50","dark:hover:text-v2-primary dark:hover:bg-v2-primary/10 dark:hover:border-v2-primary"),children:(0,H.jsx)(l.cC,{id:"MAX"})})]}):null},Re=n(94223),Le=n(1622),Ke=function(e){var t=e.className,n=e.tokenInfo;if(!(0,v.Os)().connected||!n)return null;var r=n.address;return(0,H.jsxs)("div",{className:"flex space-x-1 items-center text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35]",children:[(0,H.jsx)("div",{className:"mb-px",children:(0,H.jsx)(Re.Z,{width:11,height:11})}),(0,H.jsxs)("div",{className:(0,N.cn)("text-xs font-normal whitespace-nowrap",t),children:[(0,H.jsx)(Le.Z,{mintAddress:r})," ",(0,H.jsx)("span",{children:null===n||void 0===n?void 0:n.symbol})]})]})},Ue=n(78013),He=n(56039),qe=n(71130),We=n(68718);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=n(54569),Ye=we()((function(){return Promise.resolve().then(n.bind(n,73413))}),{ssr:!1,loadableGenerated:{webpack:function(){return[73413]}}}),Je={fromTokenAddress:"",toTokenAddress:"",period:"minute",fromValue:{formattedValue:"",value:"",floatValue:void 0},intervalNumber:{formattedValue:"1",value:"1",floatValue:1},numberOfOrders:{formattedValue:"2",value:"2",floatValue:2},enableMinMaxPrice:!1,minValue:{formattedValue:"",value:"",floatValue:void 0},maxValue:{formattedValue:"",value:"",floatValue:void 0}},Xe="PAIRS_SELECT_TO_PAIR_MODAL_ID",$e=function(e){var t=e.inToken,n=e.outToken,r=e.type,s=(0,v.Os)(),A=(0,v.Rc)(),T=m.useMemo((function(){return new h.DA(A,"mainnet-beta")}),[A]),Z=(0,v.C9)(),D=(0,b._)("dca-interval-number",Je.intervalNumber),V=(0,i.Z)(D,2),I=V[0],B=V[1],E=(0,b._)("dca-period",Je.period),q=(0,i.Z)(E,2),W=q[0],G=q[1],z=(0,b._)("dca-number-of-orders",Je.numberOfOrders),Q=(0,i.Z)(z,2),Y=Q[0],J=Q[1],X=(0,L.KO)(he.dS),$=(0,i.Z)(X,1)[0].GRAPH_PARAMS,ee=(0,f.cI)({defaultValues:Je}),ne=ee.control,re=ee.setValue,ae=(ee.getValues,ee.handleSubmit),oe=ee.formState,le=oe.isDirty,ue=oe.isSubmitting,de=ee.watch,fe=(0,v.Bn)(),xe=fe.getTokenInfo,pe=fe.newTokenListMap,ve=fe.tokenMap,ge=(0,b.NL)(),we=(0,me.T)(),je=(0,v.MG)().constants.MAX_INPUT_LIMIT,Ne=m.useMemo((function(){return Array.from(ve.values()).map((function(e){return e.address}))}),[ve]),_e=(0,f.qo)({control:ne,name:"fromValue"}),Fe=(0,f.qo)({control:ne,name:"fromTokenAddress"}),Re=(0,f.qo)({control:ne,name:"toTokenAddress"}),Le=(0,f.qo)({control:ne,name:"intervalNumber"}),Ge=(0,f.qo)({control:ne,name:"period"}),$e=(0,f.qo)({control:ne,name:"numberOfOrders"}),et=(0,f.qo)({control:ne,name:"enableMinMaxPrice"}),tt=(0,f.qo)({control:ne,name:"minValue"}),nt=(0,f.qo)({control:ne,name:"maxValue"}),rt="launch-page"===(null===r||void 0===r?void 0:r.mode);m.useEffect((function(){r&&re("enableMinMaxPrice",!0)}),[r,re]),m.useEffect((function(){var e=de((function(e,t){var n=e.intervalNumber,r=e.numberOfOrders,a=e.period,i=t.name;"intervalNumber"===i?B(n):"period"===i?("second"===a&&re("intervalNumber",{floatValue:30,formattedValue:"30",value:"30"}),G(a)):"numberOfOrders"===i&&r&&J(r)}));return function(){return e.unsubscribe()}}),[de,re,B,J,G]),m.useEffect((function(){re("intervalNumber",I),re("period",W),re("numberOfOrders",Y)}),[re]),m.useEffect((function(){t!==n&&(t&&re("fromTokenAddress",t.address),n&&re("toTokenAddress",n.address))}),[t,n,re,we,Fe,Re]);var at=m.useMemo((function(){return{fromTokenInfo:xe(Fe)||te({address:Fe}),toTokenInfo:xe(Re)||te({address:Re})}}),[xe,Fe,Re]),it=at.fromTokenInfo,st=at.toTokenInfo,ot=m.useMemo((function(){return F.find((function(e){return e.id===Ge}))}),[Ge]),lt=m.useMemo((function(){return{selectedPeriodName:(null===ot||void 0===ot?void 0:ot.name)||"",periodOption:F.map((function(e){return e.id})),secondsInPeriod:(null===ot||void 0===ot?void 0:ot.secondsInPeriod)||0}}),[ot]),ct=lt.selectedPeriodName,ut=lt.periodOption,dt=lt.secondsInPeriod,mt=(0,v.y6)(),ft=mt.tokenPriceMap,xt=mt.getUSDValue,ht=mt.isLatest,pt=m.useMemo((function(){var e,t;if(!it||!st)return[null,null];var n=null===(e=ft[it.address])||void 0===e?void 0:e.usd,r=null===(t=ft[st.address])||void 0===t?void 0:t.usd;return n||xt(it.address),r||xt(st.address),[n,r]}),[it,xt,st,ft,ht]),vt=(0,i.Z)(pt,2),bt=vt[0],gt=vt[1],wt=m.useMemo((function(){if(ot&&Le.floatValue&&it&&null!==_e&&void 0!==_e&&_e.floatValue&&null!==$e&&void 0!==$e&&$e.floatValue&&(0,g.Hd)(null===$e||void 0===$e?void 0:$e.floatValue)&&(0,g.Hd)(_e.floatValue)){var e=new k.Z(_e.floatValue).div($e.floatValue).toDP(it.decimals).toFixed(),t=new k.Z(Le.floatValue).mul(ot.secondsInPeriod),n=$e.floatValue-1,r=(0,u.Z)(new Date,{seconds:new k.Z(t).mul(n).toNumber()});return{perCycle:e,endDate:(0,d.Z)(r,"dd MMM y HH:mm")}}}),[it,null===_e||void 0===_e?void 0:_e.floatValue,null===$e||void 0===$e?void 0:$e.floatValue,Le.floatValue,ot]),kt=m.useMemo((function(){return pe.has(Fe)||pe.has(Re)}),[pe,Fe,Re]),yt=m.useMemo((function(){if(!ft||void 0===(null===$e||void 0===$e?void 0:$e.floatValue)||!ot||!wt||!Le.floatValue)return{isIntervalTooLow:"second"!==(null===ot||void 0===ot?void 0:ot.id)&&!Le.floatValue,isIntervalLessThan30Seconds:"second"===(null===ot||void 0===ot?void 0:ot.id)&&((null===Le||void 0===Le?void 0:Le.floatValue)||0)<30,isPerCycleTooLow:!1,isNumberOfOrdersTooLow:!1,isMinBiggerThanMax:!1,isNewMintPerOrderTooLow:!1};var e=new k.Z(_e.floatValue||0).mul(bt||0).div($e.floatValue);return{isIntervalTooLow:"second"!==ot.id&&!Le.floatValue,isIntervalLessThan30Seconds:"second"===ot.id&&Le.floatValue<30,isPerCycleTooLow:!kt&&e.lt(3),isNewMintPerOrderTooLow:!!kt&&e.lt(100),isNumberOfOrdersTooLow:Number((null===$e||void 0===$e?void 0:$e.floatValue)||0)<2,isMinBiggerThanMax:!!(et&&tt.floatValue&&nt.floatValue)&&new k.Z(tt.floatValue||0).gte(nt.floatValue||0)}}),[kt,bt,wt,Le,_e.floatValue,ft,null===$e||void 0===$e?void 0:$e.floatValue,ot,et,tt,nt]),jt=yt.isIntervalLessThan30Seconds,Nt=yt.isNumberOfOrdersTooLow,St=yt.isIntervalTooLow,Mt=yt.isPerCycleTooLow,Ct=yt.isMinBiggerThanMax,Pt=yt.isNewMintPerOrderTooLow,At=(0,b.FB)(Fe).balance,Tt=(0,b.FB)(Re).hasBalance,Ot=m.useMemo((function(){return!(null===it||void 0===it?void 0:it.decimals)||new k.Z((null===_e||void 0===_e?void 0:_e.floatValue)||0).lessThanOrEqualTo(At)}),[At,null===it||void 0===it?void 0:it.decimals,null===_e||void 0===_e?void 0:_e.floatValue]),Zt=m.useCallback((function(){var e=new k.Z(At);Fe===y.W4.toBase58()&&(e=e.minus(y.WO)),re("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[At,Fe,re]),Dt=m.useMemo((function(){return null===it||void 0===it?void 0:it.symbol}),[it]),Vt=m.useMemo((function(){return null===st||void 0===st?void 0:st.symbol}),[st]),_t=m.useRef(!1),It=(0,He.s)({fromPair:Fe,fromTokenInfo:it,toTokenInfo:st,side:null===r||void 0===r?void 0:r.side,isSubmitting:ue}),Ft=m.useCallback((function(e,t){if(e){var n=t?e.mul(t):e;re("maxValue",{formattedValue:n.toFixed(),value:n.toFixed(),floatValue:n.toNumber()}),re("minValue",{formattedValue:"0",value:"0",floatValue:0})}}),[re]),Bt=m.useCallback((function(e,t){if(e){var n=t?e.mul(t):e;re("maxValue",{formattedValue:"0",value:"0",floatValue:0}),re("minValue",{formattedValue:n.toFixed(),value:n.toFixed(),floatValue:n.toNumber()})}}),[re]),Et=It.rateDecimals,Rt=It.isBaseQuoteMode,Lt=It.isFetchingMarketPrice,Kt=It.quoteTokenInfo,Ut=It.baseTokenInfo,Ht=function(e,t){var n=t.swapMarketPrice,r=t.jupSwapMarketPrice,a=t.fromTokenPrice,s=t.toTokenPrice,o=t.side,l=t.isEditingTargetPrice,c=t.onClickSetMaxPrice,u=t.onClickSetMinPrice,d=(0,L.KO)(he.dS),f=(0,i.Z)(d,1)[0],x=f.GRAPH_PARAMS,h=f.FORM_CONFIG.DCA,p=m.useState({marketStatus:"unset",swapMarketPrice:new k.Z(x.i),hasNewToken:!1,constants:h.PRE_LAUNCH_CONSTANTS}),v=(0,i.Z)(p,2),b=v[0],g=v[1];return m.useEffect((function(){e&&g((function(e){return ze(ze({},e),{},{constants:h.PRE_LAUNCH_CONSTANTS,marketStatus:"unset",swapMarketPrice:n||null})}))}),[g,n,h,e]),m.useEffect((function(){if(e){if("unset"===b.marketStatus&&!r){if("buy"===o&&!a)return;if("sell"===o&&!s)return;if(g((function(e){return ze(ze({},e),{},{marketStatus:"pre-launch"})})),l.current)return;"buy"===o?b.constants.initialPrice&&c(new k.Z(b.constants.initialPrice||0).div(a||0)):u(new k.Z(b.constants.minPrice||0).div(s||0))}if(("unset"===b.marketStatus||"pre-launch"===b.marketStatus)&&r&&r.mul(.99).lt(x.m)){if(g((function(e){return ze(ze({},e),{},{constants:h.IN_RANGE_CONSTANTS,marketStatus:"in-range",swapMarketPrice:r})})),l.current)return;"buy"===o?c(new k.Z(r||0)):u(new k.Z(b.constants.minPrice||0).div(s||0))}if(r&&r.mul(.99).gte(x.m)){if(g((function(e){return ze(ze({},e),{},{constants:h.OUT_OF_RANGE_CONSTANTS,marketStatus:"out-of-range",swapMarketPrice:r})})),l.current)return;c(new k.Z(0)),u(new k.Z(0))}}}),[h,b.constants.initialPrice,b.constants.minPrice,b.marketStatus,b.swapMarketPrice,a,c,u,g,s,x,r,l,o,e]),e?b:null}(rt,{swapMarketPrice:It.swapMarketPrice,jupSwapMarketPrice:It.jupSwapMarketPrice,fromTokenPrice:bt,toTokenPrice:gt,side:null===r||void 0===r?void 0:r.side,isEditingTargetPrice:_t,onClickSetMaxPrice:Ft,onClickSetMinPrice:Bt});m.useMemo((function(){_t.current=!1,it&&re("fromTokenAddress",it.address),st&&re("toTokenAddress",st.address)}),[null===it||void 0===it?void 0:it.address,null===st||void 0===st?void 0:st.address,null===r||void 0===r?void 0:r.side,rt]);var qt=(0,Oe.useIsAccountFrozen)(it),Wt=(0,Oe.useIsAccountFrozen)(st),Gt=(0,ke.Z)().fetchPrice,zt=(0,S.Nr)(m.useMemo((function(){return{fromTokenPrice:bt,toTokenPrice:gt,quoteTokenInfo:Kt,baseTokenInfo:Ut,isBaseQuoteMode:Rt,rateDecimals:Et,fromValue:_e,numberOfOrders:$e}}),[bt,gt,Kt,Ut,Rt,Et,_e,$e]),200),Qt=(0,b.aM)(["jupiter-quote",zt],(0,a.Z)(o().mark((function e(){var t,n,r,a,i,s,l,c,u,d,m,f,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=zt.fromTokenPrice,n=zt.toTokenPrice,r=zt.quoteTokenInfo,a=zt.baseTokenInfo,i=zt.isBaseQuoteMode,s=zt.rateDecimals,l=zt.fromValue,c=zt.numberOfOrders,t&&n&&r&&a&&l.floatValue&&null!==c&&void 0!==c&&c.floatValue){e.next=4;break}return e.abrupt("return",null);case 4:return u=null!==i&&void 0!==i&&i.isFromBase?{fromTokenInfo:a,toTokenInfo:r}:{fromTokenInfo:r,toTokenInfo:a},d=u.fromTokenInfo,m=u.toTokenInfo,f=new k.Z(l.floatValue).div(new k.Z(c.floatValue)).mul(Math.pow(10,d.decimals)).toFixed(0),null!==i&&void 0!==i&&i.isFromBase,x={fromTokenInfo:d,toTokenInfo:m,amount:f,decimals:s},e.next=9,Gt(x);case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),{enabled:!ue,keepPreviousData:!0}),Yt=Qt.data,Jt=Qt.isLoading,Xt=(0,O.R3)(),$t=(0,L.KO)(K.yz),en=(0,i.Z)($t,1)[0],tn=(0,U.gs)().priorityLevel,nn=m.useCallback(function(){var e=(0,a.Z)(o().mark((function e(t){var n,r,a,i,c,u,d,m,f,x,p,v,b,g,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("",e.prev=1,n=t.fromValue,r=t.numberOfOrders,a=t.minValue,i=t.maxValue,c=t.enableMinMaxPrice,!(it&&st&&n.floatValue&&null!==r&&void 0!==r&&r.floatValue&&s.signTransaction&&s.publicKey)){e.next=24;break}return u=new k.Z(n.floatValue).mul(Math.pow(10,it.decimals)),d=u.div(r.floatValue),m=function(){if(!c)return null;if(null!==Rt&&void 0!==Rt&&Rt.isFromBase){if(!a.floatValue)return null;var e=new k.Z(d).div(Math.pow(10,it.decimals)),t=new k.Z(a.floatValue),n=e.mul(t).mul(Math.pow(10,st.decimals)).floor().toFixed(0);return BigInt(n)}if(!i.floatValue)return null;var r=new k.Z(d).div(Math.pow(10,it.decimals)),s=new k.Z(i.floatValue),o=r.div(s).mul(Math.pow(10,st.decimals)).floor().toFixed(0);return BigInt(o)}(),f=function(){if(!c)return null;if(null!==Rt&&void 0!==Rt&&Rt.isFromBase){if(!i.floatValue)return null;var e=new k.Z(d).div(Math.pow(10,it.decimals)),t=new k.Z(i.floatValue),n=e.mul(t).mul(Math.pow(10,st.decimals)).floor().toFixed(0);return BigInt(n)}if(!a.floatValue)return null;var r=new k.Z(d).div(Math.pow(10,it.decimals)),s=new k.Z(a.floatValue),o=r.div(s).mul(Math.pow(10,st.decimals)).floor().toFixed(0);return BigInt(o)}(),x=Ae.Zt.address==Re?void 0:!!Tt||void 0,e.next=11,T.createDcaV2({inAmount:BigInt(u.toFixed(0)),cycleSecondsApart:BigInt(dt*((null===Le||void 0===Le?void 0:Le.floatValue)||1)),inAmountPerCycle:BigInt(d.toFixed(0)),inputMint:new w.PublicKey(Fe),outputMint:new w.PublicKey(Re),minOutAmountPerCycle:m,maxOutAmountPerCycle:f,startAt:null,user:s.publicKey,payer:s.publicKey},!0,x);case 11:return p=e.sent,v=p.tx,e.next=15,A.getLatestBlockhash("confirmed");case 15:return b=e.sent,g=b.blockhash,y=b.lastValidBlockHeight,v.recentBlockhash=g,v.lastValidBlockHeight=y,v.feePayer=s.publicKey,e.next=23,Xt(v,{blockhash:g,idl:h.xO,idlProgramId:h.PN["mainnet-beta"],lastValidBlockHeight:y},{successMessage:(0,H.jsx)(l.cC,{id:"DCA created for {0} {1} to {2} over {3} orders",values:{0:n.floatValue,1:it.symbol,2:st.symbol,3:r.floatValue}}),submittingMessage:(0,H.jsx)(l.cC,{id:"Creating DCA"}),errorMessage:(0,H.jsx)(l.cC,{id:"Failed to create DCA"}),referenceFee:"MEDIUM"===tn?en.loAndDCA:"HIGH"===tn&&en.loAndDCA?1.5*en.loAndDCA:"VERY_HIGH"===tn&&en.loAndDCA?3*en.loAndDCA:void 0,minimumFee:K.uo,requestComputeBudgetLimit:3e5});case 23:ge.invalidateQueries({queryKey:["dca"]});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),console.error(e.t0);case 29:if(e.prev=29,t){e.next=32;break}return e.abrupt("return");case 32:return Z([t.fromTokenAddress,t.toTokenAddress]),e.finish(29);case 34:case"end":return e.stop()}}),e,null,[[1,26,29,34]])})));return function(t){return e.apply(this,arguments)}}(),[it,st,s.signTransaction,s.publicKey,Re,Tt,T,dt,null===Le||void 0===Le?void 0:Le.floatValue,Fe,A,Xt,ge,null===Rt||void 0===Rt?void 0:Rt.isFromBase,en.loAndDCA,tn,Z]),rn=m.useState("Active DCAs"),an=(0,i.Z)(rn,2),sn=an[0],on=an[1],ln=m.useRef(!1);m.useEffect((function(){kt&&!1===ln.current&&(ln.current=!0,re("enableMinMaxPrice",!0))}),[kt,re]);var cn=(0,ye.Z)();m.useEffect((function(){cn&&re("fromValue",{formattedValue:cn,value:cn,floatValue:Number(cn)})}),[re,cn]);var un=Se({defaultDuration:10}),dn=un.period,mn=un.duration;m.useEffect((function(){dn&&mn&&(re("period",dn),re("numberOfOrders",{value:String(mn),floatValue:mn,formattedValue:String(mn)}))}),[re,dn,mn]);var fn=m.useMemo((function(){return Math.min(((null===it||void 0===it?void 0:it.decimals)||0)+((null===st||void 0===st?void 0:st.decimals)||0),12)||6}),[null===it||void 0===it?void 0:it.decimals,null===st||void 0===st?void 0:st.decimals]),xn=m.useCallback((function(){we(st,it)}),[st,it,we]),hn=m.useMemo((function(){var e;return s.connected&&_e.floatValue&&it&&st&&wt?(0,H.jsxs)("div",{className:"w-full py-4 mb-3 px-3 rounded-lg bg-v2-lily/5 border border-v2-lily/10 text-xs",children:[(0,H.jsx)("span",{className:"text-v2-lily/[.75]",children:c.ag._("DCA Summary")}),(0,H.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Sell total")}),(0,H.jsxs)("span",{className:"text-white/[.75]",children:[(0,H.jsx)(Pe.Z,{currency:!1,value:_e.floatValue})," ",it.symbol]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Sell per order")}),(0,H.jsxs)("span",{className:"text-white/[.75] flex space-x-1",children:[(0,H.jsx)(Pe.Z,{currency:!1,value:wt.perCycle}),(0,H.jsx)("span",{children:it.symbol})]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Receive")}),(0,H.jsx)("span",{className:"text-white/[.75]",children:st.symbol})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Order interval")}),(0,H.jsx)("span",{className:"text-white/[.75]",children:c.ag._("{0} {selectedPeriodName}(s)",{0:Le.formattedValue,selectedPeriodName:ct})})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Start date")}),(0,H.jsx)("span",{className:"text-white/[.75]",children:"pre-launch"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)?c.ag._("Start when trading is enabled"):c.ag._("Immediate")})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Estimated end date")}),(0,H.jsx)("span",{className:"text-white/[.75]",children:"pre-launch"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)?c.ag._("TBD when trading is enabled"):wt.endDate})]}),!rt&&(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Estimated price impact per order")}),(0,H.jsxs)("span",{className:"text-white/[.75] flex space-x-1",children:[(null===Yt||void 0===Yt||null===(e=Yt.priceImpactPct)||void 0===e?void 0:e.toFixed(2))||"-","%"]})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("span",{className:"text-white/40",children:c.ag._("Platform fee")}),(0,H.jsx)("span",{className:"text-v2-primary",children:"0.1%"})]})]})]}):null}),[s.connected,_e.floatValue,it,st,wt,Le.formattedValue,ct,null===Ht||void 0===Ht?void 0:Ht.marketStatus,rt,null===Yt||void 0===Yt?void 0:Yt.priceImpactPct]),pn=m.useMemo((function(){var e=new k.Z(0);It.swapMarketPrice||null===Ht||void 0===Ht||Ht.swapMarketPrice;if(null===Ht||void 0===Ht||!Ht.swapMarketPrice)return e;if("buy"===(null===r||void 0===r?void 0:r.side)&&!nt.floatValue)return e;if("sell"===(null===r||void 0===r?void 0:r.side)&&!tt.floatValue)return e;var t="buy"===(null===r||void 0===r?void 0:r.side)?new k.Z(nt.floatValue||0).sub(Ht.swapMarketPrice).div(Ht.swapMarketPrice):new k.Z(tt.floatValue||0).sub(Ht.swapMarketPrice).div(Ht.swapMarketPrice);return(e=new k.Z(100).mul(t).toDP(2)).isFinite()?e:new k.Z(0)}),[null===Ht||void 0===Ht?void 0:Ht.swapMarketPrice,nt.floatValue,tt.floatValue,It.swapMarketPrice,null===r||void 0===r?void 0:r.side]),vn=m.useMemo((function(){return pn.gt(1e4)?">10000":"".concat(pn.toNumber()>0?"+":"").concat(pn.toDP(2).toString())}),[pn]),bn=m.useMemo((function(){return null!==Rt&&void 0!==Rt&&Rt.isFromBase?pn.toNumber()<0:pn.toNumber()>0}),[null===Rt||void 0===Rt?void 0:Rt.isFromBase,pn]),gn=m.useMemo((function(){return null!==Rt&&void 0!==Rt&&Rt.isFromBase?pn.toNumber()>0:pn.toNumber()<0}),[null===Rt||void 0===Rt?void 0:Rt.isFromBase,pn]),wn=m.useMemo((function(){return"pre-launch"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)&&bn||gn}),[null===Ht||void 0===Ht?void 0:Ht.marketStatus,bn,gn]),kn=m.useRef(),yn=m.useRef(null),jn=m.useRef(null),Nn=m.useState(!1),Sn=(0,i.Z)(Nn,2),Mn=(Sn[0],Sn[1]),Cn=m.useState(!1),Pn=(0,i.Z)(Cn,2),An=(Pn[0],Pn[1]);(0,g.O3)(yn,(function(){Mn(!1)})),(0,g.O3)(jn,(function(){An(!1)}));var Tn=m.useState(!1),On=(0,i.Z)(Tn,2),Zn=On[0],Dn=On[1],Vn=(0,L.KO)(R.refetchId),_n=(0,i.Z)(Vn,2),In=(_n[0],_n[1]),Fn=(0,L.KO)(R.isLoading),Bn=(0,i.Z)(Fn,1)[0],En=function(){In((function(e){return e+1}))},Rn=m.useMemo((function(){var e=[];"pre-launch"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)&&("buy"===(null===r||void 0===r?void 0:r.side)&&new k.Z(nt.floatValue||0).mul(bt||0).lt(new k.Z($.m).mul(.99))&&e.push(c.ag._("Your DCA will most likely NOT FILL, try setting a higher max price")));return e}),[null===Ht||void 0===Ht?void 0:Ht.marketStatus,bt,nt.floatValue,null===r||void 0===r?void 0:r.side,$]),Ln=m.useMemo((function(){var e=[];"pre-launch"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)&&"in-range"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||!("buy"!==(null===r||void 0===r?void 0:r.side)||!Ht.constants.minPrice)&&new k.Z(nt.floatValue||0).mul(bt||0).lt(Ht.constants.minPrice)&&e.push(c.ag._("Max price is below the minimum price of {0} USD",{0:Ht.constants.minPrice}));return et&&(rt?("buy"===r.side&&0===nt.floatValue&&e.push(c.ag._("Please enter a Maximum Price greater than 0")),"sell"===r.side&&0===tt.floatValue&&e.push(c.ag._("Please enter a Maximum Price greater than 0"))):(0===tt.floatValue&&e.push(c.ag._("Please enter a Minimum Price greater than 0")),0===nt.floatValue&&e.push(c.ag._("Please enter a Maximum Price greater than 0")),Ct&&e.push(c.ag._("Minimum Price must be lower than Maximum Price.")))),jt?e.push(c.ag._("Please enter an interval greater or equal than 30 seconds")):St&&e.push(c.ag._("Please enter an interval above 0")),Nt&&e.push(c.ag._("Number of Orders cannot be lower than 2")),s.connected&&_e.floatValue&&null!==$e&&void 0!==$e&&$e.floatValue&&(Pt&&e.push(c.ag._("Minimum {NEW_MINT_MINIMUM_VALUE_PER_ORDER} USD per order required, increase your allocation to at least {0} USD for {1} orders",{0:100*$e.floatValue,1:null===$e||void 0===$e?void 0:$e.floatValue,NEW_MINT_MINIMUM_VALUE_PER_ORDER:100})),Mt&&e.push(c.ag._("Minimum {MINIMUM_VALUE_PER_ORDER} USD per order required, increase your allocation to at least {0} USD for {1} orders",{0:3*$e.floatValue,1:null===$e||void 0===$e?void 0:$e.floatValue,MINIMUM_VALUE_PER_ORDER:3})),Ot||e.push((0,H.jsxs)("div",{className:"space-y-1",children:[c.ag._("Insufficient balance, you have {balance} {fromTokenSymbol}.",{balance:At,fromTokenSymbol:Dt}),(0,H.jsx)("br",{}),(0,H.jsx)("button",{type:"button",className:"underline cursor-pointer",onClick:Zt,children:c.ag._("Use available balance")})]}))),function(){if("pre-launch"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||"in-range"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)){if("sell"===(null===r||void 0===r?void 0:r.side))return;if(!Ht.constants.maxPrice)return;new k.Z(nt.floatValue||0).mul(bt||0).mul(.99).gt(Ht.constants.maxPrice||0)&&e.push(c.ag._("Max Price is more than the pool max price."))}}(),e}),[null===Ht||void 0===Ht?void 0:Ht.marketStatus,null===Ht||void 0===Ht?void 0:Ht.constants,et,jt,St,Nt,s.connected,_e.floatValue,null===$e||void 0===$e?void 0:$e.floatValue,null===r||void 0===r?void 0:r.side,nt.floatValue,bt,rt,tt.floatValue,Ct,Pt,Mt,Ot,At,Dt,Zt]),Kn=m.useMemo((function(){return Boolean(!_e.floatValue||Ln.length>0||Nt||qt||Wt)}),[Ln.length,_e.floatValue,Nt,qt,Wt]),Un=(0,We.Z)({tokens:[]}),Hn=m.useCallback((function(e){re("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()},{shouldDirty:!0})}),[re]),qn=m.useCallback((function(e){e&&re("fromTokenAddress",e)}),[re]);return rt?(0,H.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-between text-v2-lily",children:[(0,H.jsx)("form",{className:"flex flex-col items-center justify-between w-full",onSubmit:ae(nn),children:(0,H.jsx)("div",{className:"w-full text-lg lg:text-2xl",children:(0,H.jsxs)("div",{className:"flex-col space-y-2 relative",children:[(0,H.jsxs)("div",{className:"flex justify-between items-center",children:[(0,H.jsxs)("label",{htmlFor:"fromValue",className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,H.jsx)(l.cC,{id:"I want to allocate"}),(0,H.jsx)(Ve.Z,{content:c.ag._("The higher the amount per order, the higher the priority fee, the higher the chances of getting filled."),children:(0,H.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,H.jsx)(Me.Z,{width:12,height:12})})})]}),(0,H.jsxs)("div",{className:"flex space-x-2",children:[(0,H.jsx)("div",{className:"flex item-center ml-1 cursor-pointer hover:text-white-50",onClick:Zt,children:(0,H.jsx)(Ke,{tokenInfo:it,className:"hover:text-white-50"})}),(0,H.jsx)(Ee,{onChange:Hn,tokenInfo:it})]})]}),(0,H.jsx)("div",{className:(0,N.cn)("p-4 h-[72px] border border-transparent relative bg-v2-background-dark rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,H.jsxs)("div",{className:"flex",children:[(0,H.jsx)(be,{onChange:qn,fromTokenAddress:Fe,toTokenAddress:Re,modalId:Xe,name:"fromTokenAddress",mintsList:Ne,type:"tokenAndInput",disabled:"sell"===r.side}),(0,H.jsx)("span",{className:"flex-1 text-right",children:(0,H.jsx)(f.Qr,{name:"fromValue",control:ne,rules:{required:"Required"},render:function(e){var t=e.field,n=t.onChange,r=t.value,a=t.onBlur;return(0,H.jsx)(Ie,{onBlur:a,onChange:n,tokenAddress:Fe,value:r,name:"fromValue"})}})})]})}),(0,H.jsxs)("div",{className:"flex justify-between items-center",children:[(0,H.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,H.jsx)(l.cC,{id:"To buy"})}),(0,H.jsx)("div",{className:"flex",children:(0,H.jsx)(Ke,{tokenInfo:st})})]}),(0,H.jsx)("div",{className:"h-[72px] border border-[#EFF0F0] dark:border-0 bg-v2-background-dark rounded-xl flex flex-col space-y-3",children:(0,H.jsx)(be,{onChange:qn,fromTokenAddress:Fe,toTokenAddress:Re,modalId:Xe,name:"toTokenAddress",mintsList:Ne,type:"tokenSelectOnly",disabled:"buy"===r.side})}),(0,H.jsxs)("div",{className:"flex space-x-2 items-end",children:[(0,H.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,H.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,H.jsx)(l.cC,{id:"Every"})}),(0,H.jsx)(f.Qr,{control:ne,name:"intervalNumber",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,H.jsx)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,H.jsx)(x.Z,{className:"w-full py-3 px-4 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}})})}})]}),(0,H.jsx)("div",{className:"flex flex-col justify-between w-full",children:(0,H.jsx)(f.Qr,{control:ne,name:"period",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,H.jsx)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,H.jsxs)(C.Z,{onChange:n,className:"!bg-transparent !px-3 !py-1 !text-v2-lily flex justify-between !w-full text-sm",contentClassName:"!w-full",data:ut,value:r,rowRenderer:function(e){return(0,H.jsx)("div",{className:"text-sm",children:e})},children:[r,(0,H.jsx)("div",{className:"ml-auto text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-dark-active-state fill-current",children:(0,H.jsx)(j.Z,{})})]})})}})}),(0,H.jsxs)("div",{className:" flex-col justify-between w-full hidden md:flex",children:[(0,H.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,H.jsx)(l.cC,{id:"Over"}),(0,H.jsx)(Ve.Z,{content:c.ag._("To minimise the predictability of your DCA strategy, orders are filled within a randomised padding of +/- 26 seconds."),children:(0,H.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,H.jsx)(Me.Z,{width:12,height:12})})})]}),(0,H.jsx)(f.Qr,{control:ne,name:"numberOfOrders",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsxs)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,H.jsx)(x.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e6}}),(0,H.jsx)("div",{className:"text-sm",children:c.ag._("orders")})]})}})]})]}),(0,H.jsxs)("div",{className:"flex flex-col w-full md:hidden",children:[(0,H.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,H.jsx)(l.cC,{id:"Over"}),(0,H.jsx)(Ve.Z,{content:c.ag._("To minimise the predictability of your DCA strategy, orders are filled within a randomised padding of +/- 26 seconds."),children:(0,H.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,H.jsx)(Me.Z,{width:12,height:12})})})]}),(0,H.jsx)(f.Qr,{control:ne,name:"numberOfOrders",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsxs)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,H.jsx)(x.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e6}}),(0,H.jsx)("div",{className:"text-sm",children:c.ag._("orders")})]})}})]}),(0,H.jsx)("div",{children:"buy"===r.side?(0,H.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,H.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex items-center",children:[(0,H.jsx)(l.cC,{id:"Max Price"}),(0,H.jsx)(Ve.Z,{content:c.ag._("Max Price of the token you want to buy. If the price of the token is higher than the Max Price, the order will not be executed."),children:(0,H.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,H.jsx)(Me.Z,{width:12,height:12})})})]}),(0,H.jsx)(f.Qr,{control:ne,name:"maxValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsxs)("div",{className:(0,N.cn)("mt-2 w-full bg-jupiter-input-light dark:bg-v2-background-dark pt-2 px-4 pb-6 rounded-xl flex flex-col justify-center relative","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),onFocus:function(){return Mn(!0)},ref:yn,children:[(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)("button",{type:"button",className:"absolute right-2 top-2 hover:text-white-75 text-white-35 hover:text-black text-xxs cursor-pointer underline rounded",onClick:function(){_t.current=!0,"unset"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)&&"pre-launch"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||Ft(new k.Z((null===Ht||void 0===Ht?void 0:Ht.constants.maxPrice)||0).div(bt||0)),"in-range"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)&&"out-of-range"!==(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||Ft(new k.Z((null===Ht||void 0===Ht?void 0:Ht.swapMarketPrice)||0))},children:"unset"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||"pre-launch"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)?(0,H.jsx)(l.cC,{id:"Use Max"}):(0,H.jsx)(l.cC,{id:"Use Market"})}),(0,H.jsx)(x.Z,{className:"w-full bg-transparent !outline-none text-lg font-semibold",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:fn,allowNegative:!1,onFocus:function(){_t.current=!0}}),Kt?(0,H.jsx)("div",{className:"flex items-center absolute top-6 right-2",children:(0,H.jsx)("span",{className:"font-semibold text-sm",children:null===Kt||void 0===Kt?void 0:Kt.symbol})}):(0,H.jsx)(ie.O,{className:"w-11 h-6"})]}),Kt&&(0,H.jsxs)("div",{className:"text-xs text-v2-lily/30 absolute bottom-2 flex gap-x-1",children:[(0,H.jsx)(Ce.default,{tokenInfo:Kt,amount:r.floatValue,maxDecimals:fn}),wn?(0,H.jsx)("div",{className:(0,N.cn)("flex items-center text-xs font-medium text-v2-lily/30",{}),children:"(".concat(vn,"%)")}):null]})]})}}),(0,H.jsx)("div",{className:"pr-2 text-xxs text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35] flex justify-end",children:c.ag._("{toTokenSymbol} / {fromTokenSymbol}",{toTokenSymbol:Vt,fromTokenSymbol:Dt})})]}):(0,H.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,H.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex justify-between items-center",children:[(0,H.jsx)(l.cC,{id:"Min Price"}),(0,H.jsx)(Ve.Z,{content:c.ag._("Min Price of the token you want to sell. If the price of the token is lower than the Min Price, the order will not be executed."),children:(0,H.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,H.jsx)(Me.Z,{width:12,height:12})})})]}),(0,H.jsx)(f.Qr,{control:ne,name:"minValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsxs)("div",{className:(0,N.cn)("mt-2 w-full bg-jupiter-input-light dark:bg-v2-background-dark pt-2 px-4 pb-6 rounded-xl flex flex-col justify-center relative","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),onFocus:function(){return An(!0)},ref:jn,children:[(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsxs)("div",{className:"flex items-center",children:[Ut?(0,H.jsxs)("p",{className:"text-v2-lily/50 text-xs flex items-center",children:[null!==Rt&&void 0!==Rt&&Rt.isFromBase?(0,H.jsx)(l.cC,{id:"Sell"}):(0,H.jsx)(l.cC,{id:"Buy"})," ",(0,H.jsx)(l.cC,{id:"{0} at rate",values:{0:null===Ut||void 0===Ut?void 0:Ut.symbol}}),Lt?(0,H.jsx)(Te.Z,{className:"ml-1",width:8,height:8}):null]}):(0,H.jsx)(ie.O,{className:"h-4 w-2"}),wn?(0,H.jsx)("div",{className:(0,N.cn)("flex items-center text-xs ml-1 font-medium text-v2-lily/50",{}),children:"(".concat(vn,"%)")}):null]}),(0,H.jsx)("button",{type:"button",className:"dark:text-white-35 dark:hover:text-white-75 text-black-35 hover:text-black text-xxs cursor-pointer underline rounded",onClick:function(){"in-range"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||"out-of-range"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)?Bt(new k.Z((null===Ht||void 0===Ht?void 0:Ht.swapMarketPrice)||0).div(gt||0)):null!==Ht&&void 0!==Ht&&Ht.constants.minPrice&&Bt(new k.Z(null===Ht||void 0===Ht?void 0:Ht.constants.minPrice).div(gt||0))},children:"in-range"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)||"out-of-range"===(null===Ht||void 0===Ht?void 0:Ht.marketStatus)?(0,H.jsx)(l.cC,{id:"Use Market"}):(0,H.jsx)(l.cC,{id:"Use Default"})})]}),(0,H.jsxs)("div",{className:"flex justify-between",children:[(0,H.jsx)(x.Z,{className:"w-full bg-transparent !outline-none text-sm font-semibold",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:fn,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}}),Kt?(0,H.jsx)("div",{className:"flex items-center",children:(0,H.jsx)("span",{className:"font-semibold text-sm",children:null===Kt||void 0===Kt?void 0:Kt.symbol})}):(0,H.jsx)(ie.O,{className:"w-11 h-6"})]}),Kt&&(0,H.jsx)("div",{className:"text-xs text-v2-lily/30 absolute bottom-2",children:(0,H.jsx)(Ce.default,{prefix:"\u2248 ",tokenInfo:Kt,amount:r.floatValue,maxDecimals:fn})})]})}}),(0,H.jsx)("div",{className:"pr-2 text-xxs text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35] flex justify-end",children:c.ag._("{toTokenSymbol} / {fromTokenSymbol}",{toTokenSymbol:Vt,fromTokenSymbol:Dt})})]})}),le&&Rn.length>0&&(0,H.jsxs)("div",{className:"mt-3 py-3 pl-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-warning",children:[(0,H.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,H.jsx)(P.Z,{fill:"inherit"})}),(0,H.jsx)("div",{className:"flex flex-col space-y-1",children:Rn.map((function(e,t){return(0,H.jsx)("div",{children:e},t)}))})]}),Kn&&le&&Ln.length>0?(0,H.jsxs)("div",{className:"mb-4 py-3 px-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-[#F04A44]",children:[(0,H.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,H.jsx)(P.Z,{fill:"inherit"})}),(0,H.jsx)("div",{className:"flex flex-col space-y-1",children:Ln.map((function(e,t){return(0,H.jsx)("div",{children:e},t)}))})]}):null,hn,(0,H.jsx)(qe.Z,{className:"text-v2-lily/60 text-xs !px-0",iconSize:12,message:c.ag._("Priority fees are only used to create new orders, and will not improve your chances of getting filled.")}),s.connected?(0,H.jsx)(M.Z,{disabled:Kn,loading:ue,type:"submit",className:"border border-v2-lily/20 w-full",children:c.ag._("Start DCA")}):(0,H.jsx)(p.uS,{buttonClassName:"!bg-transparent w-full",overrideContent:(0,H.jsx)(M.Z,{type:"button",className:"border border-v2-lily/20 w-full",children:c.ag._("Connect Wallet")})})]})})}),(0,H.jsx)("div",{className:"mt-3 w-full flex flex-col justify-center xl:max-w-7xl lg:max-w-[90vw] lg:mx-auto text-lg lg:text-2xl",children:(0,H.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:Zn?(0,H.jsx)("div",{className:"md:flex flex-row justify-between px-5 lg:px-0",children:s.connected?(0,H.jsxs)(Ue.Z,{tabs:["Active DCAs","Past DCAs"],activeTab:sn,setActiveTab:on,isLoading:Bn,refetch:En,children:["Active DCAs"===sn?(0,H.jsx)(se,{dcaClient:T,inputMint:r.targetToken,outputMint:r.targetToken}):null,"Past DCAs"===sn?(0,H.jsx)(ce,{dcaClient:T,inputMint:r.targetToken,outputMint:r.targetToken}):null]}):null}):(0,H.jsx)("div",{className:"w-full mt-3 text-xs overflow-x-auto border rounded-lg border-white/5 flex flex-col justify-center items-center p-4",children:(0,H.jsx)(M.Z,{type:"button",size:"sm",className:"w-auto px-4 bg-[#121D28] border border-transparent",onClick:function(){En(),Dn(!0)},children:(0,H.jsx)("span",{className:"text-sm",children:"View Orders"})})})})})]}):(0,H.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-between text-lg lg:text-2xl text-v2-lily",children:(0,H.jsxs)("div",{className:"mt-10 md:mt-20 sm:max-w-[90vw] md:w-[460px] w-full z-10",children:[(0,H.jsx)(Qe.Z,{product:"dca"}),(0,H.jsx)("form",{className:"flex flex-col items-center justify-between w-full",onSubmit:ae(nn),children:(0,H.jsxs)("div",{className:"w-full bg-white dark:bg-v2-background rounded-2xl p-2 sm:p-4 shadow-swap2-light dark:shadow-swap2-dark",children:[(0,H.jsxs)("div",{className:"flex-col space-y-2 relative",children:[(0,H.jsxs)("div",{className:"flex justify-between items-center",children:[(0,H.jsx)("label",{htmlFor:"fromValue",className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,H.jsx)(l.cC,{id:"I want to allocate"})}),(0,H.jsxs)("div",{className:"flex space-x-2",children:[(0,H.jsx)(Ke,{tokenInfo:it}),(0,H.jsx)(Ee,{onChange:Hn,tokenInfo:it})]})]}),(0,H.jsx)("div",{className:(0,N.cn)("p-4 h-[72px] border border-transparent relative bg-v2-background-dark rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,H.jsxs)("div",{className:"flex",children:[(0,H.jsx)(be,{onChange:qn,fromTokenAddress:Fe,toTokenAddress:Re,modalId:Xe,name:"fromTokenAddress",mintsList:Ne,type:"tokenAndInput"}),(0,H.jsx)("span",{className:"flex-1 text-right",children:(0,H.jsx)(f.Qr,{name:"fromValue",control:ne,rules:{required:"Required"},render:function(e){var t=e.field,n=t.onChange,r=t.value,a=t.onBlur;return(0,H.jsx)(Ie,{onBlur:a,onChange:n,tokenAddress:Fe,value:r,name:"fromValue"})}})})]})}),(0,H.jsx)(Ye,{tokenInfo:it,className:"mt-2"}),(0,H.jsxs)("div",{className:"relative flex justify-center",children:[(0,H.jsx)("hr",{className:"absolute w-full border-jupiter-input-light dark:border-[rgba(25,35,45,0.35)] top-[calc(50%-1px)] -z-0"}),(0,H.jsx)("div",{className:"inline-block z-10",children:(0,H.jsx)("button",{type:"button",className:(0,N.cn)("group/flip bg-[#EBEFF1] dark:bg-v2-background w-8 h-8 rounded-full cursor-pointer flex flex-col justify-center border-[3px] dark:border-[rgba(25,35,45,0.75)] dark:text-white-25","dark:hover:border-v2-primary dark:hover:shadow-swap-input-dark"),onClick:xn,children:(0,H.jsx)("span",{className:"w-full text-white/50 fill-current flex justify-center transition-none group-hover/flip:text-v2-primary/50 dark:group-hover/flip:text-v2-primary",children:(0,H.jsx)(De.Z,{})})})})]}),(0,H.jsxs)("div",{className:"flex justify-between items-center",children:[(0,H.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,H.jsx)(l.cC,{id:"To buy"})}),(0,H.jsx)("div",{className:"flex",children:(0,H.jsx)(Ke,{tokenInfo:st})})]}),(0,H.jsx)("div",{className:"h-[72px] border border-[#EFF0F0] dark:border-0 bg-v2-background-dark rounded-xl flex flex-col space-y-3",children:(0,H.jsx)(be,{onChange:qn,fromTokenAddress:Fe,toTokenAddress:Re,modalId:Xe,mintsList:Ne,name:"toTokenAddress",type:"tokenSelectOnly"})}),(0,H.jsx)(Ye,{tokenInfo:st,className:"mt-2"}),(0,H.jsxs)("div",{className:"flex space-x-2",children:[(0,H.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,H.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,H.jsx)(l.cC,{id:"Every"})}),(0,H.jsx)(f.Qr,{control:ne,name:"intervalNumber",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,H.jsx)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,H.jsx)(x.Z,{className:"w-full py-3 px-4 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:0,allowNegative:!1,allowLeadingZeros:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e4}})})}})]}),(0,H.jsx)("div",{className:"flex flex-col justify-end w-full",children:(0,H.jsx)(f.Qr,{control:ne,name:"period",render:function(e){var t=e.field,n=(t.name,t.onChange),r=(t.onBlur,t.value);return(0,H.jsx)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,H.jsxs)(C.Z,{onChange:n,className:"!bg-transparent !px-3 !py-1 !text-v2-lily flex justify-between !w-full text-sm",contentClassName:"!w-full",data:ut,value:r,rowRenderer:function(e){return(0,H.jsx)("div",{className:"text-sm",children:e})},children:[r,(0,H.jsx)("div",{className:"ml-auto text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-dark-active-state fill-current",children:(0,H.jsx)(j.Z,{})})]})})}})})]}),(0,H.jsxs)("div",{className:"flex flex-col justify-between w-full",children:[(0,H.jsxs)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white flex justify-between items-center",children:[(0,H.jsx)(l.cC,{id:"Over"}),(0,H.jsx)(Ve.Z,{content:c.ag._("To minimise the predictability of your DCA strategy, orders are filled within a randomised padding of +/- 26 seconds."),children:(0,H.jsx)("div",{className:"-mt-0.5 md:mt-0 ml-2 text-white/20 fill-current",children:(0,H.jsx)(Me.Z,{width:12,height:12})})})]}),(0,H.jsx)(f.Qr,{control:ne,name:"numberOfOrders",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsxs)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:[(0,H.jsx)(x.Z,{className:"w-full py-3 px-4 bg-transparent !outline-none",value:null===r||void 0===r?void 0:r.floatValue,onValueChange:n,thousandSeparator:","===S.A5?".":",",decimalSeparator:","===S.A5?",":".",decimalScale:0,allowNegative:!1,isAllowed:function(e){var t=e.floatValue;return!t||t<=1e6}}),(0,H.jsx)("div",{className:"pr-2 lg:pr-5",children:c.ag._("orders")})]})}})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)(f.Qr,{control:ne,name:"enableMinMaxPrice",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsx)(Be,{value:r,onClick:function(){return n(!r)}})}}),et?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"flex space-x-2",children:[(0,H.jsx)("div",{className:"flex flex-col justify-between w-full",children:(0,H.jsx)(f.Qr,{control:ne,name:"minValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsx)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,H.jsx)(Ze.Z,{placeholder:c.ag._("Min Price"),className:"w-full py-3 pl-2 bg-transparent !outline-none placeholder:text-sm",value:r.value,onChange:n,decimals:Et,isAllowed:function(e){var t=e.floatValue;return!t||t<=je},allowNegative:!1})})}})}),(0,H.jsx)("div",{className:"mx-2 flex items-end mb-4 text-base text-white/50",children:"~"}),(0,H.jsx)("div",{className:"flex flex-col justify-between w-full",children:(0,H.jsx)(f.Qr,{control:ne,name:"maxValue",render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,H.jsx)("div",{className:(0,N.cn)("h-[54px] mt-2 rounded-xl flex space-x-3 items-center px-2 bg-v2-background-dark","text-sm lg:text-base","group-hover/select:border-v2-active-state group-hover/select:bg-[rgba(199,242,132,0.2)] group-hover/select:shadow-swap-input-dark"),children:(0,H.jsx)(Ze.Z,{className:"w-full py-3 pl-2 bg-transparent !outline-none placeholder:text-sm",value:r.value,onChange:n,placeholder:c.ag._("Max Price"),isAllowed:function(e){var t=e.floatValue;return!t||t<=je},ref:kn,decimals:Et,allowNegative:!1})})}})})]}),(0,H.jsxs)("div",{className:"text-xs text-white/50 flex items-center justify-between h-4 mt-1",children:[Ut?(0,H.jsxs)("p",{children:[null!==Rt&&void 0!==Rt&&Rt.isFromBase?(0,H.jsx)(l.cC,{id:"Current sell"}):(0,H.jsx)(l.cC,{id:"Current buy"})," ",(0,H.jsx)(l.cC,{id:"{0} rate",values:{0:null===Ut||void 0===Ut?void 0:Ut.symbol}})]}):(0,H.jsx)(ie.O,{className:"h-4 w-2"}),Jt?(0,H.jsx)(ie.O,{className:"!h-3 !w-12"}):Yt?(0,H.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,H.jsx)(_.ZP,{value:null!==Rt&&void 0!==Rt&&Rt.isFromBase?new k.Z(1).div(Yt.marketRate).toNumber():Yt.marketRate.toNumber(),maxSuffix:6}),(0,H.jsx)("span",{children:null!==Rt&&void 0!==Rt&&Rt.isFromBase?"".concat(Dt," / ").concat(Vt):"".concat(Vt," / ").concat(Dt)})]}):"-"]}),(0,H.jsxs)("div",{className:"my-2 py-2 px-4 bg-v2-lily/5 rounded-lg text-xs flex items-center text-white space-x-2 w-full",children:[(0,H.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-white/40",children:(0,H.jsx)(P.Z,{fill:"inherit"})}),(0,H.jsx)("div",{className:"text-white/40",children:(0,H.jsx)("p",{children:c.ag._("DCA will only be executed if the price falls within the range of your pricing strategy.")})})]})]}):null,kt&&(0,H.jsxs)("div",{className:"my-2 py-2 px-4 bg-warning/80 rounded-lg text-xs flex items-center text-white space-x-2 w-full leading-tight",children:[(0,H.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,H.jsx)(P.Z,{fill:"inherit"})}),(0,H.jsx)("div",{className:"space-y-2",children:(0,H.jsx)("p",{children:(0,H.jsx)(l.cC,{id:"Given the new token's high volatility during its price discovery phase, please exercise caution while trading. You should use <0>pricing strategy</0> to prevent buying or selling at an unfavorable price.",components:{0:(0,H.jsx)("b",{})}})})})]})]})]}),(0,H.jsxs)("div",{className:"flex flex-col items-center justify-center w-full mt-3",children:[Kn&&Ln.length>0?(0,H.jsxs)("div",{className:"mb-4 py-3 px-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-[#F04A44]",children:[(0,H.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,H.jsx)(P.Z,{fill:"inherit"})}),(0,H.jsx)("div",{className:"flex flex-col space-y-1",children:Ln.map((function(e,t){return(0,H.jsx)("div",{children:e},t)}))})]}):null,hn,Un?(0,H.jsx)(We.y,{}):s.connected?(0,H.jsx)(M.Z,{disabled:Kn,loading:ue,type:"submit",className:"border border-v2-lily/20 w-full",children:qt||Wt?(0,H.jsx)(l.cC,{id:"Token account frozen"}):c.ag._("Start DCA")}):(0,H.jsx)(p.uS,{buttonClassName:"!bg-transparent w-full",overrideContent:(0,H.jsx)(M.Z,{type:"button",className:"border border-v2-lily/20 w-full",children:c.ag._("Connect Wallet")})})]})]})}),(0,H.jsx)("div",{className:"mt-3 w-full flex flex-col justify-center xl:max-w-7xl lg:max-w-[90vw] lg:mx-auto",children:(0,H.jsx)("div",{className:"w-full max-w-full overflow-hidden",children:(0,H.jsx)("div",{className:"md:flex flex-row justify-between px-5 lg:px-0",children:s.connected?(0,H.jsx)("div",{className:"flex space-x-2 justify-start items-start overflow-y-auto py-3 lg:py-0 w-full",children:(0,H.jsxs)(Ue.Z,{tabs:["Active DCAs","Past DCAs"],activeTab:sn,setActiveTab:on,isLoading:Bn,refetch:En,children:["Active DCAs"===sn?(0,H.jsx)(se,{dcaClient:T}):null,"Past DCAs"===sn?(0,H.jsx)(ce,{dcaClient:T}):null]})}):null})})})]})})}},56039:function(e,t,n){n.d(t,{Z:function(){return he},s:function(){return fe}});var r=n(63956),a=n(70107),i=n(27195),s=n(97620),o=n(8857),l=n.n(o),c=n(73360),u=n(7761),d=n(93981),m=n(1361),f=n(94107),x=n(5100),h=n(88825),p=n(50613),v=n(91511),b=n(13170),g=n(71048),w=n(66956),k=n(65558),y=n(13838),j=n(94728),N=n(49006),S=n(11003),M=n(85394),C=n(59394),P=n(76613),A=n(59243),T=n(25546),O=n(12939),Z=n(46267),D=n(41118),V=n(77798),_=n(23632),I=n(94223),F=n(1622),B=n(69921),E=n(89388),R=n(56100),L=n(16330),K=n(99438),U=n(42082),H=n(78013),q=n(74376),W=n(86883),G=n(71932),z=n(70006),Q=n(33130),Y=n(3011),J=n(49839),X=n(54566),$=n(29541),ee=function(e){var t=e.actions;return(0,$.jsx)("div",{className:(0,E.cn)("flex bg-black/60 rounded-lg overflow-hidden shadow-xl backdrop-blur-lg"),children:t.map((function(e,n){return(0,$.jsx)("button",{type:"button",onClick:e.onClick,className:(0,E.cn)("text-xs w-13 p-2 flex justify-center font-semibold hover:bg-white/20",0!==n&&n!==t.length?"border-l border-r border-white/20":""),children:e.text},n)}))})},te=n(78232),ne=n(59295),re=n(9319),ae=n.n(re),ie=n(50269),se=n(1242),oe=n(71130),le=n(90342);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw i}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fe=function(e){var t=e.fromPair,n=e.fromTokenInfo,r=e.toTokenInfo,a=e.side,i=e.isSubmitting,o=(0,x.Bn)().newTokenListMap,l=(0,w.b)(n,r),c=l.quoteTokenInfo,u=l.baseTokenInfo,m=l.quoteTokenPrice,f=l.baseTokenPrice,h=l.rateDecimals,p=(0,Y.KO)(se.dS),v=(0,s.Z)(p,1)[0].GRAPH_PARAMS,b=(0,d.useMemo)((function(){return!(!c||!u)&&(o.has(c.address)||o.has(u.address))}),[o,c,u]),g=(0,d.useMemo)((function(){if(!D.d.find((function(e){return e===(null===n||void 0===n?void 0:n.address)||e===(null===r||void 0===r?void 0:r.address)})))return null;var e=t===(null===u||void 0===u?void 0:u.address);return{isFromBase:Boolean(e)}}),[null===u||void 0===u?void 0:u.address,t,null===n||void 0===n?void 0:n.address,null===r||void 0===r?void 0:r.address]),k=(0,_.s)({quoteTokenInfo:c,baseTokenInfo:u,quoteTokenPrice:m,baseTokenPrice:f,isBaseQuoteMode:g,rateDecimals:h,isSubmitting:i}),j=k.swapMarketPrice,N=k.isFetching,S=k.isFetched,M=(0,d.useMemo)((function(){if(b&&!j){var e=Number(v.i),t="buy"===a?m:"sell"===a?null!==g&&void 0!==g&&g.isFromBase?m:f:void 0;return t?"sell"!==a||null!==g&&void 0!==g&&g.isFromBase?new y.Z(e).div(t):new y.Z(t).div(e):null}return j}),[f,b,null===g||void 0===g?void 0:g.isFromBase,j,m,a,v]);return{rateDecimals:h,isBaseQuoteMode:g,swapMarketPrice:M,isMarketPriceFetched:S,isFetchingMarketPrice:N,jupSwapMarketPrice:j,quoteTokenInfo:c,baseTokenInfo:u}},xe=function(e){var t,n=e.limitOrder,r=e.fromTokenInfo,a=e.toTokenInfo,o=e.onOrderCreationFailed,v=e.onOrderCreationStart,w=e.onOrderCreationSuccess,S=e.side,C=e.description,D=e.setForm,_=(0,h.aM)(["limit-order-fee-structure"],(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFee();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{staleTime:1/0}),H=(0,g.cI)({defaultValues:{fromPair:r.address,toPair:a.address,fromPairValue:"100",targetPrice:"",toPairValue:"",expiry:"Never"}}),q=H.control,W=H.handleSubmit,re=H.watch,ce=H.setValue,de=H.formState,me=(0,U.T)(),xe=(0,z.JT)(),he=(xe.openContextualModal,xe.ModalContextConsumer,xe.openModal),pe=(xe.closeModal,(0,m.O)()),ve=pe.wallet,be=pe.signTransaction,ge=pe.signAllTransactions,we=(0,d.createRef)(),ke=(0,x.Bn)(),ye=ke.tokenMap,je=ke.connection,Ne=(0,d.useState)({day:0,hour:0,minute:0}),Se=(Ne[0],Ne[1],(0,d.useState)(!1)),Me=(Se[0],Se[1],(0,d.useRef)(!1)),Ce=(0,d.useMemo)((function(){var e=new Array(ye.size);return ye.forEach((function(t){(0,P.kL)(t)||e.push(t.address)})),e}),[ye]),Pe=re(),Ae=(0,Q.R3)(),Te=(0,Y.KO)(J.yz),Oe=(0,s.Z)(Te,1)[0],Ze=(0,le.gs)().priorityLevel,De=d.useCallback((function(e){var t=e,n=a;a.address===e.address&&(t=a,n=r),n&&me(t,n)}),[me,r,a]),Ve=d.useCallback((function(e){var t=r,n=e;r.address===e.address&&(t=a,n=r),t&&me(t,n)}),[me,r,a]),_e=(0,d.useMemo)((function(){return(0,P.Hd)(Pe.targetPrice)?Number(Pe.targetPrice):0}),[Pe.targetPrice]),Ie=(0,Y.KO)(se.dS),Fe=(0,s.Z)(Ie,1)[0],Be=Fe.RECOMMENDED_PARAMS,Ee=Fe.GRAPH_PARAMS,Re=Fe.FORM_CONFIG.LIMIT_ORDER,Le=(0,d.useState)({marketStatus:"unset",swapMarketPrice:new y.Z(Ee.i),hasNewToken:!1,constants:Re.PRE_LAUNCH_CONSTANTS}),Ke=Le[0],Ue=Le[1],He=fe({fromPair:Pe.fromPair,fromTokenInfo:r,toTokenInfo:a,side:S,isSubmitting:de.isSubmitting}),qe=He.rateDecimals,We=He.isBaseQuoteMode,Ge=He.isFetchingMarketPrice,ze=He.quoteTokenInfo,Qe=He.baseTokenInfo;(0,d.useEffect)((function(){Ue((function(e){return ue(ue({},e),{},{swapMarketPrice:He.swapMarketPrice||null})}))}),[Ue,He.swapMarketPrice]);var Ye=d.useCallback((function(e){(0,P.Hd)(e)&&ce("toPairValue",e)}),[ce]),Je=(0,x.y6)(),Xe=Je.tokenPriceMap,$e=Je.getUSDValue,et=Je.isLatest,tt=d.useMemo((function(){var e,t;if(!r||!a)return[null,null];var n=null===(e=Xe[r.address])||void 0===e?void 0:e.usd,i=null===(t=Xe[a.address])||void 0===t?void 0:t.usd;return n||$e(r.address),i||$e(a.address),[n,i]}),[r,$e,a,Xe,et]),nt=(0,s.Z)(tt,2),rt=nt[0],at=nt[1],it=(0,d.useCallback)((function(e){if(e){var t=(0,T.KU)(Number(e));ce("targetPrice",new y.Z(e).toFixed(Math.min(qe,t+5))),Ye(null!==We&&void 0!==We&&We.isFromBase?new y.Z(e.toFixed()).mul(Pe.fromPairValue||0).toDP(qe).toFixed():new y.Z(Pe.fromPairValue||0).div(e).toDP(qe).toFixed())}}),[null===We||void 0===We?void 0:We.isFromBase,Ye,qe,ce,Pe.fromPairValue]),st=(0,d.useCallback)((function(e,t){if(e){var n=(0,T.KU)(Number(e)),r=t?new y.Z(e.toFixed()).mul(t):e;ce("targetPrice",new y.Z(r).toFixed(Math.min(qe,n+5))),Ye(null!==We&&void 0!==We&&We.isFromBase?new y.Z(r.toFixed()).mul(Pe.fromPairValue||0).toDP(qe).toFixed():new y.Z(Pe.fromPairValue||0).div(r).toDP(qe).toFixed())}}),[ce,qe,Ye,null===We||void 0===We?void 0:We.isFromBase,Pe.fromPairValue]);(0,d.useEffect)((function(){if("unset"===Ke.marketStatus&&!He.jupSwapMarketPrice){if(Ue((function(e){return ue(ue({},e),{},{marketStatus:"pre-launch"})})),Me.current)return;if("buy"===S){if(Re.PRE_LAUNCH_CONSTANTS.initialPrice){var e=new y.Z(Re.PRE_LAUNCH_CONSTANTS.initialPrice||0).div(rt||0);it(e)}}else ce("targetPrice","")}if("pre-launch"===Ke.marketStatus&&He.jupSwapMarketPrice&&He.jupSwapMarketPrice.mul(.99).lt(Ee.m)){if(Ue((function(e){return ue(ue({},e),{},{constants:Re.IN_RANGE_CONSTANTS,marketStatus:"in-range"})})),Me.current)return;st(He.jupSwapMarketPrice,"buy"===S?Re.IN_RANGE_CONSTANTS.initialFactor:1)}if(He.jupSwapMarketPrice&&He.jupSwapMarketPrice.mul(.99).gte(Ee.m)){if(Ue((function(e){return ue(ue({},e),{},{constants:Re.OUT_OF_RANGE_CONSTANTS,marketStatus:"out-of-range"})})),Me.current)return;st(He.jupSwapMarketPrice,"buy"===S?Re.OUT_OF_RANGE_CONSTANTS.initialFactor:1)}}),[Ke.constants.initialFactor,Ke.marketStatus,Ke.swapMarketPrice,st,He.jupSwapMarketPrice,Ue,Re,Ee,S,rt,it,ce]);var ot=(0,V.E)(),lt=(0,d.useMemo)((function(){var e=new y.Z(0);if(!Pe.targetPrice||!Ke.swapMarketPrice)return e;var t=new y.Z(_e).sub(Ke.swapMarketPrice).div(Ke.swapMarketPrice);return(e=new y.Z(100).mul(t).toDP(2)).isFinite()?e:new y.Z(0)}),[Pe.targetPrice,Ke.swapMarketPrice,_e]),ct=(0,d.useMemo)((function(){return lt.gt(1e4)?">10000":"".concat(lt.toNumber()>0?"+":"").concat(lt.toDP(2).toString())}),[lt]),ut=(0,d.useMemo)((function(){return null!==We&&void 0!==We&&We.isFromBase?lt.toNumber()<0:lt.toNumber()>0}),[null===We||void 0===We?void 0:We.isFromBase,lt]),dt=(0,d.useMemo)((function(){return null!==We&&void 0!==We&&We.isFromBase?lt.toNumber()>0:lt.toNumber()<0}),[null===We||void 0===We?void 0:We.isFromBase,lt]),mt=(0,d.useMemo)((function(){return"pre-launch"!==Ke.marketStatus&&ut||dt}),[Ke.marketStatus,ut,dt]),ft=(0,d.useMemo)((function(){if(ot){if("unset"===Ke.marketStatus||"pre-launch"===Ke.marketStatus)return;if(!Ke.swapMarketPrice)return(0,$.jsx)(c.cC,{id:"Could not retrieve market price for this pair. Trade with caution"});var e=(0,$.jsx)("button",{type:"button",onClick:function(){D("swap")},className:"font-semibold underline",children:u.ag._("Jupiter Swap")}),t=(0,$.jsx)(c.cC,{id:"Limit price is {0}% {1} than market, you are {2} at a much {3} rate. We recommend that you use {swapLink} instead",values:{0:lt.absoluteValue(),1:null!==We&&void 0!==We&&We.isFromBase?"lower":"higher",2:null!==We&&void 0!==We&&We.isFromBase?"selling":"buying",3:null!==We&&void 0!==We&&We.isFromBase?"lower":"higher",swapLink:e}});if(null!==We&&void 0!==We&&We.isFromBase){if(lt.toNumber()<=-.5)return t}else if(lt.toNumber()>=.5)return t}}),[ot,Ke.marketStatus,Ke.swapMarketPrice,lt,null===We||void 0===We?void 0:We.isFromBase,D]),xt=(0,h.FB)(r.address).balance,ht=d.useCallback((function(e){var t;e.preventDefault(),t=Pe.fromPair===b.W4.toBase58()?String(xt>b.WO?xt-b.WO:0):String(xt),ce("fromPairValue",t);var n=null!==We&&void 0!==We&&We.isFromBase?_e:_e?1/_e:0;ce("toPairValue",new y.Z(t).mul(n).toFixed())}),[Pe.fromPair,ce,null===We||void 0===We?void 0:We.isFromBase,_e,xt]),pt=d.useCallback((function(e){e.preventDefault();var t=new y.Z(xt).div(2).toString();ce("fromPairValue",t);var n=null!==We&&void 0!==We&&We.isFromBase?_e:_e?1/_e:0;ce("toPairValue",new y.Z(t).mul(n).toFixed())}),[null===We||void 0===We?void 0:We.isFromBase,xt,ce,_e]),vt=(0,d.useMemo)((function(){if(null===ve||void 0===ve||!ve.adapter.connected)return!1;if((null===r||void 0===r?void 0:r.address)!==b.W4.toBase58())return!1;if(!(0,P.Hd)(Pe.fromPairValue))return!1;var e=xt-b.WO;return new y.Z(Pe.fromPairValue||0).gt(e)}),[null===r||void 0===r?void 0:r.address,xt,null===ve||void 0===ve?void 0:ve.adapter.connected,Pe.fromPairValue]),bt=(0,d.useMemo)((function(){return new y.Z(Pe.fromPairValue||0).lte(xt)}),[xt,Pe.fromPairValue]),gt=(0,d.useMemo)((function(){var e=A.CO.includes(r.address)&&A.CO.includes(a.address),t=A.Jx.includes(r.address)&&A.Jx.includes(a.address);return _.data?e||t?new y.Z(_.data.makerStableFee.toString()).div(100).toFixed(1)+"%":new y.Z(_.data.makerFee.toString()).div(100).toFixed(1)+"%":null}),[r.address,a.address,_.data]);(0,d.useMemo)((function(){Me.current=!1,r&&ce("fromPair",r.address),a&&ce("toPair",a.address),ce("targetPrice",""),ce("toPairValue","")}),[r.address,a.address,S]);var wt=d.useRef(null),kt=d.useState(!1),yt=(0,s.Z)(kt,2),jt=yt[0],Nt=yt[1];(0,P.O3)(wt,(function(){Nt(!1)}));var St=(0,d.useMemo)((function(){return new y.Z(Pe.fromPairValue||0).mul(rt||0)}),[rt,Pe.fromPairValue]),Mt=d.useMemo((function(){return{isFromValueTooLow:St.lt(.99*Ke.constants.minUSD)}}),[Ke.constants.minUSD,St]).isFromValueTooLow,Ct=(0,d.useMemo)((function(){var e=[];"pre-launch"===Ke.marketStatus&&("buy"===S&&new y.Z(rt||0).mul(_e).lt((null===Be||void 0===Be?void 0:Be.min)||0)&&Be&&e.push((0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{children:u.ag._("Your Limit Order will most likely NOT FILL")}),(0,$.jsxs)("p",{children:["Recommended Range: ",(0,$.jsxs)("span",{className:"font-semibold",children:[Be.min," USDC"]})," -"," ",(0,$.jsxs)("span",{className:"font-semibold",children:[Be.max," USDC"]})]})]})));return e}),[Be,Ke.marketStatus,rt,S,_e]),Pt=(0,d.useMemo)((function(){var e,t=[];return null!==ve&&void 0!==ve&&null!==(e=ve.adapter)&&void 0!==e&&e.publicKey&&Pe.fromPairValue&&Mt&&t.push(u.ag._("Minimum {0} USD required",{0:Ke.constants.minUSD})),function(){if(_e){if("pre-launch"===Ke.marketStatus||"in-range"===Ke.marketStatus){if(!Ke.constants.maxPrice)return void t.push(u.ag._("Missing maxPrice"));if("buy"===S){if(!rt)return void t.push(u.ag._("Missing fromTokenPrice"));var e=new y.Z(rt).mul(_e);e.gt(Ke.constants.maxPrice)&&t.push(u.ag._("Your Limit Order price is higher than the max price of {0} USD.",{0:Ke.constants.maxPrice})),Ke.constants.minPrice&&e.lt(Ke.constants.minPrice)&&t.push(u.ag._("Your Limit Order price is lower than the minimum price of {0} USD.",{0:Ke.constants.minPrice}))}if("sell"===S){if(!at)return void t.push(u.ag._("Missing toTokenPrice"));var n=new y.Z(at).mul(_e);Ke.constants.minPrice&&n.lt(Ke.constants.minPrice)&&t.push(u.ag._("Your Limit Order price is lower than the min price of {0} USD.",{0:Ke.constants.minPrice}))}}}else t.push(u.ag._("Please enter a target price"))}(),function(){if(_e&&("in-range"===Ke.marketStatus||"out-of-range"===Ke.marketStatus)){if(!Ke.constants.maxGuardRails)return void t.push(u.ag._("maxGuardRails is not defined"));(null!==We&&void 0!==We&&We.isFromBase?lt.toNumber()<-Ke.constants.maxGuardRails:lt.toNumber()>Ke.constants.maxGuardRails)&&t.push(u.ag._("Your Limit Order price is {0} than the max allowed percentage of {1}%",{0:null!==We&&void 0!==We&&We.isFromBase?"higher":"lower",1:Ke.constants.maxGuardRails}))}}(),bt||t.push((0,$.jsxs)("div",{className:"space-y-1",children:[u.ag._("Insufficient balance, you have {maxBalance} {0}.",{0:r.symbol,maxBalance:xt}),(0,$.jsx)("br",{}),(0,$.jsx)("button",{type:"button",className:"underline cursor-pointer",onClick:ht,children:u.ag._("Use available balance")})]})),t}),[null===ve||void 0===ve||null===(t=ve.adapter)||void 0===t?void 0:t.publicKey,Pe.fromPairValue,_e,Mt,Ke.marketStatus,Ke.constants.minUSD,Ke.constants.maxPrice,Ke.constants.minPrice,Ke.constants.maxGuardRails,bt,xt,r.symbol,ht,S,rt,at,null===We||void 0===We?void 0:We.isFromBase,lt]),At=(0,d.useMemo)((function(){var e=Pe.fromPairValue,t=Pe.targetPrice,n=Pe.toPairValue;return Number(e)<=0||Number(n)<=0||Number(t)<=0||de.isSubmitting||!bt||vt||Pt.length>0}),[de.isSubmitting,Pe,bt,vt,Pt]),Tt=(0,d.useCallback)(function(){var e=(0,i.Z)(l().mark((function e(t){var i,s,d,m,f,x,h,b,g,M,C,A,T;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve&&ve.adapter.publicKey&&be&&ge&&r&&a){e.next=2;break}return e.abrupt("return");case 2:return i=new k.BN(new y.Z(t.fromPairValue).mul(Math.pow(10,r.decimals)).round().toString()),s=new k.BN(new y.Z(t.toPairValue).mul(Math.pow(10,a.decimals)).round().toString()),d=j.PublicKey.default,e.prev=5,e.next=8,(0,N.a)(ve.adapter);case 8:return m=e.sent,e.next=11,n.createOrder({owner:ve.adapter.publicKey,inAmount:i,outAmount:s,inputMint:new j.PublicKey(t.fromPair),outputMint:new j.PublicKey(t.toPair),expiredAt:null,base:m.publicKey});case 11:return f=e.sent,x=f.tx,h=f.orderPubKey,v({publicKey:d=h,account:{oriMakingAmount:i,makingAmount:i,takingAmount:s,oriTakingAmount:s,inputMint:new j.PublicKey(t.fromPair),outputMint:new j.PublicKey(t.toPair),expiredAt:null}}),e.next=18,je.getLatestBlockhash("confirmed");case 18:return b=e.sent,e.next=21,new Promise((function(e){var t=(0,ne.c)({inAmount:ae().BigInt(s.toString()),inputDecimal:a.decimals,outAmount:ae().BigInt(i.toString()),outputDecimal:r.decimals},!0),n="buy"===S?rt?new y.Z(rt).mul(Pe.targetPrice).toNumber():null:"sell"===S&&at?new y.Z(at).mul(Pe.targetPrice).toNumber():null;he((0,$.jsx)(te.Z,{quotedRate:t,onConfirm:function(){return e(!0)},inputAmount:(0,P.lt)(i,r.decimals),outputAmount:(0,P.lt)(s,a.decimals),inputPair:r,outputPair:a,usdRate:n}),{onClose:function(){e(!1)},containerStyle:{borderRadius:"12px"}})}));case 21:if(e.sent){e.next=25;break}return o(d),e.abrupt("return");case 25:return e.next=27,b;case 27:return g=e.sent,M=g.blockhash,C=g.lastValidBlockHeight,A=new j.Transaction({feePayer:ve.adapter.publicKey,blockhash:M,lastValidBlockHeight:C}).add(x),e.next=33,Ae(A,{extraSigners:"secretKey"in m?[m]:[],blockhash:M,lastValidBlockHeight:C,idl:p.xO,idlProgramId:p.zy["mainnet-beta"],skipPreflight:!0},{successMessage:(0,$.jsx)(c.cC,{id:"Limit order placed for {0} {1} @ {2} {3}",values:{0:new y.Z(t.fromPairValue).toDP(2).toString(),1:r.symbol,2:new y.Z(t.toPairValue).toDP(a.decimals).toString(),3:a.symbol}}),submittingMessage:(0,$.jsx)(c.cC,{id:"Placing limit order"}),errorMessage:u.ag._("Failed to create order"),referenceFee:"MEDIUM"===Ze?Oe.loAndDCA:"HIGH"===Ze&&Oe.loAndDCA?1.5*Oe.loAndDCA:"VERY_HIGH"===Ze&&Oe.loAndDCA?3*Oe.loAndDCA:void 0,minimumFee:J.uo,requestComputeBudgetLimit:3e5});case 33:if(T=e.sent,T.success){e.next=37;break}throw new Error("Failed to create order");case 37:w(d),e.next=44;break;case 40:e.prev=40,e.t0=e.catch(5),console.error(e.t0),o(d);case 44:case"end":return e.stop()}}),e,null,[[5,40]])})));return function(t){return e.apply(this,arguments)}}(),[ve,be,ge,r,a,n,v,je,Ae,w,he,S,rt,Pe.targetPrice,at,o,Oe.loAndDCA,Ze]);return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("form",{className:"flex flex-col justify-center h-auto w-full",onSubmit:W(Tt),children:[C,(0,$.jsxs)("div",{children:[(0,$.jsxs)("div",{className:"flex justify-between items-end",children:[(0,$.jsx)("div",{className:"text-black/50 dark:text-white text-xs md:text-sm",children:(0,$.jsx)(c.cC,{id:"You're Selling"})}),(0,$.jsxs)("div",{className:"text-black-25 dark:text-[#CFF3FF]/[0.35] text-xs flex items-center",children:[(0,$.jsx)("div",{children:(0,$.jsx)(I.Z,{width:12,height:12})}),a.address?(0,$.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,$.jsxs)("div",{className:"flex item-center ml-1 cursor-pointer dark:hover:text-white-50 hover:text-black-50",onClick:ht,children:[(0,$.jsx)(F.Z,{mintAddress:r.address}),(0,$.jsx)("span",{className:"ml-1",children:r.symbol})]}),(0,$.jsx)(B.Z,{tokenAddress:r.address,onClickHalf:pt,onClickMax:ht})]}):(0,$.jsx)("span",{children:"0.00"})]})]}),(0,$.jsx)("div",{className:"mt-2 border-b border-transparent",children:(0,$.jsx)("div",{className:(0,E.cn)("p-4 border border-transparent rounded-xl bg-jupiter-input-light dark:bg-v2-background-dark group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,$.jsx)(Z.Z,{disableTokenSelect:"sell"===S,testId:"fromPair",pair:r,pairName:"fromPairValue",disabled:!1,control:q,onSubmit:De,mintsList:Ce,modalId:A.r$,watchAllFields:Pe,onChangeCalculate:function(e){var t=(0,P.Hd)(e)?e:0,n=null!==We&&void 0!==We&&We.isFromBase?_e:_e?1/_e:0;ce("fromPairValue",t||"",{shouldDirty:!0}),ce("toPairValue",new y.Z(t).mul(n).toDP(a.decimals).toFixed())}})})}),vt?(0,$.jsxs)("div",{className:"mt-2 flex items-center fill-current text-v2-lily/60 text-xs mb-2 gap-2",children:[(0,$.jsx)(ie.Z,{}),(0,$.jsx)(c.cC,{id:"We recommend having at least ${MINIMUM_SOL_BALANCE} SOL for any transaction",values:{MINIMUM_SOL_BALANCE:b.WO}})]}):null,(0,$.jsx)("div",{className:"mt-2 sm:space-x-3 space-y-2 sm:space-y-0 flex-col-reverse sm:flex sm:flex-row mb-2 relative",children:(0,$.jsxs)("div",{className:(0,E.cn)("w-full bg-jupiter-input-light dark:bg-v2-background-dark space-y-1 pt-2 pb-6 px-4 rounded-xl flex flex-col justify-center relative","border border-transparent focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:[(0,$.jsxs)("div",{className:"flex justify-between",children:[(0,$.jsxs)("div",{className:"flex items-center",children:[Qe?(0,$.jsxs)("div",{className:"text-v2-lily/50 text-xs flex items-center",children:[null!==We&&void 0!==We&&We.isFromBase?(0,$.jsx)(c.cC,{id:"Sell"}):(0,$.jsx)(c.cC,{id:"Buy"})," ",(0,$.jsx)(c.cC,{id:"{0} at rate",values:{0:null===Qe||void 0===Qe?void 0:Qe.symbol}}),Ge?(0,$.jsx)(M.Z,{className:"ml-1",width:8,height:8}):null]}):(0,$.jsx)(R.O,{className:"h-4 w-2"}),mt?(0,$.jsx)("div",{className:(0,E.cn)("flex items-center text-xs ml-1 font-medium text-v2-lily/50",{}),children:"(".concat(ct,"%)")}):null]}),Ke.swapMarketPrice&&("in-range"===Ke.marketStatus||"out-of-range"===Ke.marketStatus)&&(0,$.jsx)("button",{type:"button",className:"dark:text-white-35 dark:hover:text-white-75 text-black-35 hover:text-black text-xxs cursor-pointer underline rounded",onClick:function(){return st(Ke.swapMarketPrice)},children:(0,$.jsx)(c.cC,{id:"Use Market"})})]}),(0,$.jsx)(g.Qr,{name:"targetPrice",control:q,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,$.jsxs)("div",{className:"",ref:wt,onFocus:function(){return Nt(!0)},children:[(0,$.jsxs)("div",{className:"flex items-end",children:[(0,$.jsx)(L.Z,{testId:"targetPrice",decimals:qe,onChangeWithoutEffect:function(e){(0,P.Hd)(e)&&Ye(null!==We&&void 0!==We&&We.isFromBase?new y.Z(e).mul(Pe.fromPairValue||0).toDP(qe).toFixed():new y.Z(Pe.fromPairValue||0).div(e).toDP(qe).toFixed()),n(e)},onFocus:function(){return Me.current=!0},value:r,disabled:!1,ref:we,className:"!text-left !text-sm flex-1"}),ze?(0,$.jsx)("div",{className:"flex items-center",children:(0,$.jsx)("span",{className:"font-semibold text-sm",children:null===ze||void 0===ze?void 0:ze.symbol})}):(0,$.jsx)(R.O,{className:"w-11 h-6"})]}),ze&&(0,$.jsx)("div",{className:"text-xs text-v2-lily/30 absolute bottom-2",children:(0,$.jsx)(X.default,{prefix:"\u2248 ",tokenInfo:ze,amount:Number(r),maxDecimals:6})}),"buy"===S&&(0,$.jsx)("div",{className:(0,E.cn)("absolute pointer-events-none opacity-0 left-0 -bottom-6 transition-all duration-100 ease-in-out",jt?"pointer-events-auto opacity-100":""),children:(0,$.jsx)(ee,{actions:Ke.constants.quickPrice.map((function(e){return{text:e.text,onClick:function(){st(Ke.swapMarketPrice,e.factor)}}}))})})]})}})]})}),"pre-launch"===Ke.marketStatus&&(null===Be||void 0===Be?void 0:Be.min)&&Be.max&&(0,$.jsxs)("div",{className:"flex items-center fill-current text-v2-lily/60 text-xs mb-2 gap-2",children:[(0,$.jsx)(ie.Z,{}),(0,$.jsxs)("span",{children:["Recommended Range: ",(0,$.jsxs)("span",{className:"font-semibold",children:[Be.min," USDC"]})," -"," ",(0,$.jsxs)("span",{className:"font-semibold",children:[Be.max," USDC"]})]})]}),(0,$.jsx)("div",{className:(0,E.cn)("bg-transparent transition-all duration-700 align-bottom my-4",{"opacity-0 h-0":!Boolean(ft),"opacity-100":Boolean(ft)}),children:ft&&(0,$.jsx)("div",{className:(0,E.cn)("border-yellow-500 bg-yellow-300/25 rounded-xl px-3 border text-yellow-500 transition-all duration-500 text-xs font-medium align-middle py-2"),children:ft})})]}),(0,$.jsxs)("div",{className:"flex flex-col",children:[(0,$.jsxs)("div",{className:"border-b border-transparent",children:[(0,$.jsxs)("div",{className:"flex justify-between items-end",children:[(0,$.jsx)("div",{className:"text-black/50 dark:text-white text-xs md:text-sm",children:(0,$.jsx)(c.cC,{id:"To receive"})}),(0,$.jsxs)("div",{className:"text-black-25 dark:text-[#CFF3FF]/[0.35] text-xs flex",children:[(0,$.jsx)("div",{className:"mt-[1px]",children:(0,$.jsx)(I.Z,{width:12,height:12})}),a.address?(0,$.jsxs)("div",{className:"ml-1",children:[(0,$.jsx)(F.Z,{mintAddress:a.address}),(0,$.jsx)("span",{className:"ml-1",children:a.symbol})]}):(0,$.jsx)("span",{children:"0.00"})]})]}),(0,$.jsx)("div",{className:"mt-2 border-b border-transparent",children:(0,$.jsx)("div",{className:(0,E.cn)("p-4 border border-transparent rounded-xl bg-jupiter-input-light dark:bg-v2-background-dark group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,$.jsx)(Z.Z,{disableTokenSelect:"buy"===S,testId:"toPair",pair:a,pairName:"toPairValue",control:q,onSubmit:Ve,mintsList:Ce,modalId:A.re,watchAllFields:Pe,onChangeCalculate:function(e){var t=(0,P.Hd)(e)?e:0,n=null!==We&&void 0!==We&&We.isFromBase?_e:_e?1/_e:0;ce("toPairValue",0===t?"":t,{shouldDirty:!0}),ce("fromPairValue",0===t?"0":new y.Z(t).div(n).toFixed())}})})})]}),(0,$.jsx)("div",{className:"flex justify-between mt-3",children:(0,$.jsx)(c.cC,{id:"<0>Platform fee:{0}</0>",values:{0:_.isLoading?(0,$.jsx)(R.O,{className:"w-20 h-4"}):(0,$.jsx)("span",{className:"ml-1 text-v2-primary",children:gt})},components:{0:(0,$.jsx)("span",{className:"text-black-50 dark:text-white-50 text-[11px] font-medium inline"})}})}),de.isDirty&&Ct.length>0&&(0,$.jsxs)("div",{className:"mt-3 py-3 pl-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-warning/80",children:[(0,$.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,$.jsx)(G.Z,{fill:"inherit"})}),(0,$.jsx)("div",{className:"flex flex-col space-y-1",children:Ct.map((function(e,t){return(0,$.jsx)("div",{children:e},t)}))})]}),de.isDirty&&Pt.length>0&&(0,$.jsxs)("div",{className:"my-3 py-3 pl-2 rounded-lg text-xs flex items-center text-white space-x-2 w-full bg-[#F04A44]",children:[(0,$.jsx)("div",{className:"h-3 w-3 mt-0.5 fill-current",children:(0,$.jsx)(G.Z,{fill:"inherit"})}),(0,$.jsx)("div",{className:"flex flex-col space-y-1",children:Pt.map((function(e,t){return(0,$.jsx)("div",{children:e},t)}))})]}),(0,$.jsx)(oe.Z,{className:"text-v2-lily/60 text-xs !px-0",iconSize:12,message:u.ag._("Priority fees are only used to create new orders, and will not improve your chances of getting filled.")}),null!==ve&&void 0!==ve&&ve.adapter.publicKey?(0,$.jsx)("button",{type:"submit",className:(0,E.cn)("w-full mt-3 bg-[#121D28] border border-transparent dark:hover:border dark:hover:border-v2-primary rounded-xl",{"opacity-50 cursor-not-allowed":At}),disabled:At,children:(0,$.jsx)("div",{className:"flex items-center justify-center px-8 py-4 rounded-xl dark:bg-[rgba(18,29,40,1)]",children:(0,$.jsx)("span",{className:"text-center",children:vt||!bt?(0,$.jsx)(c.cC,{id:"Insufficient {0}",values:{0:null===r||void 0===r?void 0:r.symbol}}):(0,$.jsx)(O.Z,{children:(0,$.jsx)(c.cC,{id:"Place Limit Order"})})})})}):(0,$.jsx)(f.uS,{buttonClassName:"!bg-transparent",overrideContent:(0,$.jsx)(K.Z,{className:"w-full mt-2",size:"md",children:(0,$.jsx)("span",{children:(0,$.jsx)(c.cC,{id:"Connect Wallet"})})})})]})]})})},he=function(e){var t=e.side,n=e.fromTokenInfo,r=e.toTokenInfo,o=e.targetToken,f=e.description,g=e.setForm,w=(0,m.O)(),k=w.wallet,N=w.signAllTransactions,M=w.publicKey,O=(0,x.Bn)(),Z=O.getTokenInfo,D=O.connection,V=(0,h.lm)(),_=V.toast,I=V.close,F=(0,d.useMemo)((function(){return new p.vN(D)}),[D]),B=(0,le.gs)().priorityLevel,E=(0,d.useState)("Open Orders"),R=E[0],L=E[1],U=(0,d.useState)(0),G=U[0],z=U[1];(0,d.useEffect)((function(){z(0)}),[R]);var X=(0,d.useState)(!1),ee=X[0],te=X[1],ne=d.useState(1),re=(0,s.Z)(ne,2),ae=re[0],ie=re[1],se=(0,h.aM)([(null===M||void 0===M?void 0:M.toString())||"",o,ae],(0,i.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,F.getOrders([(0,p.Gt)(M)]);case 4:return t=e.sent,n=t.filter((function(e){var t=e.account,n=t.outputMint;return t.inputMint.toString()===o||n.toString()===o})),e.abrupt("return",n||[]);case 7:case"end":return e.stop()}}),e)}))),{enabled:ee&&Boolean(M)&&"Open Orders"===R,refetchInterval:!1,keepPreviousData:!0}),oe=se.data,ce=se.isFetching,ue=se.refetch,me=(0,d.useMemo)((function(){return null!==oe&&void 0!==oe&&oe.length?Math.ceil(oe.length/b.eN):0}),[oe]),fe=(0,d.useMemo)((function(){return oe||[]}),[oe]),he=(0,d.useMemo)((function(){return fe?fe.slice(G*b.eN,G*b.eN+10):[]}),[G,fe]),pe=v.d.orderWithTradeHistoryWithItemsCount.useQuery({wallet:M?null===M||void 0===M?void 0:M.toString():"",inputMint:o,outputMint:o,pageIndex:G},{enabled:Boolean(M)&&"Order History"===R,refetchInterval:!1,refetchOnWindowFocus:!1,keepPreviousData:!0}),ve=pe.data,be=pe.isFetching,ge=pe.refetch,we=(0,d.useMemo)((function(){return null!==ve&&void 0!==ve&&ve.itemsCount?Math.ceil((null===ve||void 0===ve?void 0:ve.itemsCount)/b.eN):0}),[ve]),ke=(0,d.useState)([]),ye=ke[0],je=ke[1];(0,d.useEffect)((function(){je((function(e){return e.filter((function(e){return!Boolean(null===oe||void 0===oe?void 0:oe.find((function(t){return t.publicKey&&e.publicKey.equals(t.publicKey)})))}))}))}),[oe,je]);var Ne=(0,Q.R3)(),Se=(0,Y.KO)(J.yz),Me=(0,s.Z)(Se,1)[0],Ce=(0,d.useCallback)(function(){var e=(0,i.Z)(l().mark((function e(t){var n,r,a,s,o,d,m,f,x,h,v,b,g,w,M,O,V,E;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="cancel-limit-order-toast",r=(0,$.jsx)($.Fragment,{}),a=[],s=[],ie((function(e){return e+1})),k&&k.adapter.publicKey&&N&&oe&&0!==t.length){e.next=7;break}return e.abrupt("return");case 7:if(!(o=1===t.length?oe.find((function(e){return e.publicKey.equals(t[0])})):null)||!o.publicKey){e.next=23;break}return e.prev=9,d=Z(o.account.inputMint.toString()),m=Z(o.account.outputMint.toString()),e.next=14,F.cancelOrder({owner:k.adapter.publicKey,orderPubKey:new j.PublicKey(o.publicKey)});case 14:a[0]=e.sent,d&&m?(f=(0,P.lt)(o.account.makingAmount||0,d.decimals),x=(0,P.lt)(o.account.takingAmount||0,m.decimals),r=(0,$.jsx)("p",{children:(0,$.jsx)(c.cC,{id:"Cancelling order for {0} {1} @ {2} {3}",values:{0:new y.Z(f).toDP(2).toString(),1:d.symbol,2:new y.Z(x).toDP(2).toString(),3:m.symbol}})})):r=(0,$.jsx)("p",{children:(0,$.jsx)(c.cC,{id:"Cancelling order"})}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),console.log(e.t0);case 21:e.next=29;break;case 23:if(!(t.length>1)){e.next=29;break}return r=(0,$.jsx)("div",{children:t.length>A.TC?(0,$.jsxs)("div",{className:"flex flex-col",children:[(0,$.jsx)("p",{children:(0,$.jsx)(c.cC,{id:"You may need to approve"})}),(0,$.jsx)("p",{children:(0,$.jsx)(c.cC,{id:"multiple transactions."})})]}):(0,$.jsx)("p",{children:(0,$.jsx)(c.cC,{id:"Cancelling {0} orders...",values:{0:t.length}})})}),h=(0,T.OZ)(t,A.TC),e.next=28,Promise.all(h.map(function(){var e=(0,i.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.batchCancelOrder({owner:k.adapter.publicKey,ordersPubKey:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 28:a=e.sent;case 29:if(a){e.next=31;break}throw new Error("Failed to get cancel order instructions");case 31:e.prev=31,v=de(a),e.prev=33,v.s();case 35:if((b=v.n()).done){e.next=47;break}return g=b.value,e.next=39,D.getLatestBlockhash("confirmed");case 39:return w=e.sent,M=w.blockhash,O=w.lastValidBlockHeight,V=new j.Transaction({feePayer:k.adapter.publicKey,blockhash:M,lastValidBlockHeight:O}).add(g),e.next=45,Ne(V,{blockhash:M,idl:p.xO,idlProgramId:p.zy["mainnet-beta"],lastValidBlockHeight:O},{successMessage:(0,$.jsx)(c.cC,{id:"Orders cancelled"}),submittingMessage:r,errorMessage:(0,$.jsx)(c.cC,{id:"Failed to cancel orders"}),referenceFee:"MEDIUM"===B?Me.loAndDCA:"HIGH"===B&&Me.loAndDCA?1.5*Me.loAndDCA:"VERY_HIGH"===B&&Me.loAndDCA?3*Me.loAndDCA:void 0,minimumFee:J.uo,requestComputeBudgetLimit:3e5});case 45:e.next=35;break;case 47:e.next=52;break;case 49:e.prev=49,e.t1=e.catch(33),v.e(e.t1);case 52:return e.prev=52,v.f(),e.finish(52);case 55:I(n),e.next=64;break;case 58:e.prev=58,e.t2=e.catch(31),I(n),E=t.length>1?u.ag._("Failed to cancel some orders"):u.ag._("Failed to cancel order"),_({duration:5e3,title:E,description:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("p",{children:e.t2.message}),s.map((function(e,t){return(0,$.jsx)("p",{children:(0,$.jsx)(C.Z,{txid:e})},t)}))]}),closeOnClick:!1,variant:S.Lb.INFO}),console.error({err:e.t2});case 64:return e.prev=64,ue(),e.finish(64);case 67:case"end":return e.stop()}}),e,null,[[9,18],[31,58,64,67],[33,49,52,55]])})));return function(t){return e.apply(this,arguments)}}(),[k,N,oe,Z,F,I,D,Ne,Me.loAndDCA,B,_,ue]),Pe=(0,d.useMemo)((function(){return!oe||0===oe.length||"Order History"===R}),[R,oe]),Ae=(0,d.useCallback)((function(){if(oe&&!Pe){var e=oe.map((function(e){return e.publicKey})).filter(Boolean);Ce(e)}}),[Pe,oe,Ce]),Te=(0,d.useCallback)((function(){ue(),ge()}),[ue,ge]),Oe=(0,d.useCallback)((function(e){je((function(t){return t.filter((function(t){return!t.publicKey.equals(e)}))}))}),[je]),Ze=(0,d.useCallback)((function(e){je((function(t){return[].concat((0,a.Z)(t),[e])}))}),[je]),De=(0,d.useCallback)((function(e){je((function(t){return t.filter((function(t){return!t.publicKey.equals(e)}))})),Te()}),[je,Te]);return n&&r?(0,$.jsxs)("div",{children:[(0,$.jsx)(xe,{side:t,setForm:g,limitOrder:F,fromTokenInfo:n,toTokenInfo:r,onOrderCreationFailed:Oe,onOrderCreationStart:Ze,onOrderCreationSuccess:De,description:f}),ee?(0,$.jsxs)(H.Z,{tabs:["Open Orders","Order History"],activeTab:R,setActiveTab:L,isLoading:ce||be,cancelAllOrderDisabled:Pe,cancelAllOrder:Ae,refetch:Te,className:"!py-0 mt-3",children:["Open Orders"===R?(0,$.jsx)(q.Z,{orders:he,cancelOrder:Ce,ongoingSubmission:ye,loading:ce,pageIndex:G,setPageIndex:z,pageCount:me,isV2:!0}):null,"Order History"===R?(0,$.jsx)(W.Z,{orders:(null===ve||void 0===ve?void 0:ve.orders)||[],loading:be,pageIndex:G,setPageIndex:z,pageCount:we,isV2:!0}):null]}):(0,$.jsx)("div",{className:"w-full mt-3 text-xs overflow-x-auto border rounded-lg border-white/5 flex flex-col justify-center items-center p-4",children:(0,$.jsx)(K.Z,{type:"button",size:"sm",className:"w-auto px-4 bg-[#121D28] border border-transparent",onClick:function(){return te(!0)},children:(0,$.jsx)("span",{className:"text-sm",children:"View Orders"})})})]}):null}},26260:function(e,t,n){var r=n(97620),a=n(93981),i=n(30610),s=n(89388),o=n(25546),l=n(29541);t.Z=function(e){var t=e.className,n=e.children,c=e.data,u=e.rowRenderer,d=(e.value,e.onChange),m=e.contentClassName,f=e.rowClassName,x=e.filter,h=e.disabled,p=a.useState(!1),v=(0,r.Z)(p,2),b=v[0],g=v[1],w=a.useState(""),k=(0,r.Z)(w,2),y=k[0],j=k[1],N=(0,o.Nr)(y,150),S=a.useMemo((function(){return x&&N?x(c,N):c}),[c,N,x]);return(0,l.jsx)(i.Z,{isOpen:b,onClose:function(){return g(!1)},id:"settings-button",placement:"bottom-start",matchWidth:!0,buttonContent:(0,l.jsx)("button",{type:"button",onClick:function(){return g((function(e){return!e}))},className:(0,s.cn)("flex items-center py-3 pl-4 pr-5 space-x-2 rounded-lg bg-jupiter-light dark:bg-white/10 text-white/75",t),disabled:h,children:n}),buttonContentClassName:"!w-full",popoverContent:(0,l.jsxs)("div",{className:"mt-1 bg-jupiter-light rounded-lg dark:bg-white/10",children:[x?(0,l.jsx)("div",{className:"sticky top-0 flex",children:(0,l.jsx)("input",{placeholder:"Search...",className:"w-full py-2 px-4 bg-v2-background-dark text-white text-sm !outline-none",value:y,onChange:function(e){return j(e.target.value)}})}):null,S.map((function(e,t){return(0,l.jsx)("button",{onClick:function(){d(e),g(!1)},className:(0,s.cn)("first:pt-3 last:pb-3 w-full flex items-center py-1.5 pl-4 pr-3 space-x-2 text-white/75 hover:bg-porcelain dark:hover:bg-shark",f),children:u(e)},t)}))]}),contentClassName:(0,s.cn)("!bg-transparent !shadow-none z-50 webkit-scrollbar",m)})}},82625:function(e,t,n){var r=n(5100),a=n(89388),i=n(93981),s=n(54566),o=n(29541);t.Z=function(e){var t=e.value,n=e.tokenAddress,l=(0,r.Bn)().tokenMap,c=i.useMemo((function(){return l.get(n)}),[l,n]);return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)("div",{className:(0,a.cn)("text-xs text-black/40 dark:text-white-25 font-medium"),children:c&&(0,o.jsx)(s.default,{tokenInfo:c,amount:Number(t.floatValue)})}):null})}},69825:function(e,t,n){var r=n(63956),a=n(54423),i=n(93981),s=n(87821),o=n(5100),l=n(25546),c=n(89388),u=n(29541),d=["testId","name","onChange","value","disabled","decimals","onMouseOver","onFocus","onKeyDown","className","placeholder","onBlur","suffix","max","autofocus","style","enableDynamicSizing"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var f=i.forwardRef((function(e,t){e.testId;var n=e.name,f=e.onChange,x=e.value,h=e.disabled,p=void 0!==h&&h,v=e.decimals,b=void 0===v?6:v,g=e.onMouseOver,w=e.onFocus,k=e.onKeyDown,y=e.className,j=e.placeholder,N=e.onBlur,S=e.suffix,M=e.max,C=e.autofocus,P=void 0!==C&&C,A=e.style,T=e.enableDynamicSizing,O=(0,a.Z)(e,d),Z=(0,o.MG)().constants.MAX_INPUT_LIMIT,D=i.useMemo((function(){return O.isAllowed||function(e){var t=e.floatValue;return M?!t||t<=Number(M):!t||t<=Z}}),[Z,O.isAllowed,M]),V=String(x).length>=9?"text-base md:text-xl":"text-xl",_=","===l.A5?".":",",I=","===l.A5?",":".",F=i.useRef(null),B=(0,i.useState)(A),E=B[0],R=B[1];return(0,i.useEffect)((function(){var e;T&&R(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:null===(e=F.current)||void 0===e?void 0:e.clientWidth},A))}),[x,A,T]),(0,u.jsx)(s.Z,{onKeyDown:k,autoComplete:"off",name:n,inputMode:"decimal",onBlur:N,"data-lpignore":"true",decimalSeparator:I,value:null!==x&&void 0!==x?x:"",allowedDecimalSeparators:[".",","],thousandSeparator:_,decimalScale:b,allowNegative:!1,allowLeadingZeros:!1,disabled:p,isAllowed:D,onValueChange:function(e){e.value!==(null===x||void 0===x?void 0:x.toString())&&f&&f(e)},isNumericString:!0,placeholder:p?"":null!==j&&void 0!==j?j:"0.00",className:(0,c.cn)("h-full w-full bg-transparent disabled:cursor-not-allowed disabled:opacity-100 disabled:text-black dark:text-white text-right font-semibold dark:placeholder:text-white/25",V,y),onMouseOver:g,onFocus:w,getInputRef:t,suffix:S,autoFocus:P,style:E})}));t.Z=f},59295:function(e,t,n){n.d(t,{c:function(){return i}});var r=n(13838),a=n(25546),i=function(e,t){var n=e.inAmount,i=e.inputDecimal,s=e.outAmount,o=e.outputDecimal,l=(0,a.lt)(n,i),c=(0,a.lt)(s,o),u=t?new r.Z(c).div(l):new r.Z(l).div(c);return Number.isNaN(u.toNumber())?0:u.lessThan(.1)?Number(u.toPrecision(Math.max(t?o:i,1))):u.toDP(t?o:i).toNumber()}},44710:function(e,t,n){n.r(t);var r=n(89388),a=n(29541);t.default=function(e){var t=e.active,n=e.onClick,i=e.className,s=e.dotClassName,o=e.activeClassName,l=e.inactiveClassName,c=(0,r.cn)("bg-white transform translate-x-full",o),u=(0,r.cn)("bg-white dark:bg-white-35",l);return(0,a.jsx)("button",{type:"button",className:(0,r.cn)("w-9 h-5 flex items-center rounded-full p-0.5 cursor-pointer",{"bg-[#71E5EC]":t,"bg-[#010101]":!t},i),onClick:function(){return n(!t)},children:(0,a.jsx)("div",{className:(0,r.cn)("h-4 w-4 rounded-full shadow-md transform duration-300 ease-in-out",t?c:u,s)})})}},71957:function(e,t,n){n.d(t,{p:function(){return M}});var r=n(97620),a=n(1361),i=n(132),s=n(31562),o=n(63956),l=n(27195),c=n(8857),u=n.n(c),d=n(57565),m=n(67982),f=n(94728),x=n(14441),h=n(50992),p=n(795).Buffer;function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=400,w=function(){var e=(0,l.Z)(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getRecentPerformanceSamples(720);case 3:if(null!==(n=e.sent)&&void 0!==n&&n.length){e.next=6;break}return e.abrupt("return",g);case 6:if(r=n.reduce((function(e,t){return e+1e3*t.samplePeriodSecs/t.numSlots}),0),!((a=r/n.length)<200||a>800)){e.next=10;break}return e.abrupt("return",g);case 10:return e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){function e(t,n,r,a){if((0,i.Z)(this,e),this.provider=t,(0,o.Z)(this,"mdProgram",void 0),(0,o.Z)(this,"mint",void 0),(0,o.Z)(this,"user",void 0),(0,o.Z)(this,"isV2",void 0),(0,o.Z)(this,"V2_ROOT_MERKLE_TREE",void 0),this.isV2=r,this.mdProgram=(0,x.b8)(this.provider,r),this.provider=t,this.mint=new f.PublicKey(n),r){if(!a)throw new Error("V2_ROOT_MERKLE_TREE is required for V2 Merkle Distributor");this.V2_ROOT_MERKLE_TREE=new f.PublicKey(a)}}return(0,s.Z)(e,[{key:"getUser",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.user){e.next=2;break}return e.abrupt("return",this.user);case 2:return e.prev=2,e.next=5,fetch("https://worker.jup.ag/jup-claim-proof/".concat(this.mint.toBase58(),"/").concat(t.toBase58()));case 5:if((n=e.sent).ok){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,n.json();case 10:return r=e.sent,this.user=r,e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentSlot",value:function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.connection.getSlot());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveDefaultMerkleTree",value:function(e){if(this.isV2)return this.V2_ROOT_MERKLE_TREE;var t=f.PublicKey.findProgramAddressSync([p.from("MerkleDistributor"),e.toBuffer(),p.alloc(8)],this.mdProgram.programId);return(0,r.Z)(t,1)[0].toBase58()}},{key:"getClaimTimes",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,a,i,s,o,l,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,this.getUser(t);case 4:e.t0=e.sent;case 5:if(n=e.t0,this.mdProgram){e.next=8;break}return e.abrupt("return",null);case 8:if(a=this.resolveDefaultMerkleTree(new f.PublicKey(this.mint))){e.next=11;break}throw new Error("Default Merkle Tree not found");case 11:return e.next=13,Promise.all([this.mdProgram.account.merkleDistributor.fetchNullable(new f.PublicKey((null===n||void 0===n?void 0:n.merkle_tree)||a)),this.getCurrentSlot(),w(this.provider.connection)]);case 13:if(i=e.sent,s=(0,r.Z)(i,3),o=s[0],l=s[1],c=s[2],console.log({avgSlotTime:c}),null!==o&&void 0!==o&&o.enableSlot&&l&&c){e.next=21;break}return e.abrupt("return",null);case 21:return d=new Date(Date.now()+(o.enableSlot.toNumber()-l)*c),e.abrupt("return",{enableSlot:o.enableSlot.toNumber(),endTime:new Date(1e3*o.clawbackStartTs.toNumber()),estTime:d});case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClaimStatus",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,a,i,s,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.mdProgram,t&&n){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this.getUser(t);case 5:if((a=e.sent)&&a.merkle_tree){e.next=8;break}return e.abrupt("return",null);case 8:return i=(0,x.W2)(t,new f.PublicKey(a.merkle_tree),n.programId),s=(0,r.Z)(i,2),o=s[0],s[1],e.next=11,n.account.claimStatus.fetchNullable(o);case 11:return l=e.sent,e.abrupt("return",b({amount:new d.BN(a.amount),isClaimed:Boolean(l)},l));case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"claimToken",value:function(){var e=(0,l.Z)(u().mark((function e(t){var n,a,i,s,o,l,c,p,v,b,g,w,k,y,j,N,S,M,C;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.provider.connection,a=this.mdProgram,i=this.mint,t&&i&&a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getUser(t);case 5:if(s=e.sent){e.next=8;break}return e.abrupt("return");case 8:return o=s.proof,l=s.merkle_tree,c=new f.PublicKey(l),p=(0,x.W2)(t,c,a.programId),v=(0,r.Z)(p,2),b=v[0],v[1],g=[],e.next=14,(0,h.c1)(i,t,n);case 14:return w=e.sent,k=(0,r.Z)(w,2),y=k[0],(j=k[1])&&g.push(j),e.next=21,(0,h.c1)(i,c,n);case 21:return N=e.sent,S=(0,r.Z)(N,2),M=S[0],(C=S[1])&&g.push(C),e.t0=[],e.t1=g,e.next=30,a.methods.newClaim(new d.BN(s.amount),new d.BN(0),o).accounts({claimant:t,claimStatus:b,distributor:c,from:M,to:y,systemProgram:f.SystemProgram.programId,tokenProgram:m.TOKEN_PROGRAM_ID}).instruction();case 30:return e.t2=e.sent,e.t3=[e.t2],e.abrupt("return",e.t0.concat.call(e.t0,e.t1,e.t3));case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),y=n(5100),j=n(45009),N=n(1242),S=n(3011);function M(){var e,t=(0,a.O)(),n=(0,y.Rc)(),i=(0,S.KO)(N.dS),s=(0,r.Z)(i,1)[0],o=s.TARGET_MINT,l=s.V2_ROOT_MERKLE_TREE,c=s.useMerkleDistributorV2;return(0,j.a)(["markle-distributor",null===(e=t.publicKey)||void 0===e?void 0:e.toBase58(),o.toString(),c],(function(){var e=new d.Y7(n,t,{commitment:"confirmed"});return new k(e,new f.PublicKey(o),c,l)}),{enabled:Boolean(t)&&Boolean(n)})}},89521:function(e,t,n){var r=n(97620),a=n(93981),i=n(87148),s=n(3082),o=n(5100),l=n(88825),c=n(79877);t.Z=function(){var e,t=(0,s.useRouter)(),n=(0,i.Z)(null===t||void 0===t||null===(e=t.query)||void 0===e?void 0:e.inAmount),u=(0,l._)(c.J,null),d=(0,r.Z)(u,1)[0],m=(0,o.MG)().constants.MAX_INPUT_LIMIT;return(0,a.useMemo)((function(){var e,r;if(null===t||void 0===t||null===(e=t.query)||void 0===e||!e.inAmount)return"";if(n===(null===t||void 0===t||null===(r=t.query)||void 0===r?void 0:r.inAmount))return"";var a=Number(t.query.inAmount||0);return d&&!t.asPath.includes("inAmount")?"":a>0&&!Number.isNaN(a)&&a<m?a.toString():(t.replace({pathname:window.location.pathname},void 0,{scroll:!1,shallow:!0}),"")}),[t.query])}},71932:function(e,t,n){var r=n(63956),a=n(54423),i=(n(93981),n(29541)),s=["width","height"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.width,n=void 0===t?"12":t,r=e.height,o=void 0===r?"12":r,c=(0,a.Z)(e,s);return(0,i.jsx)("svg",l(l({width:n,height:o,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 10C18 14.4183 14.4183 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10ZM9.93793 12.1728C9.47107 12.1733 9.08835 11.8037 9.07186 11.3372L8.86888 5.61643C8.86042 5.3813 8.94838 5.15338 9.11162 4.98422C9.27485 4.81507 9.49982 4.71992 9.73494 4.71992H10.1409C10.376 4.71992 10.601 4.81507 10.7642 4.98422C10.9275 5.15338 11.0154 5.38131 11.007 5.61643L10.804 11.3372C10.7875 11.8037 10.4048 12.1733 9.93793 12.1728ZM9.93783 15.4176C10.6106 15.4176 11.1557 14.8725 11.1557 14.1997C11.1557 13.5269 10.6106 12.9818 9.93783 12.9818C9.26502 12.9818 8.71992 13.5269 8.71992 14.1997C8.71992 14.8725 9.26502 15.4176 9.93783 15.4176Z",fill:"currentColor"})}))}},99463:function(e,t,n){n.d(t,{x:function(){return r}});var r={version:"0.0.1",name:"merkle_distributor",instructions:[{name:"newDistributor",docs:["READ THE FOLLOWING:","","This instruction is susceptible to frontrunning that could result in loss of funds if not handled properly.","","An attack could look like:","- A legitimate user opens a new distributor.","- Someone observes the call to this instruction.","- They replace the clawback_receiver, admin, or time parameters with their own.","","One situation that could happen here is the attacker replaces the admin and clawback_receiver with their own","and sets the clawback_start_ts with the minimal time allowed. After clawback_start_ts has elapsed,","the attacker can steal all funds from the distributor to their own clawback_receiver account.","","HOW TO AVOID:","- When you call into this instruction, ensure your transaction succeeds.","- To be extra safe, after your transaction succeeds, read back the state of the created MerkleDistributor account and","assert the parameters are what you expect, most importantly the clawback_receiver and admin.","- If your transaction fails, double check the value on-chain matches what you expect."],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],pda:{seeds:[{kind:"const",type:"string",value:"MerkleDistributor"},{kind:"account",type:"publicKey",account:"Mint",path:"mint"},{kind:"arg",type:"u64",path:"version"}]}},{name:"clawbackReceiver",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint to distribute."]},{name:"tokenVault",isMut:!1,isSigner:!1,docs:["Token vault","Should create previously"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"associatedTokenProgram",isMut:!1,isSigner:!1,docs:["The [Associated Token] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[{name:"version",type:"u64"},{name:"root",type:{array:["u8",32]}},{name:"maxTotalClaim",type:"u64"},{name:"maxNumNodes",type:"u64"},{name:"startVestingTs",type:"i64"},{name:"endVestingTs",type:"i64"},{name:"clawbackStartTs",type:"i64"},{name:"enableSlot",type:"u64"},{name:"closable",type:"bool"}]},{name:"closeDistributor",docs:["only available in test phase"],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin","token_vault"]},{name:"tokenVault",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["account receive token back"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[]},{name:"closeClaimStatus",docs:["only available in test phase"],accounts:[{name:"claimStatus",isMut:!0,isSigner:!1,relations:["claimant","admin"]},{name:"claimant",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"setEnableSlot",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Payer to create the distributor."]}],args:[{name:"enableSlot",type:"u64"}]},{name:"newClaim",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to."]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]}],args:[{name:"amountUnlocked",type:"u64"},{name:"amountLocked",type:"u64"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimLocked",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim Status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to.","Claimant must sign the transaction and can only claim on behalf of themself"]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"clawback",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["The Clawback token account."]},{name:"claimant",isMut:!1,isSigner:!0,docs:["Claimant account","Anyone can claw back the funds"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"setClawbackReceiver",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"newClawbackAccount",isMut:!1,isSigner:!1,docs:["New clawback account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]}],args:[]},{name:"setAdmin",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]},{name:"newAdmin",isMut:!0,isSigner:!1,docs:["New admin account"]}],args:[]}],accounts:[{name:"claimStatus",docs:["Holds whether or not a claimant has claimed tokens."],type:{kind:"struct",fields:[{name:"claimant",docs:["Authority that claimed the tokens."],type:"publicKey"},{name:"lockedAmount",docs:["Locked amount"],type:"u64"},{name:"lockedAmountWithdrawn",docs:["Locked amount withdrawn"],type:"u64"},{name:"unlockedAmount",docs:["Unlocked amount"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this account, for testing purpose"],type:"bool"},{name:"admin",docs:["admin of merkle tree, store for for testing purpose"],type:"publicKey"}]}},{name:"merkleDistributor",docs:["State for the account which distributes tokens."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"version",docs:["Version of the airdrop"],type:"u64"},{name:"root",docs:["The 256-bit merkle root."],type:{array:["u8",32]}},{name:"mint",docs:["[Mint] of the token to be distributed."],type:"publicKey"},{name:"tokenVault",docs:["Token Address of the vault"],type:"publicKey"},{name:"maxTotalClaim",docs:["Maximum number of tokens that can ever be claimed from this [MerkleDistributor]."],type:"u64"},{name:"maxNumNodes",docs:["Maximum number of nodes in [MerkleDistributor]."],type:"u64"},{name:"totalAmountClaimed",docs:["Total amount of tokens that have been claimed."],type:"u64"},{name:"numNodesClaimed",docs:["Number of nodes that have been claimed."],type:"u64"},{name:"startTs",docs:["Lockup time start (Unix Timestamp)"],type:"i64"},{name:"endTs",docs:["Lockup time end (Unix Timestamp)"],type:"i64"},{name:"clawbackStartTs",docs:["Clawback start (Unix Timestamp)"],type:"i64"},{name:"clawbackReceiver",docs:["Clawback receiver"],type:"publicKey"},{name:"admin",docs:["Admin wallet"],type:"publicKey"},{name:"clawedBack",docs:["Whether or not the distributor has been clawed back"],type:"bool"},{name:"enableSlot",docs:["this merkle tree is enable from this slot"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this pool, for testing purpose"],type:"bool"},{name:"buffer0",docs:["Buffer 0"],type:{array:["u8",32]}},{name:"buffer1",docs:["Buffer 1"],type:{array:["u8",32]}},{name:"buffer2",docs:["Buffer 2"],type:{array:["u8",32]}}]}}],events:[{name:"NewClaimEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ClaimedEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"InsufficientUnlockedTokens",msg:"Insufficient unlocked tokens"},{code:6001,name:"StartTooFarInFuture",msg:"Deposit Start too far in future"},{code:6002,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:6003,name:"ExceededMaxClaim",msg:"Exceeded maximum claim amount"},{code:6004,name:"MaxNodesExceeded",msg:"Exceeded maximum node count"},{code:6005,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:6006,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:6007,name:"ClawbackDuringVesting",msg:"Clawback cannot be before vesting ends"},{code:6008,name:"ClawbackBeforeStart",msg:"Attempted clawback before start"},{code:6009,name:"ClawbackAlreadyClaimed",msg:"Clawback already claimed"},{code:6010,name:"InsufficientClawbackDelay",msg:"Clawback start must be at least one day after vesting end"},{code:6011,name:"SameClawbackReceiver",msg:"New and old Clawback receivers are identical"},{code:6012,name:"SameAdmin",msg:"New and old admin are identical"},{code:6013,name:"ClaimExpired",msg:"Claim window expired"},{code:6014,name:"ArithmeticError",msg:"Arithmetic Error (overflow/underflow)"},{code:6015,name:"StartTimestampAfterEnd",msg:"Start Timestamp cannot be after end Timestamp"},{code:6016,name:"TimestampsNotInFuture",msg:"Timestamps cannot be in the past"},{code:6017,name:"InvalidVersion",msg:"Airdrop Version Mismatch"},{code:6018,name:"ClaimingIsNotStarted",msg:"Claiming is not started"},{code:6019,name:"CannotCloseDistributor",msg:"Cannot close distributor"},{code:6020,name:"CannotCloseClaimStatus",msg:"Cannot close claim status"}]}},70305:function(e,t,n){n.d(t,{x:function(){return r}});var r={version:"0.0.1",name:"merkle_distributor",instructions:[{name:"newDistributor",docs:["READ THE FOLLOWING:","","This instruction is susceptible to frontrunning that could result in loss of funds if not handled properly.","","An attack could look like:","- A legitimate user opens a new distributor.","- Someone observes the call to this instruction.","- They replace the clawback_receiver, admin, or time parameters with their own.","","One situation that could happen here is the attacker replaces the admin and clawback_receiver with their own","and sets the clawback_start_ts with the minimal time allowed. After clawback_start_ts has elapsed,","the attacker can steal all funds from the distributor to their own clawback_receiver account.","","HOW TO AVOID:","- When you call into this instruction, ensure your transaction succeeds.","- To be extra safe, after your transaction succeeds, read back the state of the created MerkleDistributor account and","assert the parameters are what you expect, most importantly the clawback_receiver and admin.","- If your transaction fails, double check the value on-chain matches what you expect."],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],pda:{seeds:[{kind:"const",type:"string",value:"MerkleDistributor"},{kind:"account",type:"publicKey",path:"base"},{kind:"account",type:"publicKey",account:"Mint",path:"mint"},{kind:"arg",type:"u64",path:"version"}]}},{name:"base",isMut:!1,isSigner:!0,docs:["Base key of the distributor."]},{name:"clawbackReceiver",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint to distribute."]},{name:"tokenVault",isMut:!1,isSigner:!1,docs:["Token vault","Should create previously"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"associatedTokenProgram",isMut:!1,isSigner:!1,docs:["The [Associated Token] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[{name:"version",type:"u64"},{name:"root",type:{array:["u8",32]}},{name:"maxTotalClaim",type:"u64"},{name:"maxNumNodes",type:"u64"},{name:"startVestingTs",type:"i64"},{name:"endVestingTs",type:"i64"},{name:"clawbackStartTs",type:"i64"},{name:"enableSlot",type:"u64"},{name:"closable",type:"bool"}]},{name:"closeDistributor",docs:["only available in test phase"],accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin","token_vault"]},{name:"tokenVault",isMut:!0,isSigner:!1,docs:["Clawback receiver token account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin wallet, responsible for creating the distributor and paying for the transaction.","Also has the authority to set the clawback receiver and change itself."]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["account receive token back"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program."]}],args:[]},{name:"closeClaimStatus",docs:["only available in test phase"],accounts:[{name:"claimStatus",isMut:!0,isSigner:!1,relations:["claimant","admin"]},{name:"claimant",isMut:!0,isSigner:!1},{name:"admin",isMut:!1,isSigner:!0}],args:[]},{name:"setEnableSlot",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["[MerkleDistributor]."],relations:["admin"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Payer to create the distributor."]}],args:[{name:"enableSlot",type:"u64"}]},{name:"newClaim",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to."]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]}],args:[{name:"amountUnlocked",type:"u64"},{name:"amountLocked",type:"u64"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimLocked",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"claimStatus",isMut:!0,isSigner:!1,docs:["Claim Status PDA"],pda:{seeds:[{kind:"const",type:"string",value:"ClaimStatus"},{kind:"account",type:"publicKey",path:"claimant"},{kind:"account",type:"publicKey",account:"MerkleDistributor",path:"distributor"}]}},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["Account to send the claimed tokens to.","Claimant must sign the transaction and can only claim on behalf of themself"]},{name:"claimant",isMut:!0,isSigner:!0,docs:["Who is claiming the tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"clawback",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"from",isMut:!0,isSigner:!1,docs:["Distributor ATA containing the tokens to distribute."]},{name:"to",isMut:!0,isSigner:!1,docs:["The Clawback token account."]},{name:"claimant",isMut:!1,isSigner:!0,docs:["Claimant account","Anyone can claw back the funds"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The [System] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["SPL [Token] program."]}],args:[]},{name:"setClawbackReceiver",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"newClawbackAccount",isMut:!1,isSigner:!1,docs:["New clawback account"]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]}],args:[]},{name:"setAdmin",accounts:[{name:"distributor",isMut:!0,isSigner:!1,docs:["The [MerkleDistributor]."]},{name:"admin",isMut:!0,isSigner:!0,docs:["Admin signer"]},{name:"newAdmin",isMut:!0,isSigner:!1,docs:["New admin account"]}],args:[]}],accounts:[{name:"claimStatus",docs:["Holds whether or not a claimant has claimed tokens."],type:{kind:"struct",fields:[{name:"claimant",docs:["Authority that claimed the tokens."],type:"publicKey"},{name:"lockedAmount",docs:["Locked amount"],type:"u64"},{name:"lockedAmountWithdrawn",docs:["Locked amount withdrawn"],type:"u64"},{name:"unlockedAmount",docs:["Unlocked amount"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this account, for testing purpose"],type:"bool"},{name:"admin",docs:["admin of merkle tree, store for for testing purpose"],type:"publicKey"}]}},{name:"merkleDistributor",docs:["State for the account which distributes tokens."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"version",docs:["Version of the airdrop"],type:"u64"},{name:"root",docs:["The 256-bit merkle root."],type:{array:["u8",32]}},{name:"mint",docs:["[Mint] of the token to be distributed."],type:"publicKey"},{name:"base",docs:["base key of distributor."],type:"publicKey"},{name:"tokenVault",docs:["Token Address of the vault"],type:"publicKey"},{name:"maxTotalClaim",docs:["Maximum number of tokens that can ever be claimed from this [MerkleDistributor]."],type:"u64"},{name:"maxNumNodes",docs:["Maximum number of nodes in [MerkleDistributor]."],type:"u64"},{name:"totalAmountClaimed",docs:["Total amount of tokens that have been claimed."],type:"u64"},{name:"numNodesClaimed",docs:["Number of nodes that have been claimed."],type:"u64"},{name:"startTs",docs:["Lockup time start (Unix Timestamp)"],type:"i64"},{name:"endTs",docs:["Lockup time end (Unix Timestamp)"],type:"i64"},{name:"clawbackStartTs",docs:["Clawback start (Unix Timestamp)"],type:"i64"},{name:"clawbackReceiver",docs:["Clawback receiver"],type:"publicKey"},{name:"admin",docs:["Admin wallet"],type:"publicKey"},{name:"clawedBack",docs:["Whether or not the distributor has been clawed back"],type:"bool"},{name:"enableSlot",docs:["this merkle tree is enable from this slot"],type:"u64"},{name:"closable",docs:["indicate that whether admin can close this pool, for testing purpose"],type:"bool"},{name:"buffer0",docs:["Buffer 0"],type:{array:["u8",32]}},{name:"buffer1",docs:["Buffer 1"],type:{array:["u8",32]}},{name:"buffer2",docs:["Buffer 2"],type:{array:["u8",32]}}]}}],events:[{name:"NewClaimEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ClaimedEvent",fields:[{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"InsufficientUnlockedTokens",msg:"Insufficient unlocked tokens"},{code:6001,name:"StartTooFarInFuture",msg:"Deposit Start too far in future"},{code:6002,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:6003,name:"ExceededMaxClaim",msg:"Exceeded maximum claim amount"},{code:6004,name:"MaxNodesExceeded",msg:"Exceeded maximum node count"},{code:6005,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:6006,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:6007,name:"ClawbackDuringVesting",msg:"Clawback cannot be before vesting ends"},{code:6008,name:"ClawbackBeforeStart",msg:"Attempted clawback before start"},{code:6009,name:"ClawbackAlreadyClaimed",msg:"Clawback already claimed"},{code:6010,name:"InsufficientClawbackDelay",msg:"Clawback start must be at least one day after vesting end"},{code:6011,name:"SameClawbackReceiver",msg:"New and old Clawback receivers are identical"},{code:6012,name:"SameAdmin",msg:"New and old admin are identical"},{code:6013,name:"ClaimExpired",msg:"Claim window expired"},{code:6014,name:"ArithmeticError",msg:"Arithmetic Error (overflow/underflow)"},{code:6015,name:"StartTimestampAfterEnd",msg:"Start Timestamp cannot be after end Timestamp"},{code:6016,name:"TimestampsNotInFuture",msg:"Timestamps cannot be in the past"},{code:6017,name:"InvalidVersion",msg:"Airdrop Version Mismatch"},{code:6018,name:"ClaimingIsNotStarted",msg:"Claiming is not started"},{code:6019,name:"CannotCloseDistributor",msg:"Cannot close distributor"},{code:6020,name:"CannotCloseClaimStatus",msg:"Cannot close claim status"}]}},14441:function(e,t,n){n.d(t,{RJ:function(){return f},Rg:function(){return x},b8:function(){return c},W2:function(){return i}});n(8857);var r=n(94728),a=n(795).Buffer;function i(e,t,n){return r.PublicKey.findProgramAddressSync([a.from("ClaimStatus"),e.toBytes(),t.toBytes()],n)}var s=n(57565),o=n(99463),l=n(70305);function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?new s.$r(l.x,x,e):new s.$r(o.x,f,e)}var u,d,m,f=new r.PublicKey("meRjbQXFNf5En86FXT2YPz1dQzLj4Yb3xK8u1MVgqpb"),x=new r.PublicKey("DiSLRwcSFvtwvMWSs7ubBMvYRaYNYupa76ZSuYLe6D7j");new r.PublicKey("JAA2bkW7RH3RL9Akr2yE7oHjZDuYGaWddbUzMyLdnq8i"),new r.PublicKey("8xXEbh9GkMKrF7uL1gvhmvrpbcdu1z4d44jXS1BZepLM");!function(e){e[e.Pending=0]="Pending",e[e.Against=1]="Against",e[e.For=2]="For",e[e.Abstain=3]="Abstain"}(u||(u={})),function(e){e.Draft="Draft",e.Active="Active",e.Canceled="Canceled",e.Defeated="Defeated",e.Succeeded="Succeeded",e.Queued="Queued",e.Completed="Completed"}(d||(d={})),function(e){e.InitialPhase="InitialPhase",e.TokenLaunchPhase="TokenLaunchPhase"}(m||(m={}))}}]);
//# sourceMappingURL=5644-42c39dce601ab580.js.map
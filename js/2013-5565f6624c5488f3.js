"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2013],{41264:function(e,t,n){n.d(t,{Z:function(){return d},i:function(){return u}});var r=n(97620),s=n(88932),o=n(93981),i=n(48645),a=n(13170),l=n(29541),c=function(e){var t=e.percentage,n=e.strokeWidth,r=void 0===n?2:n,s=e.sqSize,o=void 0===s?14:s,i=(o-r)/2,a="0 0 ".concat(o," ").concat(o),c=i*Math.PI*2,u=c-c*t/100;return(0,l.jsxs)("svg",{width:o,height:o,viewBox:a,children:[(0,l.jsx)("circle",{className:"fill-transparent stroke-black-10 dark:stroke-white-75",cx:o/2,cy:o/2,r:i,strokeWidth:"".concat(r,"px")}),(0,l.jsx)("circle",{className:"fill-transparent stroke-black",strokeLinecap:"round",strokeLinejoin:"round",cx:o/2,cy:o/2,r:i,strokeWidth:"".concat(r+.4,"px"),transform:"rotate(-90 ".concat(o/2," ").concat(o/2,")"),style:{strokeDasharray:c,strokeDashoffset:u}})]})},u=function(e){var t=e.isSubmitting,n=e.lastRefreshTimestamp,l=e.value,c=e.refresh,u=o.useState((0,s.Z)((new Date).getTime(),n)),d=(0,r.Z)(u,2),p=d[0],m=d[1];return(0,i.Z)((function(){if(!t){var e=(0,s.Z)((new Date).getTime(),n);m(e),e>=a.GJ&&(l||0)>0&&c()}}),1e3),{timeDiff:p}},d=function(e){var t=e.lastRefreshTimestamp,n=e.isSubmitting,r=e.value,s=e.refresh,i=u({isSubmitting:n,lastRefreshTimestamp:t,value:r,refresh:s}).timeDiff,d=o.useCallback((function(e){e.stopPropagation(),s()}),[s]);return(0,l.jsx)("div",{className:"cursor-pointer",onClick:d,children:(0,l.jsx)(c,{sqSize:10,percentage:i/a.GJ*100})})}},56794:function(e,t,n){n.d(t,{ZP:function(){return j},Kc:function(){return b},BE:function(){return g}});var r=n(73360),s=n(93981),o=n(71048),i=n(70602),a=n(29541),l=function(e){var t=e.className;return(0,a.jsx)("svg",{className:t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M4.10201 1.28172L8.80544 5.75191C8.94178 5.88275 8.94178 6.1008 8.80544 6.23164L4.10201 10.7018C3.96568 10.8327 3.73846 10.8327 3.60213 10.7018L3.10225 10.2221C2.96592 10.0913 2.96592 9.87321 3.10225 9.74237L6.80592 6.23164C6.94225 6.1008 6.94225 5.88275 6.80592 5.75191L3.12497 2.24118C2.98864 2.11034 2.98864 1.89229 3.12497 1.76145L3.62485 1.28172C3.76118 1.17269 3.96568 1.17269 4.10201 1.28172Z",fill:"currentColor"})})},c=n(89388),u=n(56100),d=n(39268),p=n.n(d),m=n(64138),x=p()((function(){return Promise.all([n.e(1197),n.e(1236),n.e(5165),n.e(8264)]).then(n.bind(n,95165))}),{loading:function(){return(0,a.jsx)(m.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[95165]}}}),f=p()((function(){return n.e(6170).then(n.bind(n,26170))}),{loading:function(){return(0,a.jsx)(m.Z,{width:600,height:380})},loadableGenerated:{webpack:function(){return[26170]}}}),h=function(e){var t=e.control,n=(0,o.qo)({control:t,name:"selectedRoute"}),r="Graphviz"===s.useMemo((function(){var e;return null===(e=localStorage)||void 0===e?void 0:e.getItem("preferred-graph")}),[])?f:x;return(0,a.jsx)(r,{quoteResponse:null===n||void 0===n?void 0:n.quoteResponse})},v=n(70006),g={"Orca V1":"Orca","Orca V2":"Orca","Lifinity V2":"Lifinity","Lifinity V1":"Lifinity",Whirlpool:"Orca","Raydium CLMM":"Raydium",Mercurial:"Meteora"},b=function(e){var t=0,n=0,r=new Set,s=new Set,o=new Set;return e.forEach((function(e){var i=e.swapInfo,a=i.inputMint,l=i.outputMint,c=i.label;s.has(a)?t+=1:s.add(a),o.has(a+l)||(n+=1,o.add(a+l)),r.add(g[c]||c)})),{splits:t,hops:n,labels:r}},j=function(e){var t=e.loading,n=e.control,d=(0,v.JT)().openModal,p=(0,o.qo)({control:n,name:"selectedRoute"}),m=s.useMemo((function(){return p?b(p.quoteResponse.routePlan):null}),[p]);if(!p||!m)return null;var x=m.splits,f=m.hops,g=m.labels;return(0,a.jsxs)("button",{type:"button",className:"flex space-x-1 items-center group w-full relative",onClick:function(){d((0,a.jsx)(h,{control:n}),{noCloseButton:!1,containerStyle:{background:"none"}})},children:[t?(0,a.jsx)(u.O,{className:"w-full h-[22px] absolute top-0 left-0"}):null,(0,a.jsx)("div",{className:(0,c.cn)("rounded-full border border-v2-primary","group-hover:from-[#00D1DF] group-hover:to-[#00D1DF]","dark:group-hover:from-v2-primary/25 dark:group-hover:to-v2-primary/25"),children:(0,a.jsx)("span",{className:(0,c.cn)("rounded-[100px] flex space-x-1 items-center text-xxs bg-[rgba(199,242,132,0.1)]","group-hover:bg-[#e5fafc]","dark:group-hover:bg-[#3a474f] group-hover:bg-none"),children:(0,a.jsxs)("span",{className:(0,c.cn)("flex items-center px-2 py-0.5 text-[rgba(199,242,132,1)] font-semibold whitespace-nowrap","group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary"),children:[(0,a.jsx)(i.Z,{className:"mb-[1px] text-[rgba(199,242,132,1)] group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary"}),x>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.cC,{id:"{splits, plural, one {# Split} other {# Splits}}",values:{splits:x}})," +"," "]}),(0,a.jsx)(r.cC,{id:"{hops, plural, one {# Hop} other {# Hops}}",values:{hops:f}})]})})}),(0,a.jsxs)("div",{className:"space-x-2 items-center justify-between w-full flex",children:[(0,a.jsx)("span",{className:"text-black-50 dark:text-white-50 text-xs group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary text-left max-w-[120px] md:max-w-[200px] truncate",children:(0,a.jsx)(r.cC,{id:"via {0}",values:{0:Array.from(g).join(", ")}})}),(0,a.jsx)(l,{className:"ml-auto text-black-35 dark:text-white-35 group-hover:text-v2-primary/50 dark:group-hover:text-v2-primary"})]})]})}},72013:function(e,t,n){n.d(t,{Z:function(){return Ft}});var r=n(27195),s=n(63956),o=n(70107),i=n(97620),a=n(8857),l=n.n(a),c=n(73360),u=n(7761),d=n(93981),p=n(99438),m=n(71048),x=n(5100),f=n(74518),h=n(10361),v=n(20255),g=n(69667),b=n(42082),j=n(89388),w=n(3958),k=n(76613),y=n(70006),N=n(1242),C=n(29541),S=function(e){var t=e.control,n=e.name,r=e.modalId,s=e.getValues,o=e.variant,a=void 0===o?"plain":o,l=e.disableTokenSelect,c=(0,x.Bn)(),u=c.getTokenInfo,p=c.tokenMap,S=(0,v.B)(),T=S.add,A=S.get,M=(0,y.JT)(),P=M.openModal,I=M.closeModal,O=(M.visible,M.modalContextId,M.openContextualModal),Z=M.setContextValue,R=M.ModalContextConsumer,D=(0,b.T)(),E=(0,m.bc)({control:t,name:n}).field,V=(0,m.qo)({control:t,name:["fromTokenAddress","toTokenAddress"]}),L=(0,i.Z)(V,2),F=L[0],q=L[1],_=(0,d.useMemo)((function(){return"fromTokenAddress"===n?F:q}),[F,q,n]),B=(0,d.useMemo)((function(){return u(_)}),[u,_]),W=(0,d.useMemo)((function(){return Array.from(p.values()).map((function(e){return e.address}))}),[p]),K=(0,d.useCallback)((function(e){R&&(Z(r,W),O(r,W,(0,C.jsx)(R,{children:function(t){return(0,C.jsx)(w.ZP,{onSubmit:function(t){e.current(t)},mintsList:t,bestTokens:N.KG})}}),{position:"top",noCloseButton:!0}))}),[R,W,r,O,Z]),G=(0,d.useCallback)((function(e){if(e){var t,r,o,i,a=(0,k.tr)(e)||(0,k.kL)(e),l=A(e.address),c=s(),d=c.toTokenAddress,p=c.fromTokenAddress;if("fromTokenAddress"===n)d===e.address?(t=e,r=u(p)):(t=e,r=u(d));else p===e.address?(t=u(d),r=e):(t=u(p),r=e);if(a&&!l)setTimeout((function(){P((0,C.jsx)(h.Z,{tokensInfo:[e],onClickReject:function(){return K(H)},onClickAccept:function(){var s,o;E.onChange("fromTokenAddress"===n?null===(s=t)||void 0===s?void 0:s.address:null===(o=r)||void 0===o?void 0:o.address),T(e.address),D(t,r),I()}}),{canDismiss:!1,containerStyle:{background:"none"}})}),0);else E.onChange("fromTokenAddress"===n?null===(o=t)||void 0===o?void 0:o.address:null===(i=r)||void 0===i?void 0:i.address),D(t,r),I()}}),[T,I,E,u,s,A,n,P,D,K]),H=(0,d.useRef)(G);return H.current=G,(0,d.useEffect)((function(){Z(r,W)}),[r,Z,W]),(0,C.jsx)("div",{className:"flex justify-between items-center group/select",children:(0,C.jsxs)("button",{type:"button",disabled:l,className:(0,j.cn)("py-2 px-3 h-10 rounded-xl flex space-x-3 items-center",l?"":"bg-white dark:bg-v2-background border dark:group-hover/select:border-v2-primary/50 dark:group-hover/select:bg-[rgba(199,242,132,0.2)] dark:group-hover/select:shadow-swap-input-dark",{"border-transparent":"plain"===a,"border-[#EFF0F0] dark:border-transparent":"border"===a}),onClick:function(){return K(H)},children:[(0,C.jsx)("div",{className:"w-6 h-6 text-xs flex items-center justify-center rounded-full",children:(null===B||void 0===B?void 0:B.logoURI)&&(0,C.jsx)(f.Z,{width:24,height:24,info:B})}),(0,C.jsx)("div",{className:"font-semibold text-sm",translate:"no",children:null===B||void 0===B?void 0:B.symbol}),!l&&(0,C.jsx)("div",{className:"text-black/25 dark:text-white/25 group-hover/select:text-[#00D1DF] dark:group-hover/select:text-v2-primary fill-current",children:(0,C.jsx)(g.Z,{})})]})})},T=n(63277),A=n(56100),M=n(82625),P=n(69825),I=function(e){var t=e.loading,n=e.name,r=e.control,s=e.disabled,o=e.onFocus,i=e.onKeyDown,a=e.placeholder,l=e.onChange,c=(0,x.Bn)().tokenMap,u=d.useRef(null),p=(0,m.qo)({control:r,name:"fromValue"===n?"fromTokenAddress":"toTokenAddress"}),f=d.useMemo((function(){return c.get(p)}),[c,p]);return(0,C.jsx)(m.Qr,{name:n,control:r,rules:{required:"Required"},render:function(e){var r=e.field,c=r.onChange,d=r.value,m=r.onBlur;return(0,C.jsxs)("div",{className:"flex flex-col text-right h-full",children:[t?(0,C.jsx)(A.O,{className:"ml-2 w-24 h-6 self-end"}):(0,C.jsx)(P.Z,{name:n,className:"outline-none",decimals:null===f||void 0===f?void 0:f.decimals,onChange:l?function(e){c(e),l(e)}:c,value:null===d||void 0===d?void 0:d.value,disabled:s,ref:u,onBlur:m,onFocus:o,onKeyDown:i,placeholder:a}),t?(0,C.jsx)(A.O,{className:"ml-2 mt-0.5 w-8 h-4 self-end"}):null!==d&&void 0!==d&&d.value?(0,C.jsx)("div",{className:(0,j.cn)("text-xs text-black-35 dark:text-white-35"),onClick:function(){var e;return null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.focus()},children:(0,C.jsx)(M.Z,{tokenAddress:p,value:d})}):null]})}})},O=n(94223),Z=n(1622),R=function(e){var t=e.control,n=e.name,r=e.className,s=e.useWSol,o=(0,x.Bn)().tokenMap,i=(0,x.Os)().connected,a=(0,m.qo)({control:t,name:n}),l=d.useMemo((function(){return o.get(a)}),[o,a]);return i?(0,C.jsxs)("div",{className:"flex space-x-1 items-center text-black-50 dark:text-[#CFF3FF] dark:text-opacity-[0.35]",children:[(0,C.jsx)("div",{className:"mb-px",children:(0,C.jsx)(O.Z,{width:11,height:11})}),(0,C.jsxs)("div",{className:(0,j.cn)("text-xs font-normal whitespace-nowrap",r),children:[(0,C.jsx)(Z.Z,{mintAddress:a,useWSOL:s})," ",(0,C.jsx)("span",{children:null===l||void 0===l?void 0:l.symbol})]})]}):null},D=n(31781),E=n(59644),V=n(56794),L=n(9319),F=n.n(L),q=n(13838),_=n(94728),B=n(88825),W=n(25546),K=n(79877),G=n(3011),H=n(13170),U=n(61571),z={quotedSlippage:(0,n(9364).cn)(void 0)},J=n(87821),Y=n(6691),X=n(12866),Q=n(71130),$=n(11003),ee=n(16941),te=n(50269),ne=n(40558),re=n(44710),se=function(e){var t=e.value,n=e.onClick;return(0,C.jsxs)("div",{className:"px-5 py-2 flex justify-between items-center",children:[(0,C.jsxs)("div",{className:"flex items-center cursor-pointer text-black-75 dark:text-white-75 text-xs mr-4",children:[(0,C.jsx)(c.cC,{id:"Versioned Transaction"}),(0,C.jsx)(ne.Z,{variant:"dark",content:(0,C.jsx)("span",{className:"flex rounded-lg text-xs text-white-75",children:(0,C.jsx)(c.cC,{id:"Versioned Tx is a significant upgrade that allows for more advanced routings and better prices! Make sure your connected wallet is compatible before toggling on Ver. Tx."})}),children:(0,C.jsx)("div",{className:"flex items-center ml-1 text-white/30 fill-current",children:(0,C.jsx)(te.Z,{height:16,width:16})})})]}),(0,C.jsx)("div",{className:"flex justify-center",children:(0,C.jsx)(re.default,{active:t,onClick:n})})]})},oe=function(e){var t=e.value,n=e.onClick;return(0,C.jsxs)("div",{className:"px-5 py-3 flex justify-between items-center",children:[(0,C.jsxs)("div",{className:"flex items-center cursor-pointer text-black-75 dark:text-white-75 text-xs mr-4",children:[(0,C.jsx)(c.cC,{id:"Direct Route Only"}),(0,C.jsx)(ne.Z,{variant:"dark",content:(0,C.jsx)("span",{className:"flex max-w-[10rem] rounded-lg text-xs text-white-75",children:(0,C.jsx)(c.cC,{id:"It ensure only direct routing and also disable split trade trading"})}),children:(0,C.jsx)("div",{className:"flex items-center ml-1 text-white/30 fill-current",children:(0,C.jsx)(te.Z,{height:16,width:16})})})]}),(0,C.jsx)("div",{className:"flex justify-center",children:(0,C.jsx)(re.default,{active:t,onClick:n})})]})},ie=function(e){var t=e.value,n=e.onClick;return(0,C.jsxs)("div",{className:"px-5 py-2 flex justify-between items-center",children:[(0,C.jsxs)("div",{className:"flex items-center cursor-pointer text-black-75 dark:text-white-75 text-xs mr-4",children:[(0,C.jsx)(c.cC,{id:"Use wSOL"}),(0,C.jsx)(ne.Z,{variant:"dark",offset:[16,2.5],content:(0,C.jsx)("span",{className:"flex max-w-[10rem] rounded-lg text-xs text-white-75 ",children:(0,C.jsx)(c.cC,{id:"SOL swaps will transact in wSOL instead of SOL."})}),children:(0,C.jsx)("div",{className:"flex items-center ml-1 text-white/30 fill-current",children:(0,C.jsx)(te.Z,{height:16,width:16})})})]}),(0,C.jsx)("div",{className:"flex justify-center",children:(0,C.jsx)(re.default,{active:t,onClick:n})})]})},ae=function(e){var t=e.newSlippage,n=e.onClickAccept,r=e.onClickReject;return(0,C.jsx)("div",{className:"max-w-[480px]",children:(0,C.jsxs)("div",{className:"p-6 pb-5 bg-jupiter-red",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("h2",{className:"text-lg font-bold text-white",children:(0,C.jsx)(c.cC,{id:"Warning: High slippage!"})}),(0,C.jsx)("button",{className:"text-white/50",onClick:r,children:(0,C.jsx)(X.Z,{width:12,height:12})})]}),(0,C.jsxs)("div",{className:"text-white/75 mt-4 text-sm space-x-1",children:[(0,C.jsx)("span",{children:(0,C.jsx)(c.cC,{id:"Your transaction may be frontrun and result in an unfavourable trade."})}),(0,C.jsx)("span",{children:(0,C.jsx)(c.cC,{id:"The recommended slippage is between {MINIMUM_SUGGESTED_SLIPPAGE}% to {MAXIMUM_SUGGESTED_SLIPPAGE}%",values:{MINIMUM_SUGGESTED_SLIPPAGE:ue,MAXIMUM_SUGGESTED_SLIPPAGE:de}})})]}),(0,C.jsx)("p",{className:"text-white/75 mt-6 text-sm",children:(0,C.jsx)(c.cC,{id:"Are you sure you want to set it to {newSlippage}%?",values:{newSlippage:t}})}),(0,C.jsx)("button",{type:"button",className:"mt-6 font-semibold w-full rounded-lg flex justify-center items-center p-4 border  dark:border-white/50 text-base bg-transparent hover:bg-black/40",onClick:n,children:(0,C.jsx)(c.cC,{id:"I know what I\u2019m doing. Let\u2019s go!"})}),(0,C.jsx)("button",{type:"button",className:"mt-3 font-semibold text-white w-full rounded-lg flex justify-center items-center p-4 bg-black/80 hover:bg-black text-base",onClick:r,children:(0,C.jsx)(c.cC,{id:"Cancel"})})]})})};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=.5,de=5,pe=function(e){var t=e.slippageInput,n=(0,d.useMemo)((function(){return Number(t)<=ue}),[t]),r=(0,d.useMemo)((function(){return Number(t)>de}),[t]),s=(0,d.useMemo)((function(){return Number(t)>5}),[t]),o=(0,d.useMemo)((function(){return n?(0,C.jsx)(c.cC,{id:"Your transaction may fail"}):r?(0,C.jsx)(c.cC,{id:"Your transaction may be frontrun and result in an unfavourable trade."}):""}),[r,n]);return{isTooLow:n,isTooHigh:r,shouldShowWarning:s,slippageSuggestionText:o}},me=function e(t){var n=t.filterDisplay,s=t.sessionSlippage,o=(0,x.MG)().constants.DEFAULT_SLIPPAGE,i=(0,y.JT)(),a=i.openModal,f=i.closeModal,h=(0,x.mQ)(),v=h.slippage,g=h.setSlippage,b=h.autoSlippageEnabled,w=h.setAutoSlippageEnabled,k=(0,Y.Fg)().mode,N=(0,x.jB)(),S=N.onlyDirectRoutes,T=N.setOnlyDirectRoutes,A=N.setUseWSol,M=N.useWSol,P=N.asLegacyTransaction,I=N.setAsLegacyTransaction,O=null!==s&&void 0!==s?s:v,Z=(0,d.useMemo)((function(){return["0.3",String(o),"1"]}),[o]),R=(0,d.useMemo)((function(){return b?"Auto":Z.find((function(e){return e===String(O)}))}),[b,Z,O]),D=(0,m.cI)({defaultValues:ce(ce({},"undefined"!==typeof O?R?{slippagePreset:String(R)}:{slippageInput:String(O)}:{}),{},{onlyDirectRoutes:S,useWSol:M,asLegacyTransaction:P})}),E=(0,B.lm)().toast,V=(0,d.useState)(!R),L=V[0],F=V[1],q=D.watch("slippageInput"),_=D.watch("slippagePreset"),K=(0,d.useMemo)((function(){return Number(q)>=0&&Number(q)<=50}),[q]),G=pe({slippageInput:q||_}),H=G.slippageSuggestionText,U=G.shouldShowWarning,z=(0,d.useRef)(),te=L?Number(q)<0||Number.isNaN(Number(q))||""===q:!_&&!K,ne=D.watch("onlyDirectRoutes"),re=D.watch("useWSol"),le=D.watch("asLegacyTransaction"),ue=(0,d.useCallback)(function(){var t=(0,r.Z)(l().mark((function t(r){var s,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!te){t.next=2;break}return t.abrupt("return");case 2:if("slippageOnly"!==n){t.next=20;break}if(s=Number(r.slippageInput||r.slippagePreset),"Auto"!==r.slippagePreset){t.next=10;break}return w(!0),f(),t.abrupt("return");case 10:w(!1);case 11:if(!U){t.next=19;break}return t.next=14,new Promise((function(t){setTimeout((function(){a((0,C.jsx)(ae,{newSlippage:s,onClickAccept:function(){g(s),f(),t(!0)},onClickReject:function(){setTimeout((function(){a((0,C.jsx)(e,{filterDisplay:"slippageOnly"}))}),0),t(!1)}}),{canDismiss:!1,containerStyle:{background:"none"}})}),0)}));case 14:if(t.sent){t.next=17;break}return t.abrupt("return");case 17:t.next=20;break;case 19:g(s);case 20:T(r.onlyDirectRoutes),A(r.useWSol),I(r.asLegacyTransaction),o=function(){switch(n){case"generalOnly":return u.ag._("Swap settings updated.");case"slippageOnly":return u.ag._("Slippage updated.")}}(),E({render:function(e){return(0,C.jsx)($.ZJ,ce(ce({},e),{},{variant:$.Lb.SUCCESS,title:u.ag._("Settings saved"),description:o}))}}),f();case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[f,n,te,a,I,w,T,g,A,U,E]);return(0,C.jsx)("div",{className:(0,j.cn)("max-w-md w-screen bg-white dark:bg-[#1B2229] dark:text-white"),children:(0,C.jsxs)("form",{onSubmit:D.handleSubmit(ue),className:(0,j.cn)("w-full"),children:[(0,C.jsxs)("div",{className:"flex justify-between items-center p-5 pt-7 ",children:[(0,C.jsxs)("div",{className:"text-2xl font-semibold flex",children:["slippageOnly"===n?(0,C.jsx)(c.cC,{id:"Slippage Settings"}):null,"generalOnly"===n?(0,C.jsx)(c.cC,{id:"General Settings"}):null]}),(0,C.jsx)("div",{className:"text-black dark:text-white fill-current cursor-pointer",onClick:function(){return f()},children:(0,C.jsx)(X.Z,{width:16,height:16})})]}),(0,C.jsxs)("div",{className:(0,j.cn)("max-h-[70vh] overflow-y-auto","webkit-scrollbar ".concat(k===Y.hY.DARK?"webkit-scrollbar-dark":"")),children:["slippageOnly"===n?(0,C.jsxs)("div",{className:(0,j.cn)("mt-4 px-5"),children:[(0,C.jsxs)("div",{className:"flex items-center mt-2.5 rounded-xl ring-1 ring-black/10 dark:ring-white/5 overflow-hidden text-sm h-[52px]",children:[(0,C.jsx)(m.Qr,{name:"slippagePreset",control:D.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ee.Z,{idx:0,itemsCount:Z.length,className:"h-full",roundBorder:"left",highlighted:"Auto"===r,onClick:function(){F(!1),D.setValue("slippageInput",void 0),setTimeout((function(){n("Auto")}),0)},children:(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsx)("div",{children:u.ag._("Auto")}),(0,C.jsx)("div",{className:"text-xxs text-v2-primary",children:"Beta"})]})}),Z.map((function(e,t){var s=function(){var t=Number(e);return Number.isNaN(t)?e:W.uf.format(Number(e))+"%"}(),o=t+1;return(0,C.jsx)(ee.Z,{idx:o,itemsCount:Z.length,className:"h-full",roundBorder:0===o?"left":void 0,highlighted:!L&&r===e,onClick:function(){F(!1),D.setValue("slippageInput",void 0),setTimeout((function(){n(e)}),0)},children:s},o)}))]})}}),(0,C.jsxs)("div",{onClick:function(){var e;null===(e=z.current)||void 0===e||e.focus(),F(!0)},className:"flex items-center justify-between cursor-text w-[130px] h-full text-black-50 dark:text-white-50 dark:bg-[#1B1B1E] px-2 text-sm relative border-l border-black-10 dark:border-white/5 ".concat(L?"v2-border-gradient v2-border-gradient-right bg-v2-dark-gradient bg-transparent ":""),children:[(0,C.jsx)("span",{className:"text-xs lg:text-sm",children:(0,C.jsx)(c.cC,{id:"Custom"})}),(0,C.jsx)(m.Qr,{name:"slippageInput",control:D.control,render:function(e){var t=e.field,n=t.onChange,r=t.value;return(0,C.jsx)(J.Z,{inputMode:"decimal",value:"undefined"===typeof r?"":r,decimalScale:2,isAllowed:function(e){return(e.floatValue||0)<=100&&(e.floatValue||0)>=0},allowedDecimalSeparators:[".",","],getInputRef:function(e){return z.current=e},allowNegative:!1,onValueChange:function(e){var t=e.value;n(t),"undefined"!==typeof t&&D.setValue("slippagePreset",void 0)},allowLeadingZeros:!1,isNumericString:!0,suffix:"%",className:"outline-none h-full w-full bg-transparent py-4 px-2 text-sm rounded-lg placeholder:text-black/25 dark:placeholder:text-white/25 dark:text-white-50 text-black-50 text-right pointer-events-all",decimalSeparator:W.A5,placeholder:","===W.A5?"0,00%":"0.00%"})}})]})]}),L&&!K&&(0,C.jsx)(Q.Z,{iconSize:14,className:"!text-jupiter-primary !px-0 !mt-2",message:u.ag._("Please set a slippage value that is within {MINIMUM_SLIPPAGE}% to {MAXIMUM_SLIPPAGE}%",{MINIMUM_SLIPPAGE:0,MAXIMUM_SLIPPAGE:50})}),H&&(0,C.jsx)(Q.Z,{iconSize:14,className:"!text-jupiter-primary !px-0 !mt-2",message:H})]}):null,"generalOnly"===n?(0,C.jsxs)("div",{className:(0,j.cn)("mt-4"),children:[(0,C.jsx)(oe,{value:ne,onClick:function(){return D.setValue("onlyDirectRoutes",!ne)}}),(0,C.jsx)(ie,{value:re,onClick:function(){return D.setValue("useWSol",!re)}}),(0,C.jsx)(se,{value:!le,onClick:function(){return D.setValue("asLegacyTransaction",!le)}})]}):null,(0,C.jsx)("div",{className:"px-5 pb-5",children:(0,C.jsx)(p.Z,{type:"submit",className:"w-full mt-4 border border-[#C7F284]/20",disabled:te,size:"md",children:(0,C.jsx)(c.cC,{id:"Save Settings"})})})]})]})})},xe=function(e){return(0,C.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("g",{clipPath:"url(#clip0_9115_125076)",children:(0,C.jsx)("path",{d:"M11.6464 4.23513V0.706082L10.4109 1.94156C9.31705 0.741165 7.72888 0 5.99976 0C2.68246 0 -0.000244141 2.6827 -0.000244141 6C-0.000244141 9.3173 2.68178 12 5.99976 12C7.69381 12 9.21117 11.2939 10.3057 10.165L9.31773 9.14128C8.50577 10.0234 7.30536 10.5879 5.99976 10.5879C3.45867 10.5879 1.41192 8.5411 1.41192 6.00002C1.41192 3.45894 3.45867 1.41218 5.99976 1.41218C7.34111 1.41218 8.5759 2.01238 9.42293 2.92954L8.11732 4.23515L11.6464 4.23513Z",fill:"currentColor"})}),(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip0_9115_125076",children:(0,C.jsx)("rect",{width:"12",height:"12",fill:"white"})})})]})},fe=function(e){return(0,C.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsxs)("g",{clipPath:"url(#clip0_10794_148239)",children:[(0,C.jsx)("path",{d:"M10.7997 7.8H10.7156C10.4516 6.768 9.51561 6 8.39961 6C7.28361 6 6.34757 6.768 6.08361 7.8H1.19961C0.863609 7.8 0.599609 8.064 0.599609 8.4C0.599609 8.736 0.863609 9 1.19961 9H6.08361C6.34761 10.032 7.28361 10.8 8.39961 10.8C9.51561 10.8 10.4517 10.032 10.7156 9H10.7997C11.1357 9 11.3997 8.736 11.3997 8.4C11.3997 8.064 11.1357 7.8 10.7997 7.8ZM8.39965 9.6C7.73963 9.6 7.19965 9.06002 7.19965 8.4C7.19965 7.73998 7.73963 7.2 8.39965 7.2C9.05967 7.2 9.59965 7.73998 9.59965 8.4C9.59965 9.06002 9.05967 9.6 8.39965 9.6Z",fill:"currentColor"}),(0,C.jsx)("path",{d:"M1.19961 4.19995H1.28365C1.54765 5.23195 2.48365 5.99995 3.59965 5.99995C4.71565 5.99995 5.65169 5.23195 5.91565 4.19995H10.7997C11.1357 4.19995 11.3997 3.93595 11.3997 3.59995C11.3997 3.26395 11.1357 2.99995 10.7997 2.99995H5.91565C5.65165 1.96795 4.71565 1.19995 3.59965 1.19995C2.48365 1.19995 1.54761 1.96795 1.28365 2.99995H1.19961C0.863609 2.99995 0.599609 3.26395 0.599609 3.59995C0.599609 3.93595 0.863609 4.19995 1.19961 4.19995ZM3.59961 2.39995C4.25963 2.39995 4.79961 2.93993 4.79961 3.59995C4.79961 4.25997 4.25963 4.79995 3.59961 4.79995C2.93959 4.79995 2.39961 4.25997 2.39961 3.59995C2.39961 2.93993 2.93959 2.39995 3.59961 2.39995Z",fill:"currentColor"})]}),(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip0_10794_148239",children:(0,C.jsx)("rect",{width:"12",height:"12",fill:"currentColor"})})})]})},he=n(24684),ve=n(54423),ge=["children","variant"];function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=e.children,n=e.variant,r=(0,ve.Z)(e,ge);return(0,C.jsx)("button",je(je({},r),{},{className:(0,j.cn)("h-fit cursor-pointer border","circle"===n?"rounded-full p-[calc(0.5rem-1px)]":"px-[calc(0.75rem-1px)] py-[calc(0.5rem-1px)] rounded-full","text-v2-lily/80 bg-v2-background border-transparent hover:border fill-white-25 hover:border-v2-primary/50 hover:text-v2-primary focus:outline-1",r.className),children:t}))},ke=function(e){var t=e.refresh,n=e.loading,r=e.sessionSlippage,s=e.onlySlippageSettings,o=(0,y.JT)().openModal,a=(0,x.mQ)(),l=a.slippage,c=a.autoSlippageEnabled,p=null!==r&&void 0!==r?r:l,m=(0,d.useCallback)((function(){o((0,C.jsx)(me,{sessionSlippage:r,filterDisplay:"slippageOnly"}),{canDismiss:!1})}),[o,r]),f=(0,d.useCallback)((function(){o((0,C.jsx)(me,{sessionSlippage:r,filterDisplay:"generalOnly"}),{canDismiss:!1})}),[o,r]),h=(0,he.on)(),v=h.inputTokenInfo,g=h.outputTokenInfo,b=(0,x.C9)(),w=pe({slippageInput:p}).isTooHigh,N=(0,G.KO)(z.quotedSlippage),S=(0,i.Z)(N,1)[0],T=(0,d.useMemo)((function(){if(c){var e=S?S/100:null;return(0,C.jsxs)("div",{suppressHydrationWarning:!0,className:"flex gap-x-1 items-center relative",children:[(0,C.jsx)("span",{children:e?u.ag._("Auto: {value}%",{value:e}):u.ag._("Auto")}),(0,C.jsx)("div",{className:"p-0.5 px-1.5 bg-v2-primary text-[#434B10] rounded-xl font-semibold text-xxs",children:"Beta"})]})}return(0,k.Hd)(p)?(0,C.jsx)("span",{suppressHydrationWarning:!0,children:W.uf.format(Number(p))+"%"}):(0,C.jsx)("span",{suppressHydrationWarning:!0,children:"0%"})}),[S,c,p]);return(0,C.jsxs)("div",{className:"flex flex-row w-full",children:[(0,C.jsx)(ne.Z,{persistOnClick:!1,content:u.ag._("Refresh"),variant:"dark",children:(0,C.jsx)(we,{variant:"circle",onClick:function(){t();var e=[null===v||void 0===v?void 0:v.address,null===g||void 0===g?void 0:g.address,H.W4].filter(Boolean);b(e)},disabled:n,children:(0,C.jsx)(xe,{})})}),(0,C.jsxs)("div",{className:"ml-auto flex flex-row space-x-1",children:[(0,C.jsx)(ne.Z,{persistOnClick:!1,content:u.ag._("Slippage Settings"),variant:"dark",children:(0,C.jsxs)(we,{className:(0,j.cn)("flex items-center space-x-0.5 text-xs leading-none",w?"bg-warning/80 !text-white":"",c?"py-0.5 pl-2 pr-1":""),variant:"pill",onClick:m,children:[(0,C.jsx)("span",{suppressHydrationWarning:!0,children:w?u.ag._("Slippage:"):(0,C.jsx)(fe,{})}),(0,C.jsx)("span",{suppressHydrationWarning:!0,children:T})]})}),!s&&(0,C.jsx)(ne.Z,{persistOnClick:!1,content:u.ag._("Swap settings"),variant:"dark",children:(0,C.jsx)(we,{className:"flex items-center space-x-2",variant:"circle",onClick:f,children:(0,C.jsx)("span",{className:"inline-block",children:(0,C.jsx)(U.Z,{width:12,height:12})})})})]})]})},ye=n(3561),Ne=function(e){var t=e.disabled,n=e.setValue,r=e.control,s=e.name,o=e.onActionClicked,i=(0,x.Os)().connected,a=(0,m.qo)({control:r,name:s}),l=(0,x.Bn)().getTokenInfo,u=(0,x.jB)().useWSol,d=(0,B.FB)(a,void 0,u).balance,p=l(a);return i&&p?(0,C.jsxs)("div",{className:"flex justify-between items-center space-x-1",children:[(0,C.jsx)("button",{type:"button",onClick:function(){null===o||void 0===o||o();var e=new q.Z(d).div(2).toDP(p.decimals);n("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})},disabled:t,className:(0,j.cn)(t&&"cursor-not-allowed opacity-50","cursor-pointer text-[10px] text-black-35 border-black-10 dark:text-white-35 dark:bg-black-10 leading-4 py-[1px] px-2 rounded-full border dark:border-white-10 font-semibold","hover:border-v2-primary/50 hover:bg-[#2C3F54] hover:text-v2-primary/50","dark:hover:text-v2-primary dark:hover:bg-v2-primary/10 dark:hover:border-v2-primary"),children:(0,C.jsx)(c.cC,{id:"HALF"})}),(0,C.jsx)("button",{type:"button",onClick:function(){null===o||void 0===o||o();var e=new q.Z(d);a!==H.W4.toBase58()||u||(e=e.minus(H.WO)),e.lt(0)&&(e=new q.Z(d)),n("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})},disabled:t,className:(0,j.cn)(t&&"cursor-not-allowed opacity-50","cursor-pointer text-[10px] text-black-35 border-black-10 dark:text-white-35 dark:bg-black-10 leading-4 py-[1px] px-2 rounded-full border dark:border-white-10 font-semibold","hover:border-[#00D1DF] hover:bg-[#2C3F54] hover:text-v2-primary/50","dark:hover:text-v2-primary dark:hover:bg-v2-primary/10 dark:hover:border-v2-primary"),children:(0,C.jsx)(c.cC,{id:"MAX"})})]}):null},Ce=n(72466),Se=n(55948),Te=n(43723),Ae=n(60466),Me="!text-jupiter-jungle-green",Pe="!text-jupiter-primary",Ie="!text-jupiter-red",Oe=function(e){var t=e.loading,n=e.inputPair,r=e.outputPair,s=(0,he.tX)(),o=s.rate,i=s.isMoreExp,a=s.isDanger,l=s.isWarning,c=s.percent,p=s.formattedPercent,m=s.isWithinTwoPercent,x=s.rateDiff,f=(0,d.useMemo)((function(){return i&&!m?u.ag._("{formattedPercent}% more than Birdeye",{formattedPercent:p}):i?u.ag._("Within {formattedPercent}%",{formattedPercent:p}):0===c?"< ".concat(k.uf.format(.1),"% cheaper"):"".concat(p,"% cheaper")}),[i,p,m,c]),h=(0,d.useMemo)((function(){return l?Pe:a?Ie:Me}),[a,l]),v={inAmount:o?F().BigInt(Math.round(1/o*Math.pow(10,n.decimals))):F().BigInt(0),inputDecimal:n.decimals,outAmount:F().BigInt(1*Math.pow(10,r.decimals)),outputDecimal:r.decimals};return t?(0,C.jsx)(A.O,{className:"mt-1 h-3 w-20"}):null!==o&&f?(0,C.jsxs)("div",{className:"mt-1 flex items-center leading-none text-xs h-3",children:[(0,C.jsxs)("div",{className:"flex flex-row items-center border-b border-b-transparent -mb-[1px] space-x-1",children:[(0,C.jsx)("span",{className:"".concat(h),children:f}),(0,C.jsx)("div",{className:"fill-current ".concat(h)})]}),h!==Me&&"number"===typeof x?(0,C.jsxs)("div",{className:"ml-1 flex text-xs text-black-50 dark:text-white-50 justify-end ".concat(h),children:["(",F().greaterThan(v.inAmount,Ae.xE)&&F().greaterThan(v.outAmount,Ae.xE)?(0,C.jsx)(Ce.Z,{className:"".concat(h," items-center"),inputAmount:v.inAmount,outputAmount:v.outAmount,inputPair:n,outputPair:r,reversible:!0}):null,")"]}):null]}):null},Ze=n(87148),Re=function(e){var t=e.loading,n=e.hasAtaDeposit,r=e.feeInformation,s=(0,Ze.Z)(n),o=t&&s;return n||o?(0,C.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,C.jsxs)("div",{className:"flex w-[50%] text-black-50 dark:text-white-50",children:[(0,C.jsx)(c.cC,{id:"Deposit"}),(0,C.jsx)(ne.Z,{variant:"dark",content:(0,C.jsx)("div",{className:"max-w-xs rounded-lg text-white-75",children:(0,C.jsx)("ul",{className:"pl-2",children:n&&(0,C.jsx)("li",{children:(0,C.jsx)("p",{children:(0,C.jsx)(c.cC,{id:"You need to have the token accounts in order to execute the trade."})})})})}),children:(0,C.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),o?(0,C.jsx)(A.O,{className:"w-12 h-4 self-end"}):(0,C.jsx)("div",{className:"w-[50%] text-black-50 dark:text-white-50 text-xs text-right",children:function(){var e,t,s=[n&&(0,C.jsx)("p",{children:(0,C.jsx)(c.cC,{id:"{0} SOL for {1} {2, plural, one {ATA account} other {ATA accounts}}",values:{0:W.uf.format((0,W.lt)(null===r||void 0===r?void 0:r.ataDeposits.reduce((function(e,t){return e+=t}),0),9)),1:null===r||void 0===r||null===(e=r.ataDeposits)||void 0===e?void 0:e.length,2:(null===r||void 0===r||null===(t=r.ataDeposits)||void 0===t?void 0:t.length)||0}})},"ata")].filter(Boolean);return s.length?s:"-"}()})]}):null},De=n(90342),Ee=function(e){var t=e.feeInformation,n=(0,De.gs)().prioritizationFee,r=(0,d.useMemo)((function(){if(!t)return"-";var e=t.signatureFee;return new q.Z(e).div(Math.pow(10,9)).add("number"===typeof n&&n||0).toString()}),[t,n]);return(0,C.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,C.jsxs)("div",{className:"flex w-[50%] text-black-50 dark:text-white-50",children:[(0,C.jsx)(c.cC,{id:"Max Transaction Fee"}),(0,C.jsx)(ne.Z,{content:(0,C.jsx)(c.cC,{id:"This is for Solana transaction fee and Priority fee"}),children:(0,C.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,C.jsxs)("div",{className:"text-black-50 dark:text-white-50",children:[r," SOL"]})]})},Ve="text-jupiter-jungle-green",Le="text-jupiter-primary",Fe="text-jupiter-red",qe=function(e){var t,n=e.loading,r=e.route,s=e.inputPair,o=e.outputPair,i=(0,he.gJ)(),a=W.uf.format(new q.Z(r.priceImpactPct||0).mul(100).toDP(4).toNumber()),l=Number(a)<.1?"< ".concat(W.uf.format(.1),"%"):"~ ".concat(a,"%"),u=(0,d.useMemo)((function(){if(i){if(i.isMediumImpact)return Le;if(i.isHighImpact)return Fe}return Ve}),[i]),p=(0,d.useMemo)((function(){var e=r.swapMode===D.jr.ExactIn?o:s,t=new q.Z(r.otherAmountThreshold.toString()).div(Math.pow(10,e.decimals)),n=W.uf.format(t.toNumber());return"".concat(n," ").concat(e.symbol)}),[r.swapMode,r.otherAmountThreshold,o,s]),m=(null!==(t=null===i||void 0===i?void 0:i.ataDeposits.length)&&void 0!==t?t:0)>0,x=i;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(Oe,{loading:n,route:r,inputPair:s,outputPair:o}),(0,C.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,C.jsx)("div",{className:"text-black-50 dark:text-white-50",children:(0,C.jsx)(c.cC,{id:"Price Impact"})}),(0,C.jsx)("div",{className:u,children:l})]}),(0,C.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,C.jsx)("div",{className:"text-black-50 dark:text-white-50",children:r.swapMode===D.jr.ExactIn?(0,C.jsx)(c.cC,{id:"Minimum Received"}):(0,C.jsx)(c.cC,{id:"Maximum Consumed"})}),(0,C.jsx)("div",{className:"text-black-50 dark:text-white-50",children:p})]}),(0,C.jsx)(Ee,{feeInformation:x}),(0,C.jsx)(Re,{loading:n,hasAtaDeposit:m,feeInformation:x})]})]})},_e=n(74925),Be=n(44348),We=n(89349),Ke=n(60021),Ge=n(39913),He=n(41144);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=function(e,t){return{name:t,timestamp:e[0],price:e[1]}};var Ye=n(14518),Xe=n(60347),Qe=n(3082),$e=n(88381),et=function(e){var t=e.active,n=e.payload;if(t&&n&&n.length&&"number"===typeof n[0].value){var r=n[0].value,s=(0,Ye.Z)(n[0].payload.timestamp,"p");return(0,C.jsxs)("div",{className:"flex flex-col bg-white dark:bg-black px-2 py-1 text-xs rounded-md",children:[(0,C.jsx)("span",{children:s}),(0,C.jsxs)("span",{className:"flex space-x-1 items-center h-5",children:[(0,C.jsx)("span",{children:"$"}),(0,C.jsx)("span",{children:Number(r)<1e-6?(0,C.jsx)($e.ZP,{value:Number(r),maxSuffix:6}):(0,C.jsx)("span",{children:new q.Z(r).toDP(6).toString()})})]})]})}return null},tt=function(e){var t=e.token,n=(0,B.XA)(),s=(0,x.y6)(),o=s.tokenPriceMap,i=s.getUSDValue,a=(0,Qe.useRouter)(),c=function(e,t){var n,s=e.token,o=e.days,i=void 0===o?1:o,a=e.interval,c=void 0===a?"":a,u=t.enabled,d=t.staleTime,p=(null===(n=s.extensions)||void 0===n?void 0:n.coingeckoId)||"",m="https://api.coingecko.com/api/v3/coins/".concat(p,"/market_chart?vs_currency=usd&days=").concat(i,"&interval=").concat(c);return ze(ze({},(0,B.aM)(["".concat(p,"-useCoingeckoChartData-").concat(i,"-").concat(c)],(0,r.Z)(l().mark((function e(){var t,n,r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,He.ZP.get(m).json();case 5:return t=e.sent,n=new q.Z(t.prices[t.prices.length-1][1]),r=new q.Z(t.prices[0][1]),s=new q.Z(n).div(r),e.abrupt("return",{marketChart:t.prices.map(Je),change24H:new q.Z(s).sub(1).mul(100).toDP(2).toNumber()});case 12:return e.prev=12,e.t0=e.catch(2),console.error("useCoingeckoChartData",e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),{enabled:u&&Boolean(p),refetchInterval:6e4,staleTime:d||3e4,retry:10})),{},{apiURL:{marketChart:m}})}({token:t},{enabled:a.isReady,cacheTime:18e5,staleTime:12e5}),u=c.data;(0,d.useEffect)((function(){var e,n;null!==(e=t.extensions)&&void 0!==e&&e.coingeckoId&&i(t.address||(null===(n=t.extensions)||void 0===n?void 0:n.coingeckoId))}),[t,i]);var p=(0,d.useMemo)((function(){return o[t.address]}),[o,t.address]),m=(0,d.useMemo)((function(){if(!u)return null;var e=W.uf.format(u.change24H);return u.change24H>0?"+".concat(e,"%"):"".concat(e,"%")}),[u]),h=(0,d.useMemo)((function(){return"https://birdeye.so/token/".concat(t.address,"?chain=solana")}),[t.address]);return(0,C.jsxs)("div",{className:"flex justify-between dark:text-white",translate:"no",children:[(0,C.jsxs)("div",{className:"flex items-center w-full max-w-[60%] md:max-w-[35%] text-ellipsis space-x-3",children:[(0,C.jsx)("div",{className:"min-w-[24px] min-h-[24px]",children:(0,C.jsx)(f.Z,{info:t,width:24,height:24})}),(0,C.jsxs)("div",{className:"flex flex-col",children:[(0,C.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,C.jsx)("span",{className:"text-sm dark:text-white-75 font-semibold",children:t.symbol}),(0,C.jsx)(Xe.Z,{tokenInfo:t,customUrl:h})]}),(0,C.jsx)("span",{className:"text-xs text-black-50 dark:text-white-50 text-ellipsis",children:t.name})]})]}),(0,C.jsxs)("div",{className:"w-full max-w-[50%]",children:[(0,C.jsxs)("div",{className:"w-full flex items-center",children:[(0,C.jsx)("span",{className:"w-[60%] mr-2.5 text-[14px] font-semibold text-ellipsis",children:Number.isNaN(Number(null===p||void 0===p?void 0:p.usd))?"N/A":Number(null===p||void 0===p?void 0:p.usd)<1e-6?(0,C.jsx)($e.ZP,{value:Number(null===p||void 0===p?void 0:p.usd),maxSuffix:6}):(0,C.jsx)("span",{children:null===p||void 0===p?void 0:p.usd})}),(0,C.jsx)("span",{className:"w-[40%] mr-2.5 text-[14px] font-semibold text-ellipsis ".concat(((null===u||void 0===u?void 0:u.change24H)||0)>=0?"text-jupiter-jungle-green":"text-[#FF0000]"),children:m})]}),(0,C.jsx)("svg",{width:0,height:0,children:(0,C.jsx)("defs",{children:(0,C.jsxs)("linearGradient",{id:"linear",children:[(0,C.jsx)("stop",{offset:"0%",stopColor:"#FCC00A"}),(0,C.jsx)("stop",{offset:"100%",stopColor:"#4EBAE9"})]})})}),(0,C.jsx)("div",{className:"flex w-full h-6 items-center",children:null!==u&&void 0!==u&&u.marketChart?(0,C.jsx)(_e.h,{width:"100%",height:24,children:(0,C.jsxs)(Be.w,{data:u.marketChart,children:[(0,C.jsx)(We.u,{position:{x:n?-64:230,y:n?-16:-6},content:function(e){return(0,C.jsx)(et,{active:e.active,payload:e.payload})}}),(0,C.jsx)(Ke.x,{type:"monotone",dataKey:"price",stroke:"url(#linear)",strokeWidth:2,dot:!1}),(0,C.jsx)(Ge.B,{hide:!0,domain:["dataMin","dataMax"]})]})}):null})]})]})},nt=function(e){var t=e.loading,n=e.control,r=e.intervalRefresher,s=(0,m.qo)({control:n,name:"selectedRoute"}),o=(0,m.qo)({control:n,name:"fromValue.floatValue"}),a=(0,he.on)(),l=a.inputTokenInfo,u=a.outputTokenInfo,p=(0,he.tX)(),x=p.isWarning,f=p.isDanger,h=(0,B._)("SHOW_PRICE_INFO",!1),v=(0,i.Z)(h,2),g=v[0],b=v[1],j=d.useState(g),w=(0,i.Z)(j,2),k=w[0],y=w[1];if(d.useEffect((function(){(x||f)&&y(!0)}),[x,f]),!l||!u)return null;return(0,C.jsxs)("div",{className:"my-4",children:[s?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("span",{className:"flex space-x-2 relative",children:(0,C.jsx)(Ce.Z,{className:"text-xs font-medium",inputAmount:s.quoteResponse.inAmount,outputAmount:s.quoteResponse.outAmount,inputPair:l,outputPair:u,reversible:!0})}),(0,C.jsxs)("button",{type:"button",onClick:function(){k?(y(!1),b(!1)):(y(!0),b(!0))},className:"flex items-center space-x-2 cursor-pointer text-black/25 dark:text-white/25 hover:text-light-active-state dark:hover:text-v2-primary",children:[(0,C.jsx)("div",{className:"h-4 w-4 flex items-center fill-current",children:k?(0,C.jsx)(Te.Z,{}):(0,C.jsx)(Se.Z,{})}),(0,C.jsx)("span",{className:"text-xs font-medium",children:k?(0,C.jsx)(c.cC,{id:"Hide price info"}):(0,C.jsx)(c.cC,{id:"Show price info"})}),r]})]}),k&&(0,C.jsx)(qe,{route:s.quoteResponse,loading:t,inputPair:l,outputPair:u})]}):o>0?(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("div",{className:"h-4 w-4 flex items-center fill-current"}),r]}):null,(0,C.jsxs)("div",{className:"flex flex-col space-y-2 mt-2 sm:mt-4",children:[(0,C.jsx)(tt,{token:l}),(0,C.jsx)(tt,{token:u})]})]})},rt=n(41264),st=n(44495),ot=n(89521),it=n(95523),at=n(59295),lt=function(e){var t=e.quotedRate,n=e.birdeyeRate,r=e.priceImpact,s=e.inputAmount,o=e.outputAmount,i=e.inputPair,a=e.outputPair,l=e.onConfirm,u=e.percentWarning,d=e.priceImpactWarning,p=(0,y.JT)().closeModal,m=i.symbol,x=a.symbol;return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"p-6 pb-5 bg-jupiter-red",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("h2",{className:"text-lg font-bold text-white",children:(0,C.jsx)(c.cC,{id:"Price Warning"})}),(0,C.jsx)("button",{className:"text-white/50",onClick:function(){return p()},children:(0,C.jsx)(X.Z,{width:12,height:12})})]}),(0,C.jsx)("p",{className:"text-white/75 mt-1 text-sm",children:(0,C.jsx)(c.cC,{id:"Looks like you are getting a bad price. Are you sure you want to continue with this trade?"})})]}),(0,C.jsxs)("div",{className:"bg-white dark:bg-[#2B2C32] p-5 pt-8 text-sm font-medium",children:[(0,C.jsxs)("div",{className:"flex items-center justify-between",children:[(0,C.jsx)("p",{className:"text-black/50 dark:text-white/50",children:(0,C.jsx)(c.cC,{id:"Quoted Rate"})}),(0,C.jsxs)("p",{className:u?"text-[#FF4646]":"text-black dark:text-white ",children:["1 ",m," = ",W.uf.format(t,4)," ",x]})]}),n>0&&(0,C.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,C.jsx)("p",{className:"text-black/50 dark:text-white/50",children:(0,C.jsx)(c.cC,{id:"Birdeye rate"})}),(0,C.jsxs)("p",{className:"text-black dark:text-white",children:["1 ",m," = ",W.uf.format(n,4)," ",x]})]}),(0,C.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,C.jsx)("p",{className:"text-black/50 dark:text-white/50",children:(0,C.jsx)(c.cC,{id:"Price Impact"})}),(0,C.jsxs)("p",{className:d?"text-[#FF4646]":"text-black dark:text-white ",children:[r.toFixed(3),"%"]})]}),(0,C.jsxs)("div",{className:"mt-5 px-3.5 py-[11px] bg-white dark:bg-white/5 rounded-xl border border-black/10 dark:border-white/10 flex items-center justify-between",children:[(0,C.jsx)("p",{className:"text-sm text-black/75 dark:text-white/75 font-medium",children:(0,C.jsx)(c.cC,{id:"You will pay"})}),(0,C.jsxs)("p",{className:"text-lg leading-6 text-black dark:text-white font-semibold",children:[W.uf.format(s,i.decimals)," ",m]})]}),(0,C.jsxs)("div",{className:"mt-5 px-3.5 py-[11px] bg-white dark:bg-white/5 rounded-xl border border-black/10 dark:border-white/10 flex items-center justify-between",children:[(0,C.jsx)("p",{className:"text-sm text-black/75 dark:text-white/75 font-medium",children:(0,C.jsx)(c.cC,{id:"You will receive"})}),(0,C.jsxs)("p",{className:"text-lg leading-6 text-black dark:text-white font-semibold",children:[W.uf.format(o,a.decimals)," ",x]})]}),(0,C.jsx)("button",{type:"button",className:"mt-8 font-semibold text-[#FF4646] w-full rounded-lg flex justify-center items-center p-4 border border-[#FF4646] bg-[#FF4646]/10 dark:bg-transparent dark:border-white/50 text-base",onClick:function(){l(),p()},children:(0,C.jsx)(c.cC,{id:"I know what I\u2019m doing. Let\u2019s go!"})}),(0,C.jsx)("button",{type:"button",className:"mt-3 font-semibold text-white w-full rounded-lg flex justify-center items-center p-4 bg-black/80 text-base",onClick:function(){return p()},children:(0,C.jsx)(c.cC,{id:"Cancel"})})]})]})},ct=n(12939),ut=n(39268),dt=n.n(ut),pt=function(e){var t=e.ammName,n=e.excludeAmm,r=(0,y.JT)().closeModal;return(0,C.jsxs)("div",{className:"p-5 max-w-md dark:bg-v2-background",children:[(0,C.jsx)("p",{className:"font-medium text-xl mb-8 leading-5",children:"Transaction Failure"}),(0,C.jsxs)("p",{className:"text-sm text-v2-lily/75 mb-2",children:["Your transaction failed due to an issue with ",t]}),(0,C.jsx)("p",{className:"text-sm text-v2-lily/75 mb-8",children:"We recommend that you exclude affected DEX(es) and fetch a new quote for your swap."}),(0,C.jsxs)(p.Z,{className:"mb-2",size:"md",onClick:function(){n(),r()},children:["Exclude ",t," and Fetch New Quote"]}),(0,C.jsx)("button",{className:"border border-v2-lily/25 rounded-xl w-full mt-2 h-14",onClick:r,children:"Cancel"})]})},mt=n(65558),xt=n(14640),ft=n(11421),ht=n(94107),vt=n(24628),gt=function(e){var t=e.tokenInfo,n=e.onClickAccept,r=e.onClickReject,s=(0,x.MG)().constants.CLUSTER,o=(0,x.oP)().getTokenExplorer;return(0,C.jsxs)("div",{className:"p-6 rounded-lg bg-v2-background dark:text-white max-h-[80vh] overflow-auto max-w-[460px]",children:[(0,C.jsxs)("div",{className:"flex justify-between relative",children:[(0,C.jsx)("div",{className:"flex space-x-6 w-full justify-center",children:(0,C.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,C.jsx)(f.Z,{info:t,width:52,height:52}),(0,C.jsx)("div",{className:"mt-2 font-semibold text-lg",children:t.symbol}),(0,C.jsxs)("a",{href:o(t.address,s),target:"_blank",rel:"nofollow noreferrer",className:"mt-1 flex justify-center items-center rounded-lg py-1 px-2 bg-black-10 dark:bg-black/30 cursor-pointer dark:text-white/40 fill-current",children:[(0,C.jsx)("span",{className:"mr-2 text-xxs",children:(0,k.Xn)(t.address)}),(0,C.jsx)(vt.Z,{})]})]},t.address)}),(0,C.jsx)("div",{className:"right-0 absolute mt-2 fill-current dark:text-white-35 cursor-pointer",onClick:r,children:(0,C.jsx)(X.Z,{width:16,height:16})})]}),(0,C.jsx)("div",{className:"mt-6 text-sm dark:text-white ",children:(0,C.jsx)("div",{className:"text-center",children:(0,C.jsx)(c.cC,{id:"New token is more volatile. Setting a higher slippage like 5% will ensure successful swaps."})})}),(0,C.jsxs)("div",{className:"w-full space-y-3 mt-7",children:[(0,C.jsx)("button",{type:"button",className:"bg-black text-white dark:bg-black dark:text-white rounded-lg w-full py-2.5 px-6 font-semibold text-sm h-10",onClick:n,children:(0,C.jsx)(c.cC,{id:"Set slippage to 5% for this session"})}),(0,C.jsx)("button",{type:"button",className:"dark:text-white rounded-lg w-full py-2.5 font-semibold text-sm h-10",onClick:r,children:(0,C.jsx)(c.cC,{id:"Cancel"})})]})]})},bt=n(73413),jt=n(33130),wt=n(57281),kt=n(49839),yt=n(16330),Nt=n(64508),Ct=n.n(Nt),St=n(11017),Tt=n(61240),At=function(e){var t=e.fromTokenInfo,n=e.toTokenInfo,r=e.inAmount;return(0,C.jsxs)(Ct(),{shallow:!0,href:"/dca/".concat(null===t||void 0===t?void 0:t.symbol,"-").concat(null===n||void 0===n?void 0:n.symbol,"?inAmount=").concat(r,"&frequency=minute&frequencyValue=10"),className:"bg-v2-primary/10 border border-white/10 text-white px-3 py-2 rounded-lg text-xs mt-2 cursor-pointer flex items-center justify-between",children:[(0,C.jsxs)("span",{className:"flex space-x-2 items-center",children:[(0,C.jsx)(Tt.Z,{}),(0,C.jsx)("span",{children:u.ag._("DCA can significantly soften your price impact")})]}),(0,C.jsx)(St.Z,{})]})},Mt=function(e){var t=e.onClickExactIn;return(0,C.jsxs)("div",{className:"bg-warning/10 border border-warning/50 text-perps-warning px-3 py-2 rounded-lg text-xs mt-2 flex flex-col justify-start",children:[(0,C.jsx)("p",{children:u.ag._("ExactOut swap supports less liquidity venues and less routes. It might also offer a worse price. Slippage is only applied on input amount, not output amount.")}),t&&(0,C.jsx)("div",{onClick:t,className:"mt-2 underline cursor-pointer",children:u.ag._("Switch back to ExactIn")})]})},Pt=n(14167),It=n(57917);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=dt()((function(){return n.e(6116).then(n.bind(n,56116))}),{ssr:!1,loadableGenerated:{webpack:function(){return[56116]}}}),Dt=dt()((function(){return Promise.resolve().then(n.bind(n,73413))}),{ssr:!1,loadableGenerated:{webpack:function(){return[73413]}}}),Et="PAIRS_SELECT_TO_PAIR_MODAL_ID",Vt=function(e){var t=e.control,n=e.loading,r=(0,x.Bn)(),s=r.tokenMap,o=(r.newTokenListMap,(0,m.qo)({control:t,name:"selectedRoute"})),i=(0,m.qo)({control:t,name:"fromTokenAddress"}),a=(0,m.qo)({control:t,name:"toTokenAddress"}),l=d.useMemo((function(){return null===s||void 0===s?void 0:s.get(i)}),[i,s]),c=d.useMemo((function(){return null===s||void 0===s?void 0:s.get(a)}),[a,s]);return!n&&l&&c&&o?(0,C.jsx)(Ce.Z,{className:"text-xs font-medium",inputAmount:o.quoteResponse.inAmount,outputAmount:o.quoteResponse.outAmount,inputPair:l,outputPair:c,reversible:!0}):null},Lt=function(e){var t=e.control,n=e.loading,r=e.error,s=e.moreErrors,o=e.isLaunchPage,a=(0,x.Os)().connected,l=(0,x.y6)().tokenPriceMap,u=(0,m.cl)({control:t}).isSubmitting,f=(0,m.qo)({control:t,name:"fromTokenAddress"}),h=(0,m.qo)({control:t,name:"toTokenAddress"}),v=(0,m.qo)({control:t,name:"selectedRoute"}),g=(0,m.qo)({control:t,name:"fromValue"}),b=(0,m.qo)({control:t,name:"toValue"}),w=(0,m.qo)({control:t,name:"toastId"}),k=(0,x.jB)().useWSol,y=(0,x.Bn)(),N=y.tokenMap,S=y.newTokenListMap,T=(0,B.FB)(f,void 0,k).balance,A=(0,x.gZ)().nativeAccount,M=(0,he.gJ)(),P=d.useMemo((function(){return null===N||void 0===N?void 0:N.get(f)}),[f,N]),I=d.useMemo((function(){return null===N||void 0===N?void 0:N.get(h)}),[h,N]),O=d.useMemo((function(){var e=T,t=null===P||void 0===P?void 0:P.decimals;if(v&&t){var n=v.quoteResponse.swapMode===wt.jr.ExactOut?new q.Z(v.quoteResponse.otherAmountThreshold.toString()).div(Math.pow(10,P.decimals)):null===g||void 0===g?void 0:g.value;return new q.Z(n||0).lessThanOrEqualTo(e)}return!0}),[P,g,T,v]),Z=d.useMemo((function(){if(M&&v){var e=!k&&v.quoteResponse.inputMint.equals(H.W4)?new mt.BN(v.quoteResponse.inAmount.toString()):new mt.BN(0);return((null===A||void 0===A?void 0:A.info.amount)||new mt.BN(0)).sub(e).gt(new mt.BN(M.minimumSOLForTransaction))}return!0}),[M,v,A,k]),R=(0,bt.useIsAccountFrozen)(P),E=(0,bt.useIsAccountFrozen)(I),V=(0,xt.Z)({selectedRoute:v,hasEnoughSOL:Z}).errors,L=d.useMemo((function(){var e,t=(null===(e=l[f||""])||void 0===e?void 0:e.usd)||0;return new q.Z((null===g||void 0===g?void 0:g.value)||0).mul(t).gte(1e3)&&((null===M||void 0===M?void 0:M.priceImpact)||0)>H.WJ}),[f,null===g||void 0===g?void 0:g.value,null===M||void 0===M?void 0:M.priceImpact,l]),F=(0,It.kH)(w),_=F.isProcessing,W=F.isTxProcessed,K=(F.isTxSuccess,F.isWaitingWalletToSign),G=d.useState(""),U=(0,i.Z)(G,2),z=U[0],J=U[1],Y=d.useState(null),X=(0,i.Z)(Y,2),Q=X[0],$=X[1],ee=d.useCallback((function(e){J("opacity-0"),setTimeout((function(){$(e),J("opacity-100")}),200)}),[]);return d.useEffect((function(){ee(n?(0,C.jsx)(c.cC,{id:"Loading"}):u?W?(0,C.jsx)(c.cC,{id:"Processed"}):K?(0,C.jsx)(c.cC,{id:"Pending Approval"}):_?(0,C.jsx)(c.cC,{id:"Processing"}):(0,C.jsx)(c.cC,{id:"Swapping"}):(0,C.jsx)(ct.Z,{children:(0,C.jsx)(c.cC,{id:"Swap"})}))}),[_,u,W,K,n,ee]),a?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"flex flex-col space-y-2",children:[V.length>0&&(0,C.jsx)("div",{className:"bg-jupiter-red text-white px-3 py-2 rounded-lg text-xs mt-2",children:V.map((function(e){return(0,C.jsxs)("span",{className:"flex space-x-2 items-center",children:[(0,C.jsx)(ye.Z,{}),(0,C.jsx)("span",{children:e})]},e)}))}),L&&P&&I&&null!==g&&void 0!==g&&g.floatValue?(0,C.jsx)(At,{fromTokenInfo:P,toTokenInfo:I,inAmount:null===g||void 0===g?void 0:g.floatValue}):null]}),(0,C.jsx)(p.Z,{disabled:!v||!O||!Z||n||(null===s||void 0===s?void 0:s.notTradableYet)||!(null!==g&&void 0!==g&&g.value)||!(null!==b&&void 0!==b&&b.value),loading:u,type:"submit",className:(0,j.cn)("!transition-none w-full mt-3 bg-[#121D28] border border-transparent",u?(0,j.cn)("transition-all duration-200 dark:bg-[#0f2d3d] dark:[&>div]:!text-labs"):""),children:null!==s&&void 0!==s&&s.notTradableYet?(0,C.jsx)(c.cC,{id:"Not tradable yet"}):r&&r!==D.D1.NO_ROUTES_ERROR?S.has(f)||S.has(h)?(0,C.jsx)(c.cC,{id:"Not tradable yet"}):(0,C.jsx)(c.cC,{id:"Error fetching route.<0/> Try changing your trade amount.",components:{0:(0,C.jsx)("br",{})}}):null!==g&&void 0!==g&&g.value?!v&&null!==g&&void 0!==g&&g.value?(0,C.jsx)(c.cC,{id:"No routes found"}):O?Z?R||E?(0,C.jsx)(c.cC,{id:"Token account frozen"}):(0,C.jsx)("span",{className:(0,j.cn)("duration-200",z),children:Q}):(0,C.jsx)(c.cC,{id:"Insufficient SOL"}):(0,C.jsx)(c.cC,{id:"Insufficient {0}",values:{0:null===P||void 0===P?void 0:P.symbol}}):(0,C.jsx)(c.cC,{id:"Enter an amount"})})]}):(0,C.jsxs)(C.Fragment,{children:[!o&&L&&P&&I&&null!==g&&void 0!==g&&g.floatValue?(0,C.jsx)(At,{fromTokenInfo:P,toTokenInfo:I,inAmount:null===g||void 0===g?void 0:g.floatValue}):null,(0,C.jsx)(ht.uS,{buttonClassName:"!bg-transparent",overrideContent:(0,C.jsx)(p.Z,{className:"mt-3",size:"md",children:(0,C.jsx)("span",{children:(0,C.jsx)(c.cC,{id:"Connect Wallet"})})})})]})},Ft=function(e){var t,n=e.inToken,s=e.outToken,a=e.type,p=(0,x.MG)().constants.CLUSTER,f=((0,T.Z0)(p),(0,x.Os)().wallet),h=(0,x.jB)(),v=h.useWSol,g=h.asLegacyTransaction,w=(0,B.NL)(),k=(0,x.y6)().tokenPriceMap,A=d.useMemo((function(){return"launch-page"===(null===a||void 0===a?void 0:a.mode)}),[null===a||void 0===a?void 0:a.mode]),M=(0,x.C9)(),P=(0,b.T)(),O=(0,m.cI)({defaultValues:{fromTokenAddress:"",toTokenAddress:"",toastId:d.useMemo((function(){return(0,Pt.w)()}),[])},mode:"all",criteriaMode:"all"}),Z=O.handleSubmit,L=O.setValue,U=O.reset,J=O.control,Y=O.formState,X=Y.isSubmitting,Q=Y.dirtyFields,ee=Y.isDirty,te=O.getValues,ne=(0,y.JT)(),re=ne.openModal,se=ne.closeModal,oe=(0,x.Bn)(),ie=oe.getTokenInfo,ae=oe.newTokenListMap,le=oe.connection,ce=(0,m.qo)({control:J}),ue=ce.fromTokenAddress,de=ce.fromValue,me=ce.toValue,xe=ce.toTokenAddress,fe=(0,x.mQ)(),ve=fe.slippage,ge=fe.autoSlippageEnabled,be=d.useState(ve),je=(0,i.Z)(be,2),we=je[0],ye=je[1],Ce=(0,B._)(K.J,null),Se=(0,i.Z)(Ce,2),Te=(Se[0],Se[1]),Ae=(0,De.gs)(),Me=Ae.prioritizationFeeLamports,Pe=Ae.priorityLevel,Ie=(0,E.Z)("new_tokens_alert",[]),Oe=(0,i.Z)(Ie,2),Ze=Oe[0],Re=Oe[1],Ee=d.useMemo((function(){return ae.get(ue)||ae.get(xe)}),[ue,ae,xe]);d.useEffect((function(){ye(void 0)}),[ve]),d.useEffect((function(){Ee&&!1===ge&&Number(ve)<1&&(null===Ze||void 0===Ze||!Ze.includes(Ee.address))&&(Re((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat((0,o.Z)(e),[Ee.address])})),re((0,C.jsx)(gt,{tokenInfo:Ee,onClickAccept:function(){ye(5),se()},onClickReject:function(){se()}}),{canDismiss:!1}))}),[Ee,re,se,Ze,ve,Re,ge]);var Ve=d.useMemo((function(){return{fromTokenInfo:ie(ue),toTokenInfo:ie(xe)}}),[ie,ue,xe]),Le=Ve.fromTokenInfo,Fe=Ve.toTokenInfo;d.useEffect((function(){n&&L("fromTokenAddress",n.address),s&&L("toTokenAddress",s.address)}),[L,n,s]);var qe=d.useRef(!1),_e=d.useMemo((function(){return!1===qe.current?Le&&null!==de&&void 0!==de&&de.value?F().BigInt(new q.Z(de.value).mul(Math.pow(10,Le.decimals)).floor().toFixed()):F().BigInt(0):Fe&&null!==me&&void 0!==me&&me.value?F().BigInt(new q.Z(me.value).mul(Math.pow(10,Fe.decimals)).floor().toFixed()):F().BigInt(0)}),[Le,null===de||void 0===de?void 0:de.value,Fe,null===me||void 0===me?void 0:me.value]),Be=qe.current?wt.jr.ExactOut:wt.jr.ExactIn,We=d.useMemo((function(){if(Be!==wt.jr.ExactOut)return g?void 0:64}),[Be,g]),Ke=(0,D.OO)(Zt({amount:_e,inputMint:ue?new _.PublicKey(ue):void 0,outputMint:xe?new _.PublicKey(xe):void 0,maxAccounts:We,swapMode:Be},ge?{autoSlippage:ge,autoSlippageCollisionUsdValue:1e3}:{slippageBps:ge?void 0:Math.ceil(100*Number(null!==we&&void 0!==we?we:ve)),computeAutoSlippage:!0})),Ge=Ke.quoteResponseMeta,He=Ke.loading,Ue=Ke.refresh,ze=Ke.fetchQuote,Je=Ke.fetchSwapTransaction,Ye=Ke.lastRefreshTimestamp,Xe=Ke.programIdToLabelMap,Qe=Ke.programIdsExcluded,$e=Ke.setProgramIdsExcluded,et=Ke.error,tt=(0,G.KO)(z.quotedSlippage),ct=(0,i.Z)(tt,2),ut=ct[0],dt=ct[1];d.useEffect((function(){ge&&null!==Ge&&void 0!==Ge&&Ge.quoteResponse.slippageBps?dt(null===Ge||void 0===Ge?void 0:Ge.quoteResponse.slippageBps):dt(void 0)}),[ut,ge,null===Ge||void 0===Ge?void 0:Ge.quoteResponse.slippageBps,dt,ve]),d.useEffect((function(){if(L("selectedRoute",Ge),Ge){if(!Fe)return;if(!1===qe.current){var e=new q.Z(Ge.quoteResponse.outAmount.toString()||"0").div(Math.pow(10,Fe.decimals)),t=e.toFixed()||"",n=e?e.toNumber():e;L("toValue",{formattedValue:t,value:t,floatValue:n})}else{if(!Le)return;var r=new q.Z(Ge.quoteResponse.inAmount.toString()||"0").div(Math.pow(10,Le.decimals)),s=r.toFixed()||"",o=r?r.toNumber():r;L("fromValue",{formattedValue:s,value:s,floatValue:o})}}else L(!1===qe.current?"toValue":"fromValue",void 0)}),[Ge,Fe,L,Le]),(0,he.Gl)(He||null===Ge||void 0===Ge?void 0:Ge.quoteResponse,ue,xe),d.useEffect((function(){He&&L(!1===qe.current?"toValue":"fromValue",{formattedValue:"",value:"",floatValue:0})}),[He,L]);var mt=(0,he.tX)(),xt=(0,jt.R3)(),ht=(0,G.KO)(kt.yz),vt=(0,i.Z)(ht,1)[0],bt=(0,B._)("experimental-routing",Math.random()<=.25),Nt=(0,i.Z)(bt,1)[0],Ct=d.useCallback(function(){var e=(0,r.Z)(l().mark((function e(t){var n,s,a,c,d,p,m,h,b,j,y,N,S,T,P,I,O,Z,R,E,F;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.selectedRoute,a=t.fromTokenAddress,c=t.toTokenAddress,d=t.toastId,f&&f.adapter.publicKey&&s&&a&&c){e.next=3;break}return e.abrupt("return");case 3:if(p={startTime:void 0},m=s,h=!1,b=(null===(n=k[a||""])||void 0===n?void 0:n.usd)||0,j=new q.Z((null===de||void 0===de?void 0:de.value)||0).mul(b).toString(),!Nt){e.next=19;break}return e.prev=9,e.next=12,ze();case 12:(y=e.sent)&&((m={original:Zt({},y.original),quoteResponse:Zt({},y.quoteResponse)}).quoteResponse.inAmount=s.quoteResponse.inAmount,m.original.inAmount=s.original.inAmount,m.quoteResponse.outAmount=s.quoteResponse.outAmount,m.original.outAmount=s.original.outAmount,N=(0,o.Z)((0,V.Kc)(s.quoteResponse.routePlan).labels).join(" -> "),S=(0,o.Z)((0,V.Kc)(y.quoteResponse.routePlan).labels).join(" -> "),N!==S?(h=!0,console.log("JIT Routing, new route",{quoted:N,newRoute:S})):console.log("JIT Routing, same route",{quoted:N,newRoute:S})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),(0,ft.Kz)("JIT fetch quote failed",{inputMint:a,outputMint:c});case 19:if(T={quoteResponseMeta:m.original,wallet:f.adapter.name,inputAmountInUSD:j,ammLabels:(0,o.Z)((0,V.Kc)(m.quoteResponse.routePlan).labels),autoSlippageEnabled:ge},(0,ft.Kz)("Swap clicked",Zt(Zt({},T),{},{jit:{enableJITRouting:Nt,beforeJitQuoteResponseMeta:s,isDifferentRoute:h}})),P=ie(a),I=ie(c),O=function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je({quoteResponseMeta:m,userPublicKey:f.adapter.publicKey,prioritizationFeeLamports:1,wrapUnwrapSOL:!v});case 2:if(!("error"in(t=e.sent))){e.next=7;break}console.error("Error in swapTransactionResponse",t.error),e.next=11;break;case 7:return e.next=9,xt(t.swapTransaction,{blockhash:t.blockhash,idl:wt.GS,idlProgramId:D.Cc,lastValidBlockHeight:t.lastValidBlockHeight,skipPreflight:!0},{toastId:d,submittingMessage:null,onSending:function(){p.startTime=Date.now()},autoResolveOnProcessed:!0,resolveSuccessTitleAndDescription:function(){var e=(0,r.Z)(l().mark((function e(t,n){var r,o,a,c,d,x,g,b,j,w,k,y,N,C,S;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.quoteResponse,o=r.inputMint,a=r.outputMint,e.next=3,(0,wt.Bj)({connection:le,inputMint:o,outputMint:a,userPublicKey:f.adapter.publicKey});case 3:return c=e.sent,d=c.destinationAddress,x=c.sourceAddress,g=(0,wt.Od)({txid:n,destinationAddress:d,hasWrappedSOL:v,inputMint:o,outputMint:a,sourceAddress:x,transactionResponse:t,user:f.adapter.publicKey}),b=(0,i.Z)(g,2),j=b[0],w=b[1],k=P.symbol,y=W.V2.format(new q.Z(j).div(Math.pow(10,P.decimals)).toNumber()),N=I.symbol,C=W.V2.format(new q.Z(w).div(Math.pow(10,I.decimals)).toNumber()),S=u.ag._("Successfully swapped {inputAmount} {inputSymbol} for {outputAmount} {outputSymbol}",{inputAmount:y,inputSymbol:k,outputAmount:C,outputSymbol:N}),p.startTime&&(0,ft.Kz)("Swap success ping",Zt(Zt(Zt({},T),{},{ping:(Date.now()-p.startTime)/1e3},"number"!==typeof Me?{fee:Me}:{feeType:JSON.stringify(Me)}),{},{txid:n,jit:{enableJITRouting:Nt,beforeJitQuoteResponseMeta:s,isDifferentRoute:h},sourceTokenBalanceChange:j,destinationTokenBalanceChange:w,incurredSlippage:w?new q.Z(w).div(s.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null})),e.abrupt("return",{title:"",description:S});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),resolveErrorTitleAndDescription:function(e,t){var n=(0,wt.IS)(e),o=n.message,d=n.code,p=n.programIds,m=n.txid,x=(n.serializedTx,!1),b=function(){var e,t=(null===p||void 0===p?void 0:p.reduce((function(e,t){var n=Xe.get(t);return n?[n,t]:e}),["",""]))||["",""],n=(0,i.Z)(t,2),r=n[0],s=n[1],a=d&&(null===(e={LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:[6001,3005],CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:[6019],whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:[6023]}[s])||void 0===e?void 0:e.includes(d));if(r&&!a)return re((0,C.jsx)(pt,{ammName:r,excludeAmm:function(){$e((function(e){return g?new Set([s]):(e.add(s),new Set(e))}))}}),{noCloseButton:!1}),{title:r,description:d?u.ag._("A custom error: {code} was returned. Please contact Jupiter in the discord with the transaction signature for help.",{code:d}):o,shouldShowFeedbackLink:!0};var l=D.Cc.toBase58(),c=D.sv;if(null!==p&&void 0!==p&&p.some((function(e){return e===l}))||a){if(d===D.sv.SlippageToleranceExceeded.code||a){var m=u.ag._("Unable to complete the swap as the slippage exceeded your settings. Try again or change your slippage limit.");return x=!0,{title:u.ag._("Slippage reached"),description:m,shouldShowFeedbackLink:!1}}if(d===c.BalancesNotExtractedProperly.code)return{title:u.ag._("Unable to extract balances. Check transaction"),shouldShowFeedbackLink:!0};if(d===c.TransactionNotConfirmed.code)return{title:u.ag._("Transaction not confirmed"),description:u.ag._("Transaction has expired. Increasing transaction priority fee may help."),shouldShowFeedbackLink:!1,shouldShowUpdatePriorityFee:!1}}switch(d){case c.InsufficientSOL.code:return{title:u.ag._("Insufficient SOL"),description:u.ag._("You do not have enough SOL to pay the transaction fee and any related SOL account deposits needed to execute the swap."),shouldShowFeedbackLink:!0};case c.FrozenAccount.code:return{title:u.ag._("Frozen Token Account"),description:u.ag._("Your token account is frozen. Contact the token project about it."),shouldShowFeedbackLink:!0}}return{title:o||(null===d||void 0===d?void 0:d.toString())||"",description:d?u.ag._("A custom error: {code} was returned. Please contact Jupiter in the discord with the transaction signature for help.",{code:d}):o,shouldShowFeedbackLink:!0}}();return(0,r.Z)(l().mark((function e(){var n,r,i,u,g,j;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m){e.next=3;break}throw"No txid";case 3:if(null!==t&&void 0!==t&&t.transactionResponse){e.next=5;break}throw"No transaction response";case 5:if(!1!==x){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,wt.Bj)({connection:le,inputMint:new _.PublicKey(a),outputMint:new _.PublicKey(c),userPublicKey:f.adapter.publicKey});case 9:i=e.sent,u=i.destinationAddress,g=i.sourceAddress,j=(0,wt.Od)({txid:m,destinationAddress:u,hasWrappedSOL:v,inputMint:new _.PublicKey(a),outputMint:new _.PublicKey(c),sourceAddress:g,transactionResponse:null===t||void 0===t?void 0:t.transactionResponse,user:f.adapter.publicKey}),n=j[0],r=j[1],e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error while trying to get failure balance",e.t0);case 20:(0,ft.Kz)("Swap failed",Zt(Zt(Zt({txid:m,code:d,message:o,jit:{enableJITRouting:Nt,beforeJitQuoteResponseMeta:s,isDifferentRoute:h},programIds:p},T),b),{},{sourceTokenBalanceChange:n,destinationTokenBalanceChange:r,incurredSlippage:r?new q.Z(r).div(s.quoteResponse.outAmount.toString()).minus(1).mul(-1e4).toNumber():null}));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))(),b},referenceFee:vt.jup.m&&vt.jup.h&&vt.jup.vh?"MEDIUM"===Pe?vt.jup.m:"HIGH"===Pe?vt.jup.h:"VERY_HIGH"===Pe?vt.jup.vh:void 0:vt.swapFee,minimumFee:kt.uo});case 9:e.sent.success&&(Te({fromPair:P.address,toPair:I.address}),w.invalidateQueries({queryKey:[x.gj]}));case 11:M([a,c,H.W4]),Ue();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),15,!(100*(Z=A?0:Number(m.quoteResponse.priceImpactPct))>15||mt.percent>15)){e.next=36;break}return R=m.quoteResponse.inAmount,E=m.quoteResponse.outAmount,F=(0,at.c)({inAmount:R,inputDecimal:P.decimals,outAmount:E,outputDecimal:I.decimals},!0),e.next=32,new Promise((function(e){re((0,C.jsx)(lt,{quotedRate:F,birdeyeRate:mt.rate||0,priceImpact:100*Z,onConfirm:function(){return e(!0)},inputAmount:(0,W.lt)(R,P.decimals),outputAmount:(0,W.lt)(E,I.decimals),inputPair:P,outputPair:I,percentWarning:mt.percent>15,priceImpactWarning:100*Z>15}),{onClose:function(){e(!1)},containerStyle:{borderRadius:"12px"}})}));case 32:if(e.sent){e.next=36;break}return Ue(),e.abrupt("return");case 36:return e.prev=36,e.next=39,O();case 39:return e.prev=39,L("toastId",(0,Pt.w)()),e.finish(39);case 42:case"end":return e.stop()}}),e,null,[[9,16],[36,,39,42]])})));return function(t){return e.apply(this,arguments)}}(),[f,k,null===de||void 0===de?void 0:de.value,Nt,ge,ie,A,mt.percent,mt.rate,ze,Je,v,M,Ue,xt,le,Me,Xe,re,$e,g,vt.jup.m,vt.jup.h,vt.jup.vh,vt.swapFee,Pe,Te,w,L]),St=(0,K.V)();(0,st.Z)((function(){St[0]&&St[1]&&(Le&&Le.address!==St[0].address&&L("fromTokenAddress",St[0].address),Fe&&Fe.address!==St[1].address&&L("toTokenAddress",St[1].address))}),St);var Tt=(0,ot.Z)();d.useEffect((function(){Tt&&L("fromValue",{formattedValue:Tt,value:Tt,floatValue:Number(Tt)})}),[L,Tt]);var At=d.useRef("");d.useEffect((function(){((!1===qe.current?Q.fromValue:Q.toValue)||Q.toTokenAddress||Q.fromTokenAddress)&&(At.current="")}),[Q.fromValue,Q.toTokenAddress,Q.fromTokenAddress,Q.toValue]);var It=d.useCallback((function(){if(!He&&Fe&&Le){var e=te(),t=e.fromTokenAddress,n=e.toTokenAddress,r=e.fromValue,s=e.toValue,o=At.current;!At.current&&Number((null===r||void 0===r?void 0:r.floatValue)||0)>0&&null!==Ge&&void 0!==Ge&&Ge.quoteResponse&&(o=!1===qe.current?new q.Z(Ge.quoteResponse.outAmount.toString()).div(Math.pow(10,Fe.decimals)).toString():new q.Z(Ge.quoteResponse.inAmount.toString()).div(Math.pow(10,Le.decimals)).toString()),U(Zt({fromTokenAddress:t,toTokenAddress:n},!1===qe.current?{fromValue:{value:o,floatValue:Number(o),formattedValue:o}}:{toValue:{value:o,floatValue:Number(o),formattedValue:o}})),setTimeout((function(){At.current=!1===qe.current?(null===r||void 0===r?void 0:r.value)||"":(null===s||void 0===s?void 0:s.value)||""}),0),P(Fe,Le)}}),[He,Fe,Le,null===Ge||void 0===Ge?void 0:Ge.quoteResponse,P,te,U]);!function(e){var t=(0,B.lm)().toast,n=(0,x.mQ)().slippage,r=d.useRef(!1),s=pe({slippageInput:n}),o=s.slippageSuggestionText,i=s.shouldShowWarning;d.useEffect((function(){i&&!1===r.current&&!e&&(r.current=!0,t({title:u.ag._("Warning, high slippage"),variant:$.Lb.ERROR,description:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("p",{children:[u.ag._("Warning, your slippage is currently set to {slippage}%",{slippage:n}),"."]}),(0,C.jsx)("p",{children:o})]})}))}),[r,i,n,o,t,e])}(A);var Ot=(0,B.FB)(ue,void 0,v).balance,Ft=d.useCallback((function(){var e=new q.Z(Ot);ue===H.W4.toBase58()&&(e=e.minus(H.WO)),L("fromValue",{floatValue:e.toNumber(),formattedValue:e.toString(),value:e.toString()})}),[Ot,ue,L]),qt=(0,G.KO)(N.dS),_t=(0,i.Z)(qt,1)[0],Bt=_t.FORM_CONFIG,Wt=_t.TARGET_MINT,Kt=(0,m.qo)({control:J,name:"selectedRoute"}),Gt=d.useMemo((function(){var e;if(null===(e=Bt.SWAP)||void 0===e||!e.slot)return!1;var t=null===Kt||void 0===Kt?void 0:Kt.quoteResponse.contextSlot;return xe===Wt&&t?t<Bt.SWAP.slot:void 0}),[null===(t=Bt.SWAP)||void 0===t?void 0:t.slot,Wt,null===Kt||void 0===Kt?void 0:Kt.quoteResponse.contextSlot,xe]),Ht=d.useRef(null);return d.useMemo((function(){var e;return A?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ke,{onlySlippageSettings:!0,sessionSlippage:we,refresh:Ue,loading:He}),(0,C.jsxs)("form",{onSubmit:Z(Ct),children:[(0,C.jsxs)("div",{className:"mt-1 flex-col space-y-2 relative",children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("label",{htmlFor:"fromValue",className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,C.jsx)(c.cC,{id:"You're paying"})}),(0,C.jsxs)("div",{className:"flex space-x-2",children:[(0,C.jsx)("div",{className:"flex item-center ml-1 cursor-pointer hover:text-white-50",onClick:Ft,children:(0,C.jsx)(R,{control:J,name:"fromTokenAddress",className:"hover:text-white-50"})}),(0,C.jsx)(Ne,{setValue:L,control:J,name:"fromTokenAddress"})]})]}),(0,C.jsx)("div",{className:(0,j.cn)("p-4 h-[72px] border border-transparent relative bg-[#EFF0F0] dark:bg-v2-background-dark rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark"),children:(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsx)(S,{disableTokenSelect:"sell"===(null===a||void 0===a?void 0:a.side),getValues:te,control:J,modalId:Et,name:"fromTokenAddress"}),(0,C.jsx)("span",{className:"flex-1 text-right",children:(0,C.jsx)(I,{control:J,name:"fromValue"})})]})}),(0,C.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,C.jsx)("label",{className:"text-xs md:text-sm font-medium text-black/90 dark:text-white",children:(0,C.jsx)(c.cC,{id:"To receive"})}),(0,C.jsx)("div",{className:"flex",children:(0,C.jsx)(R,{control:J,name:"toTokenAddress"})})]}),(0,C.jsx)("div",{className:"p-4 h-[72px] border border-[#EFF0F0] dark:border-0 dark:bg-[rgba(14,19,32,0.3)] rounded-xl flex flex-col space-y-3",children:(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsx)(S,{disableTokenSelect:"buy"===(null===a||void 0===a?void 0:a.side),getValues:te,control:J,modalId:Et,name:"toTokenAddress"}),(0,C.jsx)("span",{className:"flex-1 text-right h-10",children:Gt?(0,C.jsx)(yt.Z,{className:"outline-none",decimals:0,onChange:function(){},value:void 0,disabled:!0}):(0,C.jsx)(I,{control:J,name:"toValue",disabled:!0,loading:He})})]})})]}),(0,C.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,C.jsx)("div",{className:"",children:(0,C.jsx)(V.ZP,{loading:He,control:J})}),(0,C.jsx)(Vt,{loading:He,control:J})]}),(0,C.jsx)(Lt,{isLaunchPage:A,loading:He,control:J,error:et,moreErrors:{notTradableYet:Gt}}),Qe.size>0&&(0,C.jsx)("p",{className:"text-xs mt-2",children:(0,C.jsx)(c.cC,{id:"Disabled Amms: {0}",values:{0:Array.from(Qe).map((function(e){return Xe.get(e)})).join(", ")}})})]})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"flex justify-end mb-2",children:(0,C.jsx)(ke,{sessionSlippage:we,refresh:Ue,loading:He})}),(0,C.jsx)(Rt,{}),(0,C.jsx)("div",{className:"bg-v2-background rounded-2xl p-4 shadow-swap2-dark",children:(0,C.jsxs)("form",{onSubmit:Z(Ct),children:[(0,C.jsxs)("div",{className:"flex-col space-y-2 relative",children:[(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("label",{htmlFor:"fromValue",className:"text-xs sm:text-sm font-medium text-black/90 dark:text-white whitespace-nowrap",children:(0,C.jsx)(c.cC,{id:"You're paying"})}),(0,C.jsxs)("div",{className:"flex space-x-2",children:[(0,C.jsx)(R,{control:J,name:"fromTokenAddress",useWSol:v}),(0,C.jsx)(Ne,{onActionClicked:function(){qe.current=!1},setValue:L,control:J,name:"fromTokenAddress"})]})]}),(0,C.jsx)("div",{className:(0,j.cn)("p-4 h-[72px] border border-transparent relative rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark",!1===qe.current?"bg-v2-background-dark":"!bg-[rgba(14,19,32,0.3)]"),children:(0,C.jsxs)("div",{ref:Ht,className:"flex",children:[(0,C.jsx)(S,{getValues:te,control:J,modalId:Et,name:"fromTokenAddress"}),(0,C.jsx)("span",{className:"flex-1 text-right",children:(0,C.jsx)(I,{control:J,name:"fromValue",loading:!!qe.current&&He,onKeyDown:function(e){console.log(Zt({},e)),qe.current=!1},placeholder:ee?Be===wt.jr.ExactIn?"0.00":"":"0.00"})})]})}),Le&&(0,C.jsx)(Dt,{tokenInfo:Le}),(0,C.jsxs)("div",{className:"relative flex justify-center",children:[(0,C.jsx)("hr",{className:"absolute w-full border-jupiter-input-light dark:border-[rgba(25,35,45,0.35)] top-[calc(50%-1px)] -z-0"}),(0,C.jsx)("div",{className:"inline-block z-10",children:(0,C.jsx)("button",{type:"button",className:(0,j.cn)("group/flip bg-[#EBEFF1] dark:bg-v2-background w-8 h-8 rounded-full cursor-pointer flex flex-col justify-center border-[3px] dark:border-[rgba(25,35,45,0.75)] dark:text-white-25","dark:hover:border-v2-primary dark:hover:shadow-swap-input-dark"),onClick:It,children:(0,C.jsx)("span",{className:"w-full text-white/50 fill-current flex justify-center transition-none group-hover/flip:text-v2-primary/50 dark:group-hover/flip:text-v2-primary",children:(0,C.jsx)(it.Z,{})})})})]}),(0,C.jsxs)("div",{className:"flex justify-between",children:[(0,C.jsx)("label",{className:"text-xs sm:text-sm font-medium text-black/90 dark:text-white",children:(0,C.jsx)(c.cC,{id:"To receive"})}),(0,C.jsx)("div",{className:"flex",children:(0,C.jsx)(R,{control:J,name:"toTokenAddress",useWSol:v})})]}),(0,C.jsx)("div",{className:(0,j.cn)("p-4 h-[72px] border border-transparent relative rounded-xl flex flex-col space-y-3 group","focus-within:border-v2-primary/50 focus-within:shadow-swap-input-dark","hover:bg-v2-background-dark",!0===qe.current?"bg-v2-background-dark":"bg-[rgba(14,19,32,0.3)]"),children:(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsx)(S,{getValues:te,control:J,modalId:Et,name:"toTokenAddress"}),(0,C.jsx)("span",{className:"flex-1 text-right h-10",children:(0,C.jsx)(I,{control:J,name:"toValue",loading:!qe.current&&He,onKeyDown:function(e){e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(qe.current=!0)},placeholder:ee?Be===wt.jr.ExactOut?"0.00":"":"0.00"})})]})}),Fe&&(0,C.jsx)(Dt,{tokenInfo:Fe})]}),(0,C.jsx)("div",{className:"mt-3 flex gap-x-1",children:(0,C.jsx)(V.ZP,{loading:He,control:J})}),qe.current&&(0,C.jsx)(Mt,{}),(0,C.jsx)(Lt,{isLaunchPage:A,loading:He,control:J,error:et}),Qe.size>0&&(0,C.jsx)("p",{className:"text-xs mt-2",children:(0,C.jsx)(c.cC,{id:"Disabled Amms: {0}",values:{0:Array.from(Qe).map((function(e){return Xe.get(e)})).join(", ")}})})]})}),(0,C.jsx)(nt,{loading:He,control:J,intervalRefresher:(0,C.jsx)(rt.Z,{value:null===(e=te().fromValue)||void 0===e?void 0:e.floatValue,isSubmitting:X,lastRefreshTimestamp:Ye,refresh:Ue})})]})}),[A,we,Ue,He,Z,Ct,J,v,L,te,Le,It,Fe,et,Qe,X,Ye,Ft,null===a||void 0===a?void 0:a.side,Gt,Xe,ee,Be])}},14640:function(e,t,n){var r=n(7761),s=n(93981),o=n(24684),i=n(5100);t.Z=function(e){var t=e.selectedRoute,n=e.hasEnoughSOL,a=(0,o.tX)(),l=(0,o.gJ)(),c=(0,i.Os)().connected;return{errors:s.useMemo((function(){var e=[];return 100*Number((null===t||void 0===t?void 0:t.quoteResponse.priceImpactPct)||0)>5&&e.push(r.ag._("Price impact more than 5%")),a.isDanger&&e.push(r.ag._("{0}% more expensive than Birdeye rate",{0:a.formattedPercent})),c&&!n&&l&&(l.openOrdersDeposits.length||l.ataDeposits.length?e.push(r.ag._("You need at least {0} SOL to pay for fees and deposits",{0:l.minimumSOLForTransaction/Math.pow(10,9)})):e.push(r.ag._("You need at least {0} SOL to pay for fees",{0:l.minimumSOLForTransaction/Math.pow(10,9)}))),e}),[null===t||void 0===t?void 0:t.quoteResponse.priceImpactPct,a.isDanger,a.formattedPercent,c,n,l])}}},24684:function(e,t,n){n.d(t,{tX:function(){return T},Gl:function(){return y},on:function(){return C},gJ:function(){return S}});var r=n(63956),s=n(93981),o=n(13838),i=n(9364),a=n(3011),l=n(31781),c=n(27195),u=n(8857),d=n.n(u),p=n(88825),m=n(41144),x=n(59295);var f=n(5100),h=n(76613),v=n(44495);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=(0,i.cn)({inputTokenInfo:void 0,outputTokenInfo:void 0}),w=(0,i.cn)(null),k=(0,i.cn)({isCheaper:!1,isMoreExp:!1,isWithinTwoPercent:!1,isWithinFivePercent:!1,isDanger:!1,isWarning:!1,percent:0,formattedPercent:"",rate:null,rateDiff:null,apiURL:""}),y=function(e,t,n){var r=(0,f.Bn)().getTokenInfo,i=(0,f.jB)().useWSol,l=(0,a.b9)(j),u=(0,a.b9)(w),g=(0,a.b9)(k),y=(0,f.gZ)().addressToTokenAccountMap,C=(0,s.useMemo)((function(){var e=new Map;return y.forEach((function(t,n){e.set(t.info.mint.toBase58(),t.pubkey.toBase58())})),e}),[y]),S=(0,s.useMemo)((function(){return[t?r(t):void 0,n?r(n):void 0]}),[r,t,n]),T=S[0],A=S[1];(0,v.Z)((function(){l({inputTokenInfo:T,outputTokenInfo:A})}),[T,A,l]),(0,v.Z)((function(){u(e?N(e,C,!i):null)}),[e,u,C,i]);var M=function(e){var t=e.inputAmount,n=e.inputTokenInfo,r=e.outputAmount,i=e.outputTokenInfo,a=(null===n||void 0===n?void 0:n.address)||"",l=(null===i||void 0===i?void 0:i.address)||"",u=(0,s.useMemo)((function(){return"https://public-api.birdeye.so/defi/multi_price?list_address=".concat(a,",").concat(l)}),[a,l]),f=(0,p.aM)([u],(0,c.Z)(d().mark((function e(){var t,n,r,s,i,c,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&l){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,m.ZP.get(u,{headers:{"X-API-KEY":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NzI5MDEwNzZ9.c66gFnI20ymHoPWapB0JgISzqDIK6Q_Zg0oAVp8Ssyc"}}).json();case 5:return i=e.sent,c=i.data,p=null!==(t=c[a])&&void 0!==t&&t.value&&null!==(n=c[l])&&void 0!==n&&n.value?new o.Z(null===(r=c[a])||void 0===r?void 0:r.value).div(new o.Z(null===(s=c[l])||void 0===s?void 0:s.value)):null,e.abrupt("return",p);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),{refetchInterval:3e4,staleTime:3e4}),h=(0,s.useMemo)((function(){return f.data?f.data.toNumber():null}),[f.data]),v=(0,s.useMemo)((function(){if(h&&n&&i&&t&&r){var e=(0,x.c)({inAmount:t,inputDecimal:n.decimals,outAmount:r,outputDecimal:i.decimals},!0);if(e&&h)return new o.Z(e).div(h).toDecimalPlaces(3).toNumber()}return null}),[h,t,r,n,i]);return(0,s.useMemo)((function(){return{rate:h,rateDiff:v,apiURL:u}}),[h,v,u])}({inputTokenInfo:T,outputTokenInfo:A,inputAmount:null===e||void 0===e?void 0:e.inAmount,outputAmount:null===e||void 0===e?void 0:e.outAmount}),P=(0,s.useMemo)((function(){var e=null===M||void 0===M?void 0:M.rateDiff;if("number"!==typeof e)return k.init;var t=e>=1,n=e<1,r=n?1-e<=.02:e-1<=.02,s=n?1-e<=.05:e-1<=.05,i=!t&&!r&&s,a=!t&&!s,l=n?new o.Z(1).minus(e).mul(100).toDecimalPlaces(3).toNumber():new o.Z(e).minus(1).mul(100).toDecimalPlaces(3).toNumber();return b({isCheaper:t,isMoreExp:n,isWithinTwoPercent:r,isWithinFivePercent:s,isWarning:i,isDanger:a,percent:l,formattedPercent:h.uf.format(l)},M)}),[M]);(0,v.Z)((function(){g(P)}),[g,P])},N=function(e,t,n){var r=new o.Z(e.priceImpactPct||0).mul(100).toNumber();return b({isHighImpact:r>5,isMediumImpact:r>=2&&r<=5,priceImpact:r},(0,l.rR)(e,t,new Map,n,!0))},C=function(){return(0,a.Dv)(j)},S=function(){return(0,a.Dv)(w)},T=function(){return(0,a.Dv)(k)}},16941:function(e,t,n){var r=n(93981),s=n(89388),o=n(29541);t.Z=function(e){var t=e.idx,n=e.itemsCount,i=e.className,a=void 0===i?"":i,l=e.onClick,c=e.highlighted,u=e.roundBorder,d=e.children,p="left"===u?"v2-border-gradient-left":"right"===u?"v2-border-gradient-right":void 0,m=(0,r.useMemo)((function(){if(t>0&&t<n)return"border-l border-black/10 dark:border-white/5"}),[t,n]);return(0,o.jsx)("button",{type:"button",className:(0,s.cn)("".concat(m," ").concat("relative flex-1 py-4 px-1 text-black-50 dark:text-white-50 dark:bg-[#1B1B1E]"," ").concat(a," relative"),c&&"v2-border-gradient ".concat(p," bg-v2-dark-gradient bg-transparent dark:text-white")),onClick:l,children:(0,o.jsx)("div",{className:"h-full w-full leading-none flex justify-center items-center",children:d})})}},55948:function(e,t,n){var r=n(29541);t.Z=function(e){var t=e.className,n=void 0===t?"":t;return(0,r.jsx)("svg",{className:n,width:"10",height:"6",viewBox:"0 0 10 6",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.292893 0.292893C0.683416 -0.097631 1.31658 -0.097631 1.7071 0.292893L4.99999 3.58579L8.29288 0.292893C8.6834 -0.0976311 9.31657 -0.0976311 9.70709 0.292893C10.0976 0.683417 10.0976 1.31658 9.70709 1.70711L5.7071 5.70711C5.31657 6.09763 4.68341 6.09763 4.29289 5.70711L0.292893 1.70711C-0.0976309 1.31658 -0.0976309 0.683417 0.292893 0.292893Z",fill:"currentColor"})})}}}]);
//# sourceMappingURL=2013-5565f6624c5488f3.js.map